From nobody at sheep.berlios.de  Tue Apr  5 23:35:38 2005
From: nobody at sheep.berlios.de (mblaschke)
Date: Tue, 5 Apr 2005 23:35:38 +0200
Subject: [phpmediadb-cvs] phpmediadb-cvs/install insert-data.sql,1.3,1.4
Message-ID: <200504052135.j35LZcm11239@bat.berlios.de>

Update of /cvsroot/phpmediadb/phpmediadb-cvs/install
In directory sheep:/tmp/cvs-serv8183/install

Modified Files:
	insert-data.sql 
Log Message:
* Updated data for i18n-functions

Index: insert-data.sql
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/install/insert-data.sql,v
retrieving revision 1.3
retrieving revision 1.4
diff -u -d -r1.3 -r1.4
--- insert-data.sql	27 Mar 2005 01:16:13 -0000	1.3
+++ insert-data.sql	5 Apr 2005 21:35:36 -0000	1.4
@@ -49,48 +49,48 @@
 --
 
 INSERT INTO `MediaCodecs` (`MediaCodecID`, `ItemTypeID`, `MediaCodecName`) VALUES (1, 1, 'MP3'),
-(2, 1, 'OGG Vorbis'),
-(3, 1, 'WAVE'),
-(4, 1, 'WMA'),
-(5, 1, 'AC3'),
-(6, 1, 'MP3Pro'),
-(7, 1, 'MPEGPlus'),
-(8, 1, 'AAC'),
-(9, 2, 'DivX'),
-(10, 2, 'XviD'),
-(11, 2, 'MPEG4'),
-(12, 2, 'Dirac'),
-(15, 2, 'MPEG2'),
-(14, 2, 'Quicktime'),
-(16, 1, 'AIFF/AIFC'),
-(18, 1, 'PCM'),
-(19, 3, 'PDF'),
-(20, 3, 'Word (DOC)'),
-(21, 3, 'OpenOffice (SWX)'),
-(22, 3, 'RTF');
+(2, 1, 'Codec_Vorbis'),
+(3, 1, 'Codec_WAVE'),
+(4, 1, 'Codec_WMA'),
+(5, 1, 'Codec_AC3'),
+(6, 1, 'Codec_MP3Pro'),
+(7, 1, 'Codec_MPEGPlus'),
+(8, 1, 'Codec_AAC'),
+(9, 2, 'Codec_Divx'),
+(10, 2, 'Codec_Xvid'),
+(11, 2, 'Codec_MPEG4'),
+(12, 2, 'Codec_Dirac'),
+(15, 2, 'Codec_MPEG2'),
+(14, 2, 'Codec_Quicktime'),
+(16, 1, 'Codec_AIFF_AIFC'),
+(18, 1, 'Codec_PCM'),
+(19, 3, 'Codec_PDF'),
+(20, 3, 'Codec_Word'),
+(21, 3, 'Codec_OpenOffice'),
+(22, 3, 'Codec_RTF');
 
 --
 -- Daten f?r Tabelle `mediaformats`
 --
 
 INSERT INTO `MediaFormats` (`MediaFormatID`, `ItemTypeID`, `MediaFormatName`) VALUES (1, 1, 'Datei'),
-(2, 1, 'AudioCD'),
-(3, 1, 'AudioDVD'),
-(4, 1, 'MiniDisc'),
-(5, 1, 'Kassette'),
-(6, 2, 'DV'),
-(7, 2, 'VHS'),
-(8, 2, 'SVHS'),
-(9, 2, 'DVD'),
-(10, 2, 'Datei'),
-(11, 2, 'VCD'),
-(12, 2, 'SVCD'),
-(13, 2, 'Hi8'),
-(14, 2, 'MiniDV'),
-(15, 2, 'MiniDVD'),
-(16, 2, 'Video8'),
-(17, 3, 'Hardcover'),
-(18, 3, 'Softcover'),
-(19, 3, 'Datei');
+(2, 1, 'Format_AudioCD'),
+(3, 1, 'Format_AudioDVD'),
+(4, 1, 'Format_MiniDisc'),
+(5, 1, 'Format_Cassette'),
+(6, 2, 'Format_DV'),
+(7, 2, 'Format_VHS'),
+(8, 2, 'Format_SVHS'),
+(9, 2, 'Format_DVD'),
+(10, 2, 'Format_File'),
+(11, 2, 'Format_VCD'),
+(12, 2, 'Format_SVCD'),
+(13, 2, 'Format_Hi8'),
+(14, 2, 'Format_MiniDV'),
+(15, 2, 'Format_MiniDVD'),
+(16, 2, 'Format_Video8'),
+(17, 3, 'Format_Hardcover'),
+(18, 3, 'Format_Softcover'),
+(19, 3, 'Format_File');
 
 -- EOF -- EOF -- EOF -- EOF -- EOF -- EOF -- EOF -- EOF -- EOF -- EOF -- EOF --



From nobody at sheep.berlios.de  Tue Apr  5 23:36:07 2005
From: nobody at sheep.berlios.de (mblaschke)
Date: Tue, 5 Apr 2005 23:36:07 +0200
Subject: [phpmediadb-cvs] phpmediadb-cvs/_source/tier.configuration/templates body.message.tpl,NONE,1.1
Message-ID: <200504052136.j35La7m11249@bat.berlios.de>

Update of /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.configuration/templates
In directory sheep:/tmp/cvs-serv8221/_source/tier.configuration/templates

Added Files:
	body.message.tpl 
Log Message:
* Initial revision

--- NEW FILE: body.message.tpl ---
<div class="phpmediadb-body-message">
	{$MESSAGE|default:"%MESSAGE%"}
</div>


From nobody at sheep.berlios.de  Tue Apr  5 23:36:21 2005
From: nobody at sheep.berlios.de (mblaschke)
Date: Tue, 5 Apr 2005 23:36:21 +0200
Subject: [phpmediadb-cvs] phpmediadb-cvs/_source/tier.configuration/templates overall.menu.tpl,1.1,1.2
Message-ID: <200504052136.j35LaLm11253@bat.berlios.de>

Update of /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.configuration/templates
In directory sheep:/tmp/cvs-serv8226/_source/tier.configuration/templates

Modified Files:
	overall.menu.tpl 
Log Message:
* Added menuitem "Add Item"

Index: overall.menu.tpl
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.configuration/templates/overall.menu.tpl,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- overall.menu.tpl	8 Mar 2005 17:54:52 -0000	1.1
+++ overall.menu.tpl	5 Apr 2005 21:36:18 -0000	1.2
@@ -27,5 +27,12 @@
 			{$I18N.MENU_ABOUT|default:"%MENU_ABOUT%"}
 		</a>
 	</td></tr>
-	
+	<tr><td>&nbsp;</td></tr>
+	<tr><th class="phpmediadb-menu-title">{$I18N.MENU_ADMINISTRATION_TITLE|default:"%MENU_ADMINISTRATION_TITLE%"}</th></tr>
+	<tr><td class="phpmediadb-menu-item" id="phpmediadb-menu-item-additem">
+		<a href="{$CONFIGURATION.ROOTPATH}admin/item-add.php" onFocus="javascript:if(this.blur)this.blur()">
+			<img src="{$CONFIGURATION.ROOTPATH}_layout/images/icons/nav-additem.png" alt="{$I18N.MENU_ADDITEM|default:"%MENU_ADDITEM%"}" />
+			{$I18N.MENU_ADDITEM|default:"%MENU_ADDITEM%"}
+		</a>
+	</td></tr>
 </table>



From nobody at sheep.berlios.de  Wed Apr  6 15:50:15 2005
From: nobody at sheep.berlios.de (bruf)
Date: Wed, 6 Apr 2005 15:50:15 +0200
Subject: [phpmediadb-cvs] phpmediadb-cvs/admin item-session.php,1.9,1.10
Message-ID: <200504061350.j36DoFm05111@bat.berlios.de>

Update of /cvsroot/phpmediadb/phpmediadb-cvs/admin
In directory sheep:/tmp/cvs-serv11866/admin

Modified Files:
	item-session.php 
Log Message:
* Fixed syntax mistakes

Index: item-session.php
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/admin/item-session.php,v
retrieving revision 1.9
retrieving revision 1.10
diff -u -d -r1.9 -r1.10
--- item-session.php	31 Mar 2005 16:25:22 -0000	1.9
+++ item-session.php	6 Apr 2005 13:50:12 -0000	1.10
@@ -26,7 +26,7 @@
 	@$PHPMEDIADB->PRESENTATION->CONTENTVARS->addNode( 'INPUTSIZE', $itemSize );
 	
 	/* get database-vars */
-	$categories			= $PHPMEDIADB->BUSINESS->CATEGORIES->getList();
+	$categories			= $PHPMEDIADB->BUSINESS->CATEGORIES->getListByItemType( $sessionItem['type'] );
 	$formats			= $PHPMEDIADB->BUSINESS->FORMATS->getListByItemType( $sessionItem['type'] );
 	$ageRestrictions	= $PHPMEDIADB->BUSINESS->AGERESTRICTIONS->getList();
 	$codecs				= $PHPMEDIADB->BUSINESS->CODECS->getListByItemType( $sessionItem['type'] );
@@ -36,7 +36,7 @@
 	$formats			= $PHPMEDIADB->BUSINESS->FORMATS->translate( $formats );
 	$ageRestrictions	= $PHPMEDIADB->BUSINESS->AGERESTRICTIONS->translate( $ageRestrictions );
 	$codecs				= $PHPMEDIADB->BUSINESS->CODECS->translate( $codecs );
-	
+
 	/* assign database-vars */
 	@$PHPMEDIADB->PRESENTATION->CONTENTVARS->addNode( 'DATA.CATEGORIES', $categories );
 	@$PHPMEDIADB->PRESENTATION->CONTENTVARS->addNode( 'DATA.MEDIAFORMATS', $formats );



From nobody at sheep.berlios.de  Wed Apr  6 15:51:05 2005
From: nobody at sheep.berlios.de (bruf)
Date: Wed, 6 Apr 2005 15:51:05 +0200
Subject: [phpmediadb-cvs] phpmediadb-cvs/_source/tier.business class.phpmediadb_business_agerestrictions.php,1.6,1.7
Message-ID: <200504061351.j36Dp5m05130@bat.berlios.de>

Update of /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.business
In directory sheep:/tmp/cvs-serv11937/_source/tier.business

Modified Files:
	class.phpmediadb_business_agerestrictions.php 
Log Message:
* Fixed syntax mistakes

Index: class.phpmediadb_business_agerestrictions.php
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.business/class.phpmediadb_business_agerestrictions.php,v
retrieving revision 1.6
retrieving revision 1.7
diff -u -d -r1.6 -r1.7
--- class.phpmediadb_business_agerestrictions.php	31 Mar 2005 16:27:02 -0000	1.6
+++ class.phpmediadb_business_agerestrictions.php	6 Apr 2005 13:51:02 -0000	1.7
@@ -190,15 +190,12 @@
 	 */
 	public function translate( $data )
 	{
-		/* init */
-		$returnValue = false;
-		
 		/* translate database data */
 		foreach( $data as $key => $value )
-			$returnValue[$key]['mediaagerestriction'] = $this->PHPMEDIADB->PRESENTATION->I18N->translate( $data[$key]['mediaagerestriction'] );
+			$data[$key]['mediaagerestriction'] = $this->PHPMEDIADB->PRESENTATION->I18N->translate( $data[$key]['mediaagerestriction'] );
 		
 		/* return data */
-		return $returnValue;
+		return $data;
 	}
 	
 //-----------------------------------------------------------------------------



From nobody at sheep.berlios.de  Wed Apr  6 15:51:22 2005
From: nobody at sheep.berlios.de (bruf)
Date: Wed, 6 Apr 2005 15:51:22 +0200
Subject: [phpmediadb-cvs] phpmediadb-cvs/_source/tier.business class.phpmediadb_business_codecs.php,1.6,1.7
Message-ID: <200504061351.j36DpMm05135@bat.berlios.de>

Update of /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.business
In directory sheep:/tmp/cvs-serv11981/_source/tier.business

Modified Files:
	class.phpmediadb_business_codecs.php 
Log Message:
* Fixed syntax mistakes

Index: class.phpmediadb_business_codecs.php
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.business/class.phpmediadb_business_codecs.php,v
retrieving revision 1.6
retrieving revision 1.7
diff -u -d -r1.6 -r1.7
--- class.phpmediadb_business_codecs.php	31 Mar 2005 16:27:07 -0000	1.6
+++ class.phpmediadb_business_codecs.php	6 Apr 2005 13:51:20 -0000	1.7
@@ -118,6 +118,7 @@
 		/* return data */
 		return $returnValue;
 	}
+	
 //-----------------------------------------------------------------------------
 	/**
 	 * Adds one item into the database
@@ -209,15 +210,12 @@
 	 */
 	public function translate( $data )
 	{
-		/* init */
-		$returnValue = false;
-		
 		/* translate database data */
 		foreach( $data as $key => $value )
-			$returnValue[$key]['mediacodecname'] = $this->PHPMEDIADB->PRESENTATION->I18N->translate( $data[$key]['mediacodecname'] );
+			$data[$key]['mediacodecname'] = $this->PHPMEDIADB->PRESENTATION->I18N->translate( $data[$key]['mediacodecname'] );
 		
 		/* return data */
-		return $returnValue;
+		return $data;
 	}
 	
 //-----------------------------------------------------------------------------



From nobody at sheep.berlios.de  Wed Apr  6 15:51:34 2005
From: nobody at sheep.berlios.de (bruf)
Date: Wed, 6 Apr 2005 15:51:34 +0200
Subject: [phpmediadb-cvs] phpmediadb-cvs/_source/tier.business class.phpmediadb_business_formats.php,1.6,1.7
Message-ID: <200504061351.j36DpYm05139@bat.berlios.de>

Update of /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.business
In directory sheep:/tmp/cvs-serv12005/_source/tier.business

Modified Files:
	class.phpmediadb_business_formats.php 
Log Message:
* Fixed syntax mistakes

Index: class.phpmediadb_business_formats.php
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.business/class.phpmediadb_business_formats.php,v
retrieving revision 1.6
retrieving revision 1.7
diff -u -d -r1.6 -r1.7
--- class.phpmediadb_business_formats.php	31 Mar 2005 16:27:07 -0000	1.6
+++ class.phpmediadb_business_formats.php	6 Apr 2005 13:51:32 -0000	1.7
@@ -210,15 +210,12 @@
 	 */
 	public function translate( $data )
 	{
-		/* init */
-		$returnValue = false;
-		
 		/* translate database data */
 		foreach( $data as $key => $value )
-			$returnValue[$key]['mediaformatname'] = $this->PHPMEDIADB->PRESENTATION->I18N->translate( $data[$key]['mediaformatname'] );
+			$data[$key]['mediaformatname'] = $this->PHPMEDIADB->PRESENTATION->I18N->translate( $data[$key]['mediaformatname'] );
 		
 		/* return data */
-		return $returnValue;
+		return $data;
 	}
 	
 //-----------------------------------------------------------------------------



From nobody at sheep.berlios.de  Wed Apr  6 15:51:58 2005
From: nobody at sheep.berlios.de (bruf)
Date: Wed, 6 Apr 2005 15:51:58 +0200
Subject: [phpmediadb-cvs] phpmediadb-cvs/_source/tier.business class.phpmediadb_business_categories.php,1.6,1.7
Message-ID: <200504061351.j36Dpwm05145@bat.berlios.de>

Update of /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.business
In directory sheep:/tmp/cvs-serv12054/_source/tier.business

Modified Files:
	class.phpmediadb_business_categories.php 
Log Message:
* Fixed syntax mistakes

Index: class.phpmediadb_business_categories.php
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.business/class.phpmediadb_business_categories.php,v
retrieving revision 1.6
retrieving revision 1.7
diff -u -d -r1.6 -r1.7
--- class.phpmediadb_business_categories.php	31 Mar 2005 16:27:07 -0000	1.6
+++ class.phpmediadb_business_categories.php	6 Apr 2005 13:51:55 -0000	1.7
@@ -83,6 +83,27 @@
 	
 //-----------------------------------------------------------------------------
 	/**
+	 * Returns the complete list of items from the database filtered by
+	 * itemtype
+	 *
+	 * @access public
+	 * @param integer $itemType Data of the item
+	 * @return array list of items
+	 */
+	public function getListByItemType( $itemType )
+	{
+		/* init */
+		$returnValue = null;
+		
+		/* delegate */
+		$returnValue = $this->DATA->CATEGORIES->getListByItemType( $itemType );
+		
+		/* return data */
+		return $returnValue;
+	}
+	
+//-----------------------------------------------------------------------------
+	/**
 	 * Returns the complete list of items from the database
 	 *
 	 * @access public
@@ -190,16 +211,13 @@
 	 * @return bool successstatus (true/false)
 	 */
 	public function translate( $data )
-	{
-		/* init */
-		$returnValue = false;
-		
+	{	
 		/* translate database data */
 		foreach( $data as $key => $value )
-			$returnValue[$key]['categoryname'] = $this->PHPMEDIADB->PRESENTATION->I18N->translate( $data[$key]['categoryname'] );
+			$data[$key]['categoryname'] = $this->PHPMEDIADB->PRESENTATION->I18N->translate( $data[$key]['categoryname'] );
 		
 		/* return data */
-		return $returnValue;
+		return $data;
 	}
 	
 //-----------------------------------------------------------------------------



From nobody at sheep.berlios.de  Wed Apr  6 15:52:37 2005
From: nobody at sheep.berlios.de (bruf)
Date: Wed, 6 Apr 2005 15:52:37 +0200
Subject: [phpmediadb-cvs] phpmediadb-cvs/_source/tier.configuration/i18n i18n.de.php,1.4,1.5
Message-ID: <200504061352.j36Dqbm05159@bat.berlios.de>

Update of /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.configuration/i18n
In directory sheep:/tmp/cvs-serv12081/_source/tier.configuration/i18n

Modified Files:
	i18n.de.php 
Log Message:
* Added some translations

Index: i18n.de.php
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.configuration/i18n/i18n.de.php,v
retrieving revision 1.4
retrieving revision 1.5
diff -u -d -r1.4 -r1.5
--- i18n.de.php	24 Mar 2005 17:13:05 -0000	1.4
+++ i18n.de.php	6 Apr 2005 13:52:34 -0000	1.5
@@ -11,6 +11,10 @@
  */
 // $i18n['STRING-ID'] = "";
 
+/******************************************************************************
+*** HTML-Translations
+******************************************************************************/
+
 /* default i18ns */
 	$i18n['OK'] = 'Akzeptieren';
 	$i18n['CANCEL'] = 'Abbrechen';
@@ -34,7 +38,7 @@
 /* media data */
 	$i18n['MEDIA_TITLE'] = 'Medientitel';
 	$i18n['MEDIA_ARTIST'] = 'Artist';
-	$i18n['MEDIA_CATEGORY'] = 'Kategorie';
+	$i18n['MEDIA_Category'] = 'Kategorie';
 	
 /* projectdata */
 	$i18n['PROJECT_SUBTITLE'] = 'Die Mediendatenbank';
@@ -56,5 +60,228 @@
 
 /* Site: HOME */
 	$i18n['HOME_WELCOME'] = 'Willkommen zu phpMediaDB';
+	
+
+/******************************************************************************
+*** SQL-Translations
+******************************************************************************/
+
+/* Categories */
+
+	$i18n['Category_Blues']							= 'Blues';
+	$i18n['Category_Classic Rock']					= 'Klassischer Rock';
+	$i18n['Category_Country']						= 'Country';
+	$i18n['Category_Dance']							= 'Dance';
+	$i18n['Category_Disco']							= 'Disco';
+	$i18n['Category_Funk']							= 'Funk';
+	$i18n['Category_Grunge']						= 'Grunge';
+	$i18n['Category_Hip-Hop']						= 'Hip-Hop';
+	$i18n['Category_Jazz']							= 'Jazz';
+	$i18n['Category_Metal']							= 'Metal';
+	$i18n['Category_New Age']						= 'New Age';
+	$i18n['Category_Oldies']						= 'Oldies';
+	$i18n['Category_Other']							= 'Andere';
+	$i18n['Category_Pop']							= 'Pop';
+	$i18n['Category_R&B']							= 'R&B';
+	$i18n['Category_Rap']							= 'Rap';
+	$i18n['Category_Reggae']						= 'Reggae';
+	$i18n['Category_Rock']							= 'Rock';
+	$i18n['Category_Techno']						= 'Techno';
+	$i18n['Category_Industrial']					= 'Industrial';
+	$i18n['Category_Alternative']					= 'Alternative';
+//	$i18n['Category_Ska']							= 'Ska';
+	$i18n['Category_Death Metal']					= 'Death Metal';
+	$i18n['Category_Pranks']						= 'Pranks';
+	$i18n['Category_Soundtrack']					= 'Soundtrack';
+	$i18n['Category_Euro-Techno']					= 'Euro-Techno';
+	$i18n['Category_Ambient']						= 'Ambient';
+	$i18n['Category_Trip-Hop']						= 'Trip-Hop';
+	$i18n['Category_Vocal']							= 'Vocal';
+	$i18n['Category_Jazz+Funk']						= 'Jazz+Funk';
+	$i18n['Category_Fusion']						= 'Fusion';
+	$i18n['Category_Trance']						= 'Trance';
+	$i18n['Category_Classical']						= 'Klassisch';
+	$i18n['Category_Instrumental']					= 'Instrumetal';
+	$i18n['Category_Acid']							= 'Acid';
+	$i18n['Category_House']							= 'House';
+	$i18n['Category_Game']							= 'Game';
+	$i18n['Category_Sound Clip']					= 'Sound Clip';
+	$i18n['Category_Gospel']						= 'Gospel';
+	$i18n['Category_Noise']							= 'Noise';
+	$i18n['Category_AlternRock']					= 'AlternRock';
+	$i18n['Category_Bass']							= 'Bass';
+	$i18n['Category_Soul']							= 'Soul';
+	$i18n['Category_Punk']							= 'Punk';
+	$i18n['Category_Space']							= 'Space';
+	$i18n['Category_Meditative']					= 'Meditativ';
+	$i18n['Category_Instrumental Pop']				= 'Instrumental Pop';
+	$i18n['Category_Instrumental Rock']				= 'Instrumental Rock';
+	$i18n['Category_Ethnic']						= 'Ethnic';
+	$i18n['Category_Gothic']						= 'Gothic';
+	$i18n['Category_Darkwave']						= 'Darkwave';
+	$i18n['Category_Techno-Industrial']				= 'Techno-Industrial';
+	$i18n['Category_Electronic']					= 'Eletronic';
+	$i18n['Category_Pop-Folk']						= 'Pop-Folk';
+	$i18n['Category_Eurodance']						= 'Eurodance';
+	$i18n['Category_Dream']							= 'Dream';
+	$i18n['Category_Southern Rock']					= 'S?dl?ndischer Rock';
+	$i18n['Category_Comedy']						= 'Comedy';
+	$i18n['Category_Cult']							= 'Kult';
+	$i18n['Category_Gangsta']						= 'Gangsta';
+	$i18n['Category_Top 40']						= 'Top 40';
+//	$i18n['Category_Christian Rap']					= 'Christian Rap';
+	$i18n['Category_Pop/Funk']						= 'Pop/Funk';
+	$i18n['Category_Jungle']						= 'Jungle';
+	$i18n['Category_Native American']				= 'Native American';
+	$i18n['Category_Cabaret']						= 'Cabaret';
+	$i18n['Category_New Wave']						= 'New Wave';
+	$i18n['Category_Psychadelic']					= 'Psychadelic';
+	$i18n['Category_Rave']							= 'Rave';
+	$i18n['Category_Showtunes']						= 'Showtunes';
+	$i18n['Category_Trailer']						= 'Trailer';
+	$i18n['Category_Lo-Fi']							= 'Lo-Fi';
+	$i18n['Category_Tribal']						= 'Tribal';
+	$i18n['Category_Acid Punk']						= 'Acid Punk';
+	$i18n['Category_Acid Jazz']						= 'Acid Jazz';
+	$i18n['Category_Polka']							= 'Polka';
+	$i18n['Category_Retro']							= 'Retro';
+	$i18n['Category_Musical']						= 'Musical';
+	$i18n['Category_Rock & Roll']					= 'Rock & Roll';
+	$i18n['Category_Hard Rock']						= 'Hard Rock';
+	$i18n['Category_Folk']							= 'Folk';
+	$i18n['Category_Folk-Rock']						= 'Folk-Rock';
+	$i18n['Category_National Folk']					= 'National Folk';
+	$i18n['Category_Swing']							= 'Swing';
+	$i18n['Category_Fast Fusion']					= 'Fast Fusion';
+	$i18n['Category_Bebob']							= 'Bebob';
+	$i18n['Category_Latin']							= 'Latin';
+	$i18n['Category_Revival']						= 'Revival';
+	$i18n['Category_Celtic']						= 'Celtic';
+	$i18n['Category_Bluegrass']						= 'Bluegrass';
+	$i18n['Category_Avantgarde']					= 'Avantgarde';
+	$i18n['Category_Gothic Rock']					= 'Gothic Rock';
+	$i18n['Category_Progressive Rock']				= 'Progressive Rock';
+	$i18n['Category_Psychedelic Rock']				= 'Psychedelic Rock';
+	$i18n['Category_Symphonic Rock']				= 'Symphonic Rock';
+	$i18n['Category_Slow Rock']						= 'Slow Rock';
+	$i18n['Category_Big Band']						= 'Big Band';
+	$i18n['Category_Chorus']						= 'Chorus';
+	$i18n['Category_Easy Listening']				= 'Easy Listening';
+	$i18n['Category_Acoustic']						= 'Akustisch';
+	$i18n['Category_Humour']						= 'Humor';
+	$i18n['Category_Speech']						= 'Sprache';
+	$i18n['Category_Chanson']						= 'Chanson';
+	$i18n['Category_Opera']							= 'Oper';
+	$i18n['Category_Chamber Music']					= 'Kammermusik';
+	$i18n['Category_Sonata']						= 'Sonate';
+	$i18n['Category_Symphony']						= 'Symphonie';
+	$i18n['Category_Booty Bass']					= 'Booty Bass';
+	$i18n['Category_Primus']						= 'Priums';
+//	$i18n['Category_Porn Groove']					= 'Porn Groove';
+	$i18n['Category_Satire']						= 'Satire';
+	$i18n['Category_Slow Jam']						= 'Slow Jam';
+	$i18n['Category_Club']							= 'Club';
+	$i18n['Category_Tango']							= 'Tango';
+	$i18n['Category_Samba']							= 'Samba';
+	$i18n['Category_Folklore']						= 'Folklore';
+	$i18n['Category_Ballad']						= 'Ballade';
+	$i18n['Category_Power Ballad']					= 'Power Ballade';
+	$i18n['Category_Rhythmic Soul']					= 'Rhythmischer Soul';
+	$i18n['Category_Freestyle']						= 'Freestyle';
+	$i18n['Category_Duet']							= 'Duett';
+	$i18n['Category_Punk Rock']						= 'Punk Rock';
+	$i18n['Category_Drum Solo']						= 'Drum Solo';
+	$i18n['Category_Acapella']						= 'Acapella';
+	$i18n['Category_Euro-House']					= 'Euro-House';
+	$i18n['Category_Dance Hall']					= 'Dance Hall';
+//	$i18n['Category_Goa']							= 'Goa';
+	$i18n['Category_Drum & Bass']					= 'Drum & Bass';
+	$i18n['Category_Club-House']					= 'Club-House';
+	$i18n['Category_Hardcore']						= 'Hardcore';
+	$i18n['Category_Terror']						= 'Terror';
+	$i18n['Category_Indie']							= 'Indie';
+	$i18n['Category_BritPop']						= 'BritPop';
+//	$i18n['Category_Negerpunk']						= 'Negerpunk';
+	$i18n['Category_Polsk Punk']					= 'Polsk Punk';
+	$i18n['Category_Beat']							= 'Beat';
+//	$i18n['Category_Christian Gangsta Rap']			= 'Christin Gangsta Rap';
+	$i18n['Category_Heavy Metal']					= 'Heavy Metal';
+	$i18n['Category_Black Metal']					= 'Black Metal';
+	$i18n['Category_Crossover']						= 'Crossover';
+//	$i18n['Category_Contemporary Christian']		= 'Contemporary Christian';
+//	$i18n['Category_Christian Rock']				= 'Christian Rock';
+	$i18n['Category_Merengue']						= 'Merengue';
+	$i18n['Category_Salsa']							= 'Salsa';
+	$i18n['Category_Trash Metal']					= 'Trash Metal';
+	$i18n['Category_Anime']							= 'Anime';
+	$i18n['Category_Jpop']							= 'Jpop';
+	$i18n['Category_Synthpop']						= 'Synthpop';
+
+	$i18n['Category_Action']		= 'Action';
+	$i18n['Category_Adventure']		= 'Adventure';
+	$i18n['Category_Animation']		= 'Animation';
+	$i18n['Category_Comedy']		= 'Comedy';
+	$i18n['Category_Crime']			= 'Crime';
+	$i18n['Category_Documentary']	= 'Documentary';
+	$i18n['Category_Drama']			= 'Drama';
+	$i18n['Category_Family']		= 'Family';
+	$i18n['Category_Fantasy']		= 'Fantasy';
+	$i18n['Category_Film-Noir']		= 'Film-Noir';
+	$i18n['Category_Horror']		= 'Horror';
+	$i18n['Category_Music']			= 'Music';
+	$i18n['Category_Musical']		= 'Musical';
+	$i18n['Category_Mystery']		= 'Mystery';
+	$i18n['Category_Romance']		= 'Romance';
+	$i18n['Category_Sci-Fi']		= 'Sciene-Fiction';
+	$i18n['Category_Short']			= 'Short Movie';
+	$i18n['Category_Thriller']		= 'Thriller';
+	$i18n['Category_War']			= 'Kri';
+	$i18n['Category_Western']		= 'Western';
+	
+	$i18n['AgeRestriction_Free']		= 'Keine Beschr?nkung';
+	$i18n['AgeRestriction_6Years']		= 'Ab 6 Jahre';
+	$i18n['AgeRestriction_12Years']		= 'Ab 12 Jahre';
+	$i18n['AgeRestriction_16Years']		= 'Ab 16 Jahre';
+	$i18n['AgeRestriction_18Years']		= 'Ab 18 Jahre';
+	
+	$i18n['Codec_MP3']			= 'MP3';
+	$i18n['Codec_Vorbis']		= 'Ogg Vorbis';
+	$i18n['Codec_WAVE']			= 'Wave';
+	$i18n['Codec_WMA']			= 'WMA';
+	$i18n['Codec_AC3']			= 'AC3';
+	$i18n['Codec_MP3Pro']		= 'MP3Pro';
+	$i18n['Codec_MPEGPlus']		= 'MPEGPlus';
+	$i18n['Codec_AAC']			= 'ACC';
+	$i18n['Codec_Divx']			= 'DivX';
+	$i18n['Codec_Xvid']			= 'Xvid';
+	$i18n['Codec_MPEG4']		= 'MPEG4';
+	$i18n['Codec_Dirac']		= 'Dirac';
+	$i18n['Codec_MPEG2']		= 'MPEG2';
+	$i18n['Codec_Quicktime']	= 'Quicktime';
+	$i18n['Codec_AIFF_AIFC']	= 'AIFF/AIFC';
+	$i18n['Codec_PCM']			= 'PCM/Wave';
+	$i18n['Codec_PDF']			= 'Acrobat PDF';
+	$i18n['Codec_Word']			= 'Microsoft Word';
+	$i18n['Codec_OpenOffice']	= 'Openoffice.org';
+	$i18n['Codec_RTF']			= 'Richtext Format';
+
+	$i18n['Format_AudioCD']		= 'AudioCD';
+	$i18n['Format_AudioDVD']	= 'AudioDVD';
+	$i18n['Format_MiniDisc']	= 'MiniDisc';
+	$i18n['Format_Cassette']	= 'Kassette';
+	$i18n['Format_DV']			= 'DV';
+	$i18n['Format_VHS']			= 'VHS';
+	$i18n['Format_SVHS']		= 'SVHS';
+	$i18n['Format_DVD']			= 'DVD';
+	$i18n['Format_VCD']			= 'VideoCD';
+	$i18n['Format_SVCD']		= 'SuperVideoCD';
+	$i18n['Format_Hi8']			= 'Hi8';
+	$i18n['Format_MiniDV']		= 'MiniDV';
+	$i18n['Format_MiniDVD']		= 'MiniDVD';
+	$i18n['Format_Video8']		= 'Video8';
+	$i18n['Format_Hardcover']	= 'Hardcover';
+	$i18n['Format_Softcover']	= 'Softcover';
+	$i18n['Format_File']		= 'Datei';
+	
 //--- EOF --- EOF --- EOF --- EOF --- EOF --- EOF --- EOF --- EOF --- EOF ---
 ?>



From nobody at sheep.berlios.de  Wed Apr  6 15:52:54 2005
From: nobody at sheep.berlios.de (bruf)
Date: Wed, 6 Apr 2005 15:52:54 +0200
Subject: [phpmediadb-cvs] phpmediadb-cvs/_source/tier.configuration/i18n i18n.en.php,1.2,1.3
Message-ID: <200504061352.j36Dqsm05180@bat.berlios.de>

Update of /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.configuration/i18n
In directory sheep:/tmp/cvs-serv12106/_source/tier.configuration/i18n

Modified Files:
	i18n.en.php 
Log Message:
* Added some translations

Index: i18n.en.php
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.configuration/i18n/i18n.en.php,v
retrieving revision 1.2
retrieving revision 1.3
diff -u -d -r1.2 -r1.3
--- i18n.en.php	24 Mar 2005 17:13:05 -0000	1.2
+++ i18n.en.php	6 Apr 2005 13:52:51 -0000	1.3
@@ -11,9 +11,277 @@
  */
 // $i18n['STRING-ID'] = "";
 
-$i18n['FOOBAR'] = 'FooBar! :)';
-$i18n['FOOBAR2'] = 'FooBar2! :)';
-$i18n['FOOBAR3'] = 'FooBar3! :)';
+/******************************************************************************
+*** HTML-Translations
+******************************************************************************/
+
+/* default i18ns */
+	$i18n['OK'] = 'Accept';
+	$i18n['CANCEL'] = 'Cancel';
+	$i18n['DELETE'] = 'Delete';
+	$i18n['DELETE'] = 'Delete';
+	$i18n['INPUT_FIELD'] = 'Inputfield';
+	
+/* messages */
+	$i18n['MESSAGE_SUCCESS_SAVE']	= 'Element successful saved!';
+	
+/* errors */
+	$i18n['ERROR_INPUTSIZE']	= 'Inputsize to long.';
+	$i18n['ERROR_INPUTREGEX']	= 'Input incorrect';
+	$i18n['ERROR_OCCURRED']		= 'An inputerror occurred auftreten.';
+	$i18n['ERROR_LISTLINK']		= '[Errorlist]';
+	
+/* formular */
+	$i18n['FORM_RESET'] = 'Reset';
+	$i18n['FORM_SUBMIT'] = 'Submit';
+	
+/* media data */
+	$i18n['MEDIA_TITLE'] = 'Mediantitel';
+	$i18n['MEDIA_ARTIST'] = 'Artist';
+	$i18n['MEDIA_Category'] = 'Category';
+	
+/* projectdata */
+	$i18n['PROJECT_SUBTITLE'] = 'The Media Database';
+	$i18n['PROJECT_LICENSED_UNDER'] = 'Licensed under';
+	$i18n['PROJECT_DESCRIPTION'] = 'Dieses Projekt dient zur Erfassung von auditiven, visuellen und Printmedien. Initiert wurde dieses Projekt von Boris Ruf und Markus Blaschke im Rahmen eines Technikerprojekts an der Werner-Siemens-Schule in Stuttgart.';
+	
+/* Menu items */
+	$i18n['MENU_TITLE'] = 'Navigation';
+	$i18n['MENU_HOME'] = 'Home';
+	$i18n['MENU_SEARCH'] = 'Search';
+	$i18n['MENU_LIST'] = 'List';
+	$i18n['MENU_ABOUT'] = 'About';
+
+
+/* Itemtypes */
+	$i18n['ITEM_AUDIO'] = 'Audio';
+	$i18n['ITEM_VIDEO'] = 'Video';
+	$i18n['ITEM_PRINT'] = 'Print';
+
+/* Site: HOME */
+	$i18n['HOME_WELCOME'] = 'Welcome to phpMediaDB';
+	
+
+/******************************************************************************
+*** SQL-Translations
+******************************************************************************/
+
+/* Categories */
+
+	$i18n['Category_Blues']							= 'Blues';
+	$i18n['Category_Classic Rock']					= 'Classic Rock';
+	$i18n['Category_Country']						= 'Country';
+	$i18n['Category_Dance']							= 'Dance';
+	$i18n['Category_Disco']							= 'Disco';
+	$i18n['Category_Funk']							= 'Funk';
+	$i18n['Category_Grunge']						= 'Grunge';
+	$i18n['Category_Hip-Hop']						= 'Hip-Hop';
+	$i18n['Category_Jazz']							= 'Jazz';
+	$i18n['Category_Metal']							= 'Metal';
+	$i18n['Category_New Age']						= 'New Age';
+	$i18n['Category_Oldies']						= 'Oldies';
+	$i18n['Category_Other']							= 'Other';
+	$i18n['Category_Pop']							= 'Pop';
+	$i18n['Category_R&B']							= 'R&B';
+	$i18n['Category_Rap']							= 'Rap';
+	$i18n['Category_Reggae']						= 'Reggae';
+	$i18n['Category_Rock']							= 'Rock';
+	$i18n['Category_Techno']						= 'Techno';
+	$i18n['Category_Industrial']					= 'Industrial';
+	$i18n['Category_Alternative']					= 'Alternative';
+//	$i18n['Category_Ska']							= 'Ska';
+	$i18n['Category_Death Metal']					= 'Death Metal';
+	$i18n['Category_Pranks']						= 'Pranks';
+	$i18n['Category_Soundtrack']					= 'Soundtrack';
+	$i18n['Category_Euro-Techno']					= 'Euro-Techno';
+	$i18n['Category_Ambient']						= 'Ambient';
+	$i18n['Category_Trip-Hop']						= 'Trip-Hop';
+	$i18n['Category_Vocal']							= 'Vocal';
+	$i18n['Category_Jazz+Funk']						= 'Jazz+Funk';
+	$i18n['Category_Fusion']						= 'Fusion';
+	$i18n['Category_Trance']						= 'Trance';
+	$i18n['Category_Classical']						= 'Classical';
+	$i18n['Category_Instrumental']					= 'Instrumetal';
+	$i18n['Category_Acid']							= 'Acid';
+	$i18n['Category_House']							= 'House';
+	$i18n['Category_Game']							= 'Game';
+	$i18n['Category_Sound Clip']					= 'Sound Clip';
+	$i18n['Category_Gospel']						= 'Gospel';
+	$i18n['Category_Noise']							= 'Noise';
+	$i18n['Category_AlternRock']					= 'AlternRock';
+	$i18n['Category_Bass']							= 'Bass';
+	$i18n['Category_Soul']							= 'Soul';
+	$i18n['Category_Punk']							= 'Punk';
+	$i18n['Category_Space']							= 'Space';
+	$i18n['Category_Meditative']					= 'Meditativ';
+	$i18n['Category_Instrumental Pop']				= 'Instrumental Pop';
+	$i18n['Category_Instrumental Rock']				= 'Instrumental Rock';
+	$i18n['Category_Ethnic']						= 'Ethnic';
+	$i18n['Category_Gothic']						= 'Gothic';
+	$i18n['Category_Darkwave']						= 'Darkwave';
+	$i18n['Category_Techno-Industrial']				= 'Techno-Industrial';
+	$i18n['Category_Electronic']					= 'Eletronic';
+	$i18n['Category_Pop-Folk']						= 'Pop-Folk';
+	$i18n['Category_Eurodance']						= 'Eurodance';
+	$i18n['Category_Dream']							= 'Dream';
+	$i18n['Category_Southern Rock']					= 'Southern Rock';
+	$i18n['Category_Comedy']						= 'Comedy';
+	$i18n['Category_Cult']							= 'Kult';
+	$i18n['Category_Gangsta']						= 'Gangsta';
+	$i18n['Category_Top 40']						= 'Top 40';
+//	$i18n['Category_Christian Rap']					= 'Christian Rap';
+	$i18n['Category_Pop/Funk']						= 'Pop/Funk';
+	$i18n['Category_Jungle']						= 'Jungle';
+	$i18n['Category_Native American']				= 'Native American';
+	$i18n['Category_Cabaret']						= 'Cabaret';
+	$i18n['Category_New Wave']						= 'New Wave';
+	$i18n['Category_Psychadelic']					= 'Psychadelic';
+	$i18n['Category_Rave']							= 'Rave';
+	$i18n['Category_Showtunes']						= 'Showtunes';
+	$i18n['Category_Trailer']						= 'Trailer';
+	$i18n['Category_Lo-Fi']							= 'Lo-Fi';
+	$i18n['Category_Tribal']						= 'Tribal';
+	$i18n['Category_Acid Punk']						= 'Acid Punk';
+	$i18n['Category_Acid Jazz']						= 'Acid Jazz';
+	$i18n['Category_Polka']							= 'Polka';
+	$i18n['Category_Retro']							= 'Retro';
+	$i18n['Category_Musical']						= 'Musical';
+	$i18n['Category_Rock & Roll']					= 'Rock & Roll';
+	$i18n['Category_Hard Rock']						= 'Hard Rock';
+	$i18n['Category_Folk']							= 'Folk';
+	$i18n['Category_Folk-Rock']						= 'Folk-Rock';
+	$i18n['Category_National Folk']					= 'National Folk';
+	$i18n['Category_Swing']							= 'Swing';
+	$i18n['Category_Fast Fusion']					= 'Fast Fusion';
+	$i18n['Category_Bebob']							= 'Bebob';
+	$i18n['Category_Latin']							= 'Latin';
+	$i18n['Category_Revival']						= 'Revival';
+	$i18n['Category_Celtic']						= 'Celtic';
+	$i18n['Category_Bluegrass']						= 'Bluegrass';
+	$i18n['Category_Avantgarde']					= 'Avantgarde';
+	$i18n['Category_Gothic Rock']					= 'Gothic Rock';
+	$i18n['Category_Progressive Rock']				= 'Progressive Rock';
+	$i18n['Category_Psychedelic Rock']				= 'Psychedelic Rock';
+	$i18n['Category_Symphonic Rock']				= 'Symphonic Rock';
+	$i18n['Category_Slow Rock']						= 'Slow Rock';
+	$i18n['Category_Big Band']						= 'Big Band';
+	$i18n['Category_Chorus']						= 'Chorus';
+	$i18n['Category_Easy Listening']				= 'Easy Listening';
+	$i18n['Category_Acoustic']						= 'Acoustic';
+	$i18n['Category_Humour']						= 'Humour';
+	$i18n['Category_Speech']						= 'Speech';
+	$i18n['Category_Chanson']						= 'Chanson';
+	$i18n['Category_Opera']							= 'Opera';
+	$i18n['Category_Chamber Music']					= 'Chamber Music';
+	$i18n['Category_Sonata']						= 'Sonate';
+	$i18n['Category_Symphony']						= 'Symphony';
+	$i18n['Category_Booty Bass']					= 'Booty Bass';
+	$i18n['Category_Primus']						= 'Priums';
+//	$i18n['Category_Porn Groove']					= 'Porn Groove';
+	$i18n['Category_Satire']						= 'Satire';
+	$i18n['Category_Slow Jam']						= 'Slow Jam';
+	$i18n['Category_Club']							= 'Club';
+	$i18n['Category_Tango']							= 'Tango';
+	$i18n['Category_Samba']							= 'Samba';
+	$i18n['Category_Folklore']						= 'Folklore';
+	$i18n['Category_Ballad']						= 'Ballade';
+	$i18n['Category_Power Ballad']					= 'Power Ballade';
+	$i18n['Category_Rhythmic Soul']					= 'Rhythmic Soul';
+	$i18n['Category_Freestyle']						= 'Freestyle';
+	$i18n['Category_Duet']							= 'Duet';
+	$i18n['Category_Punk Rock']						= 'Punk Rock';
+	$i18n['Category_Drum Solo']						= 'Drum Solo';
+	$i18n['Category_Acapella']						= 'Acapella';
+	$i18n['Category_Euro-House']					= 'Euro-House';
+	$i18n['Category_Dance Hall']					= 'Dance Hall';
+//	$i18n['Category_Goa']							= 'Goa';
+	$i18n['Category_Drum & Bass']					= 'Drum & Bass';
+	$i18n['Category_Club-House']					= 'Club-House';
+	$i18n['Category_Hardcore']						= 'Hardcore';
+	$i18n['Category_Terror']						= 'Terror';
+	$i18n['Category_Indie']							= 'Indie';
+	$i18n['Category_BritPop']						= 'BritPop';
+//	$i18n['Category_Negerpunk']						= 'Negerpunk';
+	$i18n['Category_Polsk Punk']					= 'Polsk Punk';
+	$i18n['Category_Beat']							= 'Beat';
+//	$i18n['Category_Christian Gangsta Rap']			= 'Christin Gangsta Rap';
+	$i18n['Category_Heavy Metal']					= 'Heavy Metal';
+	$i18n['Category_Black Metal']					= 'Black Metal';
+	$i18n['Category_Crossover']						= 'Crossover';
+//	$i18n['Category_Contemporary Christian']		= 'Contemporary Christian';
+//	$i18n['Category_Christian Rock']				= 'Christian Rock';
+	$i18n['Category_Merengue']						= 'Merengue';
+	$i18n['Category_Salsa']							= 'Salsa';
+	$i18n['Category_Trash Metal']					= 'Trash Metal';
+	$i18n['Category_Anime']							= 'Anime';
+	$i18n['Category_Jpop']							= 'Jpop';
+	$i18n['Category_Synthpop']						= 'Synthpop';
+
+	$i18n['Category_Action']		= 'Action';
+	$i18n['Category_Adventure']		= 'Adventure';
+	$i18n['Category_Animation']		= 'Animation';
+	$i18n['Category_Comedy']		= 'Comedy';
+	$i18n['Category_Crime']			= 'Crime';
+	$i18n['Category_Documentary']	= 'Documentary';
+	$i18n['Category_Drama']			= 'Drama';
+	$i18n['Category_Family']		= 'Family';
+	$i18n['Category_Fantasy']		= 'Fantasy';
+	$i18n['Category_Film-Noir']		= 'Film-Noir';
+	$i18n['Category_Horror']		= 'Horror';
+	$i18n['Category_Music']			= 'Music';
+	$i18n['Category_Musical']		= 'Musical';
+	$i18n['Category_Mystery']		= 'Mystery';
+	$i18n['Category_Romance']		= 'Romance';
+	$i18n['Category_Sci-Fi']		= 'Sciene-Fiction';
+	$i18n['Category_Short']			= 'Short Movie';
+	$i18n['Category_Thriller']		= 'Thriller';
+	$i18n['Category_War']			= 'War';
+	$i18n['Category_Western']		= 'Western';
+	
+	$i18n['AgeRestriction_Free']		= 'Keine Beschr?nkung';
+	$i18n['AgeRestriction_6Years']		= 'Ab 6 Jahre';
+	$i18n['AgeRestriction_12Years']		= 'Ab 12 Jahre';
+	$i18n['AgeRestriction_16Years']		= 'Ab 16 Jahre';
+	$i18n['AgeRestriction_18Years']		= 'Ab 18 Jahre';
+	
+	$i18n['Codec_MP3']			= 'MP3';
+	$i18n['Codec_Vorbis']		= 'Ogg Vorbis';
+	$i18n['Codec_WAVE']			= 'Wave';
+	$i18n['Codec_WMA']			= 'WMA';
+	$i18n['Codec_AC3']			= 'AC3';
+	$i18n['Codec_MP3Pro']		= 'MP3Pro';
+	$i18n['Codec_MPEGPlus']		= 'MPEGPlus';
+	$i18n['Codec_AAC']			= 'ACC';
+	$i18n['Codec_Divx']			= 'DivX';
+	$i18n['Codec_Xvid']			= 'Xvid';
+	$i18n['Codec_MPEG4']		= 'MPEG4';
+	$i18n['Codec_Dirac']		= 'Dirac';
+	$i18n['Codec_MPEG2']		= 'MPEG2';
+	$i18n['Codec_Quicktime']	= 'Quicktime';
+	$i18n['Codec_AIFF_AIFC']	= 'AIFF/AIFC';
+	$i18n['Codec_PCM']			= 'PCM/Wave';
+	$i18n['Codec_PDF']			= 'Acrobat PDF';
+	$i18n['Codec_Word']			= 'Microsoft Word';
+	$i18n['Codec_OpenOffice']	= 'Openoffice.org';
+	$i18n['Codec_RTF']			= 'Richtext Format';
+
+	$i18n['Format_AudioCD']		= 'AudioCD';
+	$i18n['Format_AudioDVD']	= 'AudioDVD';
+	$i18n['Format_MiniDisc']	= 'MiniDisc';
+	$i18n['Format_Cassette']	= 'Kassette';
+	$i18n['Format_DV']			= 'DV';
+	$i18n['Format_VHS']			= 'VHS';
+	$i18n['Format_SVHS']		= 'SVHS';
+	$i18n['Format_DVD']			= 'DVD';
+	$i18n['Format_VCD']			= 'VideoCD';
+	$i18n['Format_SVCD']		= 'SuperVideoCD';
+	$i18n['Format_Hi8']			= 'Hi8';
+	$i18n['Format_MiniDV']		= 'MiniDV';
+	$i18n['Format_MiniDVD']		= 'MiniDVD';
+	$i18n['Format_Video8']		= 'Video8';
+	$i18n['Format_Hardcover']	= 'Hardcover';
+	$i18n['Format_Softcover']	= 'Softcover';
+	$i18n['Format_File']		= 'File';
 
 //--- EOF --- EOF --- EOF --- EOF --- EOF --- EOF --- EOF --- EOF --- EOF ---
 ?>



From nobody at sheep.berlios.de  Wed Apr  6 15:53:06 2005
From: nobody at sheep.berlios.de (bruf)
Date: Wed, 6 Apr 2005 15:53:06 +0200
Subject: [phpmediadb-cvs] phpmediadb-cvs/_source/tier.configuration/templates body.item.audio.formular.tpl,1.4,1.5
Message-ID: <200504061353.j36Dr6m05186@bat.berlios.de>

Update of /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.configuration/templates
In directory sheep:/tmp/cvs-serv12136/_source/tier.configuration/templates

Modified Files:
	body.item.audio.formular.tpl 
Log Message:
* Fixed syntax mistakes

Index: body.item.audio.formular.tpl
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.configuration/templates/body.item.audio.formular.tpl,v
retrieving revision 1.4
retrieving revision 1.5
diff -u -d -r1.4 -r1.5
--- body.item.audio.formular.tpl	31 Mar 2005 15:53:28 -0000	1.4
+++ body.item.audio.formular.tpl	6 Apr 2005 13:53:03 -0000	1.5
@@ -33,16 +33,16 @@
 	<tr>
 		<td>{$I18N.MEDIA_IDENTIFICATION|default:"%MEDIA_IDENTIFICATION%"}</td>
 		<td>
-			<input type="text" name="itemdata[ItemIdentification]" maxlength="{$INPUTSIZE.ItemIdentification|default:"255"}" value="{$ITEMDATA.ItemIdentification}" />
-			{if $INPUTERROR.flag.ItemIdentification eq "1" }<span class="phpmediadb-body-inputerror">{$I18N.ERROR_FLAG|default:"*"}</span>{/if}
+			<input type="text" name="itemdata[ItemIdentifier]" maxlength="{$INPUTSIZE.ItemIdentifier|default:"255"}" value="{$ITEMDATA.ItemIdentifier}" />
+			{if $INPUTERROR.flag.ItemIdentifier eq "1" }<span class="phpmediadb-body-inputerror">{$I18N.ERROR_FLAG|default:"*"}</span>{/if}
 		</td>
 	</tr>
 
 	<tr>
 		<td>{$I18N.MEDIA_RELEASEYEAR|default:"%MEDIA_RELEASEYEAR%"}</td>
 		<td>
-			<input type="text" name="itemdata[ItemRelease]" maxlength="{$INPUTSIZE.ItemRelease|default:"4"}" value="{$ITEMDATA.ItemRelease}" />
-			{if $INPUTERROR.flag.ItemRelease eq "1" }<span class="phpmediadb-body-inputerror">{$I18N.ERROR_FLAG|default:"*"}</span>{/if}
+			<input type="text" name="itemdata[ItemReleaseDate]" maxlength="{$INPUTSIZE.ItemReleaseDate|default:"4"}" value="{$ITEMDATA.ItemReleaseDate}" />
+			{if $INPUTERROR.flag.ItemReleaseDate eq "1" }<span class="phpmediadb-body-inputerror">{$I18N.ERROR_FLAG|default:"*"}</span>{/if}
 		</td>
 	</tr>
 	
@@ -144,6 +144,14 @@
 		<td>
 			<input type="text" name="itemdata[ItemQuantity]" maxlength="{$INPUTSIZE.ItemQuantity|default:"255"}" value="{$ITEMDATA.ItemQuantity}" />
 			{if $INPUTERROR.flag.ItemQuantity eq "1" }<span class="phpmediadb-body-inputerror">{$I18N.ERROR_FLAG|default:"*"}</span>{/if}
+		</td>
+	</tr>
+	
+	<tr>
+		<td>{$I18N.MEDIA_COMMENT|default:"%MEDIA_COMMENT%"}</td>
+		<td>
+			<textarea name="itemdata[ItemComment]" cols="40" rows="10">{$ITEMDATA.ItemComment}</textarea>
+			{if $INPUTERROR.flag.ItemComment eq "1" }<span class="phpmediadb-body-inputerror">{$I18N.ERROR_FLAG|default:"*"}</span>{/if}
 		</td>
 	</tr>
 	



From nobody at sheep.berlios.de  Wed Apr  6 15:53:15 2005
From: nobody at sheep.berlios.de (bruf)
Date: Wed, 6 Apr 2005 15:53:15 +0200
Subject: [phpmediadb-cvs] phpmediadb-cvs/_source/tier.configuration/templates body.item.print.formular.tpl,1.1,1.2
Message-ID: <200504061353.j36DrFm05191@bat.berlios.de>

Update of /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.configuration/templates
In directory sheep:/tmp/cvs-serv12163/_source/tier.configuration/templates

Modified Files:
	body.item.print.formular.tpl 
Log Message:
* Fixed syntax mistakes

Index: body.item.print.formular.tpl
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.configuration/templates/body.item.print.formular.tpl,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- body.item.print.formular.tpl	31 Mar 2005 15:53:47 -0000	1.1
+++ body.item.print.formular.tpl	6 Apr 2005 13:53:13 -0000	1.2
@@ -33,16 +33,16 @@
 	<tr>
 		<td>{$I18N.MEDIA_IDENTIFICATION|default:"%MEDIA_IDENTIFICATION%"}</td>
 		<td>
-			<input type="text" name="itemdata[ItemIdentification]" maxlength="{$INPUTSIZE.ItemIdentification|default:"255"}" value="{$ITEMDATA.ItemIdentification}" />
-			{if $INPUTERROR.flag.ItemIdentification eq "1" }<span class="phpmediadb-body-inputerror">{$I18N.ERROR_FLAG|default:"*"}</span>{/if}
+			<input type="text" name="itemdata[ItemIdentifier]" maxlength="{$INPUTSIZE.ItemIdentifier|default:"255"}" value="{$ITEMDATA.ItemIdentifier}" />
+			{if $INPUTERROR.flag.ItemIdentifier eq "1" }<span class="phpmediadb-body-inputerror">{$I18N.ERROR_FLAG|default:"*"}</span>{/if}
 		</td>
 	</tr>
 
 	<tr>
 		<td>{$I18N.MEDIA_RELEASEYEAR|default:"%MEDIA_RELEASEYEAR%"}</td>
 		<td>
-			<input type="text" name="itemdata[ItemRelease]" maxlength="{$INPUTSIZE.ItemRelease|default:"4"}" value="{$ITEMDATA.ItemRelease}" />
-			{if $INPUTERROR.flag.ItemRelease eq "1" }<span class="phpmediadb-body-inputerror">{$I18N.ERROR_FLAG|default:"*"}</span>{/if}
+			<input type="text" name="itemdata[ItemReleaseDate]" maxlength="{$INPUTSIZE.ItemReleaseDate|default:"4"}" value="{$ITEMDATA.ItemReleaseDate}" />
+			{if $INPUTERROR.flag.ItemReleaseDate eq "1" }<span class="phpmediadb-body-inputerror">{$I18N.ERROR_FLAG|default:"*"}</span>{/if}
 		</td>
 	</tr>
 	
@@ -144,6 +144,14 @@
 		<td>
 			<input type="text" name="itemdata[ItemQuantity]" maxlength="{$INPUTSIZE.ItemQuantity|default:"255"}" value="{$ITEMDATA.ItemQuantity}" />
 			{if $INPUTERROR.flag.ItemQuantity eq "1" }<span class="phpmediadb-body-inputerror">{$I18N.ERROR_FLAG|default:"*"}</span>{/if}
+		</td>
+	</tr>
+	
+	<tr>
+		<td>{$I18N.MEDIA_COMMENT|default:"%MEDIA_COMMENT%"}</td>
+		<td>
+			<textarea name="itemdata[ItemComment]" cols="40" rows="10">{$ITEMDATA.ItemComment}</textarea>
+			{if $INPUTERROR.flag.ItemComment eq "1" }<span class="phpmediadb-body-inputerror">{$I18N.ERROR_FLAG|default:"*"}</span>{/if}
 		</td>
 	</tr>
 	



From nobody at sheep.berlios.de  Wed Apr  6 15:53:25 2005
From: nobody at sheep.berlios.de (bruf)
Date: Wed, 6 Apr 2005 15:53:25 +0200
Subject: [phpmediadb-cvs] phpmediadb-cvs/_source/tier.configuration/templates body.item.video.formular.tpl,1.1,1.2
Message-ID: <200504061353.j36DrOm05199@bat.berlios.de>

Update of /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.configuration/templates
In directory sheep:/tmp/cvs-serv12190/_source/tier.configuration/templates

Modified Files:
	body.item.video.formular.tpl 
Log Message:
* Fixed syntax mistakes

Index: body.item.video.formular.tpl
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.configuration/templates/body.item.video.formular.tpl,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- body.item.video.formular.tpl	31 Mar 2005 15:53:47 -0000	1.1
+++ body.item.video.formular.tpl	6 Apr 2005 13:53:22 -0000	1.2
@@ -33,16 +33,16 @@
 	<tr>
 		<td>{$I18N.MEDIA_IDENTIFICATION|default:"%MEDIA_IDENTIFICATION%"}</td>
 		<td>
-			<input type="text" name="itemdata[ItemIdentification]" maxlength="{$INPUTSIZE.ItemIdentification|default:"255"}" value="{$ITEMDATA.ItemIdentification}" />
-			{if $INPUTERROR.flag.ItemIdentification eq "1" }<span class="phpmediadb-body-inputerror">{$I18N.ERROR_FLAG|default:"*"}</span>{/if}
+			<input type="text" name="itemdata[ItemIdentifier]" maxlength="{$INPUTSIZE.ItemIdentifier|default:"255"}" value="{$ITEMDATA.ItemIdentifier}" />
+			{if $INPUTERROR.flag.ItemIdentifier eq "1" }<span class="phpmediadb-body-inputerror">{$I18N.ERROR_FLAG|default:"*"}</span>{/if}
 		</td>
 	</tr>
 
 	<tr>
 		<td>{$I18N.MEDIA_RELEASEYEAR|default:"%MEDIA_RELEASEYEAR%"}</td>
 		<td>
-			<input type="text" name="itemdata[ItemRelease]" maxlength="{$INPUTSIZE.ItemRelease|default:"4"}" value="{$ITEMDATA.ItemRelease}" />
-			{if $INPUTERROR.flag.ItemRelease eq "1" }<span class="phpmediadb-body-inputerror">{$I18N.ERROR_FLAG|default:"*"}</span>{/if}
+			<input type="text" name="itemdata[ItemReleaseDate]" maxlength="{$INPUTSIZE.ItemReleaseDate|default:"4"}" value="{$ITEMDATA.ItemReleaseDate}" />
+			{if $INPUTERROR.flag.ItemReleaseDate eq "1" }<span class="phpmediadb-body-inputerror">{$I18N.ERROR_FLAG|default:"*"}</span>{/if}
 		</td>
 	</tr>
 	
@@ -144,6 +144,14 @@
 		<td>
 			<input type="text" name="itemdata[ItemQuantity]" maxlength="{$INPUTSIZE.ItemQuantity|default:"255"}" value="{$ITEMDATA.ItemQuantity}" />
 			{if $INPUTERROR.flag.ItemQuantity eq "1" }<span class="phpmediadb-body-inputerror">{$I18N.ERROR_FLAG|default:"*"}</span>{/if}
+		</td>
+	</tr>
+	
+	<tr>
+		<td>{$I18N.MEDIA_COMMENT|default:"%MEDIA_COMMENT%"}</td>
+		<td>
+			<textarea name="itemdata[ItemComment]" cols="40" rows="10">{$ITEMDATA.ItemComment}</textarea>
+			{if $INPUTERROR.flag.ItemComment eq "1" }<span class="phpmediadb-body-inputerror">{$I18N.ERROR_FLAG|default:"*"}</span>{/if}
 		</td>
 	</tr>
 	



From nobody at sheep.berlios.de  Wed Apr  6 15:54:14 2005
From: nobody at sheep.berlios.de (bruf)
Date: Wed, 6 Apr 2005 15:54:14 +0200
Subject: [phpmediadb-cvs] phpmediadb-cvs/_source/tier.data class.phpmediadb_data_agerestrictions.php,1.10,1.11
Message-ID: <200504061354.j36DsEm05217@bat.berlios.de>

Update of /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.data
In directory sheep:/tmp/cvs-serv12224/_source/tier.data

Modified Files:
	class.phpmediadb_data_agerestrictions.php 
Log Message:
* Fixed syntax mistakes
* Fixed some comments

Index: class.phpmediadb_data_agerestrictions.php
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.data/class.phpmediadb_data_agerestrictions.php,v
retrieving revision 1.10
retrieving revision 1.11
diff -u -d -r1.10 -r1.11
--- class.phpmediadb_data_agerestrictions.php	31 Mar 2005 10:12:10 -0000	1.10
+++ class.phpmediadb_data_agerestrictions.php	6 Apr 2005 13:54:12 -0000	1.11
@@ -65,8 +65,7 @@
 	 *
 	 * @access public
 	 * @param Integer $id contains specified id for the sql statement
-	 * @return Mixed array generateDataArray() returns the results of database query
-	 * @return Mixed getMessage() returns the error message
+	 * @return array returns the results of database query
 	 */
 	public function get( $id )
 	{
@@ -82,7 +81,7 @@
 		}
 		catch( Exception $e )
 		{
-			return $e->getMessage();
+			die( $e->getMessage() );
 		}
 	}
 
@@ -91,8 +90,7 @@
 	 * This function returns all records from the table MediaAgeRestrictions
 	 *
 	 * @access public
-	 * @return Mixed array generateDataArray() returns the results of database query
-	 * @return Mixed getMessage() returns the error message
+	 * @return array returns the results of database query
 	 */
 	public function getList()
 	{
@@ -106,7 +104,7 @@
 		}
 		catch( Exception $e )
 		{
-			return $e->getMessage();
+			die( $e->getMessage() );
 		}
 	}
 
@@ -115,9 +113,8 @@
 	 * This function creates a new record in the table MediaAgeRestrictions
 	 *
 	 * @access public
-	 * @param Mixed array $data contains all required data for the sql statement
-	 * @return Integer getLastInsert() returns id from the last created record
-	 * @return Mixed rollbackTransaction() returns the error message
+	 * @param array $data contains all required data for the sql statement
+	 * @return Integer returns id from the last created record
 	 */
 	public function create( $data )
 	{
@@ -134,7 +131,7 @@
 		}
 		catch( Exception $e )
 		{
-			return $this->DATA->SQL->rollbackTransaction( $conn, $e );
+			$this->DATA->SQL->rollbackException( $conn, $e );
 		}
 	}
 
@@ -144,8 +141,7 @@
 	 *
 	 * @access public
 	 * @param Integer $id contains specified id for the sql statement
-	 * @param Mixed array $data contains all required data for the sql statement
-	 * @return Mixed rollbackTransaction() returns the error message
+	 * @param array contains all required data for the sql statement
 	 */
 	public function modify( $id, $data )
 	{
@@ -163,7 +159,7 @@
 		}
 		catch( Exception $e )
 		{
-			return $this->DATA->SQL->rollbackTransaction( $conn, $e );
+			$this->DATA->SQL->rollbackException( $conn, $e );
 		}
 		
 	}
@@ -174,7 +170,6 @@
 	 *
 	 * @access public
 	 * @param Integer $id contains specified id for the sql statement
-	 * @return Mixed rollbackTransaction() returns the error message
 	 */
 	public function delete( $id )
 	{
@@ -190,7 +185,7 @@
 		}
 		catch( Exception $e )
 		{
-			return $this->DATA->SQL->rollbackTransaction( $conn, $e );
+			$this->DATA->SQL->rollbackException( $conn, $e );
 		}
 	}
 
@@ -201,8 +196,7 @@
 	 *
 	 * @access public
 	 * @param Integer $id contains specified id for the sql statement
-	 * @return Boolean $returnValue returns whether the specified record exists
-	 * @return Mixed getMessage() returns the error message
+	 * @return bool returns whether the specified record exists
 	 */
 	public function exist( $id )
 	{
@@ -226,7 +220,7 @@
 		}
 		catch( Exception $e )
 		{
-			return $e->getMessage();
+			die( $e->getMessage() );
 		}
 	}
 



From nobody at sheep.berlios.de  Wed Apr  6 15:54:23 2005
From: nobody at sheep.berlios.de (bruf)
Date: Wed, 6 Apr 2005 15:54:23 +0200
Subject: [phpmediadb-cvs] phpmediadb-cvs/_source/tier.data class.phpmediadb_data_audios.php,1.9,1.10
Message-ID: <200504061354.j36DsNm05223@bat.berlios.de>

Update of /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.data
In directory sheep:/tmp/cvs-serv12249/_source/tier.data

Modified Files:
	class.phpmediadb_data_audios.php 
Log Message:
* Fixed syntax mistakes
* Fixed some comments

Index: class.phpmediadb_data_audios.php
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.data/class.phpmediadb_data_audios.php,v
retrieving revision 1.9
retrieving revision 1.10
diff -u -d -r1.9 -r1.10
--- class.phpmediadb_data_audios.php	31 Mar 2005 10:12:20 -0000	1.9
+++ class.phpmediadb_data_audios.php	6 Apr 2005 13:54:21 -0000	1.10
@@ -67,8 +67,7 @@
 	 *
 	 * @access public
 	 * @param Integer $id contains specified id for the sql statement
-	 * @return Mixed array generateDataArray() returns the results of database query
-	 * @return Mixed getMessage() returns the error message
+	 * @return array returns the results of database query
 	 */
 	public function get( $id )
 	{
@@ -97,7 +96,7 @@
 		}
 		catch( Exception $e )
 		{
-			return $e->getMessage();
+			die( $e->getMessage() );
 		}
 	}
 
@@ -107,8 +106,7 @@
 	 * and all required data from the other tables
 	 *
 	 * @access public
-	 * @return Mixed array generateDataArray() returns the results of database query
-	 * @return Mixed getMessage() returns the error message
+	 * @return array returns the results of database query
 	 */
 	public function getList()
 	{
@@ -129,7 +127,7 @@
 		}
 		catch( Exception $e )
 		{
-			return $e->getMessage();
+			die( $e->getMessage() );
 		}
 	}
 
@@ -139,9 +137,8 @@
 	 * and all required data in the other tables
 	 *
 	 * @access public
-	 * @param Mixed array $data contains all required data for the sql statement
-	 * @return Integer $id returns id from the last created record
-	 * @return Mixed rollbackTransaction() returns the error message
+	 * @param array $data contains all required data for the sql statement
+	 * @return Integer returns id from the last created record
 	 */
 	public function create( $data )
 	{
@@ -150,21 +147,21 @@
 			$conn = $this->DATA->SQL->getConnection();
 			$this->DATA->SQL->openTransaction( $conn );
 			$stmt = $conn->prepareStatement(	'INSERT INTO Items
-												( ItemTitle, ItemOriginalTitle, ItemRelease, ItemMediaName, ItemCreationDate,
+												( ItemTitle, ItemOriginalTitle, ItemReleaseDate, ItemMediaName, ItemCreationDate,
 												ItemModificationDate, ItemComment, ItemQuantity, ItemIdentifier, ItemTypeID )
 												VALUES( ?, ?, ?, ?, now(), now(), ?, ?, ?, ? )' );
 			$stmt->setString( 1, $data['ItemTitle'] );
 			$stmt->setString( 2, $data['ItemOriginalTitle'] );
-			$stmt->setString( 3, $data['ItemRelease'] );
+			$stmt->setString( 3, $data['ItemReleaseDate'] );
 			$stmt->setString( 4, $data['ItemMediaName'] );
 			$stmt->setString( 5, $data['ItemComment'] );
 			$stmt->setString( 6, $data['ItemQuantity'] );
 			$stmt->setString( 7, $data['ItemIdentifier'] );
-			$stmt->setString( 8, $data['ItemTypeID'] );
+			$stmt->setString( 8, PHPMEDIADB_ITEM_AUDIO );
 			$stmt->executeUpdate();
 		
 			$id = $this->DATA->SQL->getLastInsert( $conn );
-		
+		    			
 			$stmt = $conn->prepareStatement( 'INSERT INTO AudioDatas ( ItemID ) VALUES( ? )' );
 			$stmt->setString( 1, $id );
 			$stmt->executeUpdate();	
@@ -173,7 +170,7 @@
 		}
 		catch( Exception $e )
 		{
-			return $this->DATA->SQL->rollbackTransaction( $conn, $e );
+			$this->DATA->SQL->rollbackTransaction( $conn, $e );
 		}
 	}
 
@@ -184,8 +181,8 @@
 	 *
 	 * @access public
 	 * @param Integer $id contains specified id for the sql statement
-	 * @param Mixed array $data contains all required data for the sql statement
-	 * @return Mixed rollbackTransaction() returns the error message
+	 * @param array $data contains all required data for the sql statement
+	 * @return bool Status of transaction
 	 */
 	public function modify( $id, $data )
 	{
@@ -202,13 +199,12 @@
 												BinaryDatas
 												SET Items.ItemTitle = ?,
 												Items.ItemOriginalTitle = ?,
-												Items.ItemRelease = ?,
+												Items.ItemReleaseDate = ?,
 												Items.ItemMediaName = ?,
 												Items.ItemModificationDate = now(),
 												Items.ItemComment = ?,
 												Items.ItemQuantity = ?,
 												Items.ItemIdentifier = ?,
-												Items.ItemTypeID = ?,
 												Items.MediaCodecID = ?,
 												Items.MediaFormatID = ?,
 												Items.MediaAgeRestrictionID = ?,
@@ -223,12 +219,11 @@
 												AND Items.ItemPicturesID = BinaryDatas.ItemPicturesID' );
 			$stmt->setString( 1, $data['ItemTitle'] );
 			$stmt->setString( 2, $data['ItemOriginalTitle'] );
-			$stmt->setString( 3, $data['ItemRelease'] );
+			$stmt->setString( 3, $data['ItemReleaseDate'] );
 			$stmt->setString( 4, $data['ItemMediaName'] );
 			$stmt->setString( 5, $data['ItemComment'] );
 			$stmt->setString( 6, $data['ItemQuantity'] );
 			$stmt->setString( 7, $data['ItemIdentifier'] );
-			$stmt->setString( 8, $data['ItemTypeID'] );
 			$stmt->setString( 9, $data['MediaCodecID'] );
 			$stmt->setString( 10, $data['MediaFormatID'] );
 			$stmt->setString( 11, $data['MediaAgeRestrictionID'] );
@@ -239,8 +234,10 @@
 		}
 		catch( Exception $e )
 		{
-			return $this->DATA->SQL->rollbackTransaction( $conn, $e );
+			$this->DATA->SQL->rollbackTransaction( $conn, $e );
 		}
+		
+		return true;
 	}
 	
 //-----------------------------------------------------------------------------
@@ -250,7 +247,7 @@
 	 *
 	 * @access public
 	 * @param Integer $id contains specified id for the sql statement
-	 * @return Mixed rollbackTransaction() returns the error message
+	 * @return bool Status of transaction
 	 */
 	public function delete( $id )
 	{
@@ -270,8 +267,10 @@
 		}
 		catch( Exception $e )
 		{
-			return $this->DATA->SQL->rollbackTransaction( $conn, $e );
+			$this->DATA->SQL->rollbackTransaction( $conn, $e );
 		}
+		
+		return true;
 	}
 
 //-----------------------------------------------------------------------------
@@ -281,8 +280,7 @@
 	 *
 	 * @access public
 	 * @param Integer $id contains specified id for the sql statement
-	 * @return Boolean $returnValue returns whether the specified record exists
-	 * @return Mixed getMessage() returns the error message
+	 * @return Bool returns whether the specified record exists
 	 */
 	public function exist( $id )
 	{
@@ -307,7 +305,7 @@
 		}
 		catch( Exception $e )
 		{
-			return $e->getMessage();
+			die( $e->getMessage() );
 		}
 	}
 



From nobody at sheep.berlios.de  Wed Apr  6 15:54:33 2005
From: nobody at sheep.berlios.de (bruf)
Date: Wed, 6 Apr 2005 15:54:33 +0200
Subject: [phpmediadb-cvs] phpmediadb-cvs/_source/tier.data class.phpmediadb_data_categories.php,1.7,1.8
Message-ID: <200504061354.j36DsXm05229@bat.berlios.de>

Update of /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.data
In directory sheep:/tmp/cvs-serv12274/_source/tier.data

Modified Files:
	class.phpmediadb_data_categories.php 
Log Message:
* Fixed syntax mistakes
* Fixed some comments

Index: class.phpmediadb_data_categories.php
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.data/class.phpmediadb_data_categories.php,v
retrieving revision 1.7
retrieving revision 1.8
diff -u -d -r1.7 -r1.8
--- class.phpmediadb_data_categories.php	31 Mar 2005 10:12:31 -0000	1.7
+++ class.phpmediadb_data_categories.php	6 Apr 2005 13:54:30 -0000	1.8
@@ -65,8 +65,7 @@
 	 *
 	 * @access public
 	 * @param Integer $id contains specified id for the sql statement
-	 * @return Mixed array generateDataArray() returns the results of database query
-	 * @return Mixed getMessage() returns the error message
+	 * @return array returns the results of database query
 	 */
 	public function get( $id )
 	{
@@ -83,7 +82,7 @@
 		}
 		catch( Exception $e )
 		{
-			return $e->getMessage();
+			die( $e->getMessage() );
 		}
 	}
 
@@ -92,8 +91,7 @@
 	 * This function returns all records from the table Categories
 	 *
 	 * @access public
-	 * @return Mixed array generateDataArray() returns the results of database query
-	 * @return Mixed getMessage() returns the error message
+	 * @return array returns the results of database query
 	 */
 	public function getList()
 	{
@@ -108,18 +106,43 @@
 		}
 		catch( Exception $e )
 		{
-			return $e->getMessage();
+			die( $e->getMessage() );
 		}
 	}
 
 //-----------------------------------------------------------------------------
 	/**
+	 * This function returns all records from the table Categories for a specified ItemType
+	 *
+	 * @access public
+	 * @param Integer $id contains specified id for the sql statement
+	 * @return array returns the results of database query
+	 */
+	public function getListByItemType( $id )
+	{
+		try
+		{
+			$conn = $this->DATA->SQL->getConnection();
+			$stmt = $conn->prepareStatement(	'SELECT *
+												FROM Categories
+												WHERE ItemTypeID = ?' );
+			$stmt->setString( 1, $id );
+			$rs = $stmt->executeQuery();
+			
+			return $this->DATA->SQL->generateDataArray( $rs );
+		}
+		catch( Exception $e )
+		{
+			die( $e->getMessage() );
+		}
+	}
+//-----------------------------------------------------------------------------
+	/**
 	 * This function creates a new record in the table Categories
 	 *
 	 * @access public
-	 * @param Mixed array $data contains all required data for the sql statement
-	 * @return Integer getLastInsert() returns id from the last created record
-	 * @return Mixed rollbackTransaction() returns the error message
+	 * @param array $data contains all required data for the sql statement
+	 * @return Integer returns id from the last created record
 	 */
 	public function create( $data )
 	{
@@ -127,15 +150,16 @@
 		{
 			$conn = $this->DATA->SQL->getConnection();
 			$stmt = $conn->prepareStatement(	'INSERT INTO Categories
-												( CategoryName ) VALUES( ? )' );
-			$stmt->setString( 1, $data['CategoryName'] );
+												( ItemTypeID, CategoryName ) VALUES( ?, ? )' );
+			$stmt->setString( 1, $data['ItemTypeID'] );
+			$stmt->setString( 2, $data['CategoryName'] );
 			$stmt->executeUpdate();
 			$this->DATA->SQL->commitTransaction( $conn );
 			return $this->DATA->SQL->getLastInsert( $conn );
 		}
 		catch( Exception $e )
 		{
-			return $this->DATA->SQL->rollbackTransaction( $conn, $e );
+			$this->DATA->SQL->rollbackException( $conn, $e );
 		}
 	}
 
@@ -145,8 +169,7 @@
 	 *
 	 * @access public
 	 * @param Integer $id contains specified id for the sql statement
-	 * @param Mixed array $data contains all required data for the sql statement
-	 * @return Mixed rollbackTransaction() returns the error message
+	 * @param array $data contains all required data for the sql statement
 	 */
 	public function modify( $id, $data )
 	{
@@ -164,7 +187,7 @@
 		}
 		catch( Exception $e )
 		{
-			return $this->DATA->SQL->rollbackTransaction( $conn, $e );
+			$this->DATA->SQL->rollbackException( $conn, $e );
 		}
 	}
 
@@ -174,7 +197,6 @@
 	 *
 	 * @access public
 	 * @param Integer $id contains specified id for the sql statement
-	 * @return Mixed rollbackTransaction() returns the error message
 	 */
 	public function delete( $id )
 	{
@@ -190,7 +212,7 @@
 		}
 		catch( Exception $e )
 		{
-			return $this->DATA->SQL->rollbackTransaction( $conn, $e );
+			$this->DATA->SQL->rollbackException( $conn, $e );
 		}
 	}
 
@@ -201,8 +223,7 @@
 	 *
 	 * @access public
 	 * @param Integer $id contains specified id for the sql statement
-	 * @return Boolean $returnValue returns whether the specified record exists
-	 * @return Mixed getMessage() returns the error message
+	 * @return bool returns whether the specified record exists
 	 */
 	public function exist( $id )
 	{
@@ -227,7 +248,7 @@
 		}
 		catch( Exception $e )
 		{
-			return $e->getMessage();
+			die( $e->getMessage() );
 		}
 	}
 
@@ -237,8 +258,7 @@
 	 * into the table Categories_has_Items
 	 *
 	 * @access public
-	 * @param Integer $id contains specified id for the sql statement
-	 * @return Mixed rollbackTransaction() returns the error message
+	 * @param array $data contains specified data for the sql statement
 	 */
 	public function add( $data )
 	{
@@ -266,7 +286,6 @@
 	 *
 	 * @access public
 	 * @param Integer $id contains specified id for the sql statement
-	 * @return Mixed rollbackTransaction() returns the error message
 	 */
 	public function remove( $id )
 	{



From nobody at sheep.berlios.de  Wed Apr  6 15:54:44 2005
From: nobody at sheep.berlios.de (bruf)
Date: Wed, 6 Apr 2005 15:54:44 +0200
Subject: [phpmediadb-cvs] phpmediadb-cvs/_source/tier.data class.phpmediadb_data_codecs.php,1.13,1.14
Message-ID: <200504061354.j36Dsim05235@bat.berlios.de>

Update of /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.data
In directory sheep:/tmp/cvs-serv12302/_source/tier.data

Modified Files:
	class.phpmediadb_data_codecs.php 
Log Message:
* Fixed syntax mistakes
* Fixed some comments

Index: class.phpmediadb_data_codecs.php
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.data/class.phpmediadb_data_codecs.php,v
retrieving revision 1.13
retrieving revision 1.14
diff -u -d -r1.13 -r1.14
--- class.phpmediadb_data_codecs.php	31 Mar 2005 15:38:04 -0000	1.13
+++ class.phpmediadb_data_codecs.php	6 Apr 2005 13:54:42 -0000	1.14
@@ -65,8 +65,7 @@
 	 *
 	 * @access public
 	 * @param Integer $id contains specified id for the sql statement
-	 * @return Mixed array generateDataArray() returns the results of database query
-	 * @return Mixed getMessage() returns the error message
+	 * @return array returns the results of database query
 	 */
 	public function get( $id )
 	{
@@ -83,7 +82,7 @@
 		}
 		catch( Exception $e )
 		{
-			return $e->getMessage();
+			die( $e->getMessage() );
 		}
 	}
 
@@ -92,8 +91,7 @@
 	 * This function returns all records from the table MediaCodecs
 	 *
 	 * @access public
-	 * @return Mixed array generateDataArray() returns the results of database query
-	 * @return Mixed getMessage() returns the error message
+	 * @return array returns the results of database query
 	 */
 	public function getList()
 	{
@@ -108,7 +106,7 @@
 		}
 		catch( Exception $e )
 		{
-			return $e->getMessage();
+			die( $e->getMessage() );
 		}
 	}
 
@@ -118,8 +116,7 @@
 	 *
 	 * @access public
 	 * @param Integer $id contains specified id for the sql statement
-	 * @return Mixed array generateDataArray() returns the results of database query
-	 * @return Mixed getMessage() returns the error message
+	 * @return array returns the results of database query
 	 */
 	public function getListByItemType( $id )
 	{
@@ -136,7 +133,7 @@
 		}
 		catch( Exception $e )
 		{
-			return $e->getMessage();
+			die( $e->getMessage() );
 		}
 	}
 	
@@ -145,9 +142,8 @@
 	 * This function creates a new record in the table MediaCodecs
 	 *
 	 * @access public
-	 * @param Mixed array $data contains all required data for the sql statement
-	 * @param Integer getLastInsert() returns id from the last created record
-	 * @return Mixed rollbackTransaction() returns the error message
+	 * @param array $data contains all required data for the sql statement
+	 * @return Integer returns id from the last created record
 	 */
 	public function create( $data )
 	{
@@ -167,7 +163,7 @@
 		}
 		catch( Exception $e )
 		{
-			return $this->DATA->SQL->rollbackTransaction( $conn, $e );
+			$this->DATA->SQL->rollbackException( $conn, $e );
 		}
 	}
 
@@ -177,8 +173,7 @@
 	 *
 	 * @access public
 	 * @param Integer $id contains specified id for the sql statement
-	 * @param Mixed array $data contains all required data for the sql statement
-	 * @return Mixed rollbackTransaction() returns the error message
+	 * @param array $data contains all required data for the sql statement
 	 */
 	public function modify( $id, $data )
 	{
@@ -200,7 +195,7 @@
 		}
 		catch( Exception $e )
 		{
-			return $this->DATA->SQL->rollbackTransaction( $conn, $e );
+			$this->DATA->SQL->rollbackException( $conn, $e );
 		}
 	}
 
@@ -210,7 +205,6 @@
 	 *
 	 * @access public
 	 * @param Integer $id contains specified id for the sql statement
-	 * @return Mixed rollbackTransaction() returns the error message
 	 */
 	public function delete( $id )
 	{
@@ -226,7 +220,7 @@
 		}
 		catch( Exception $e )
 		{
-			return $this->DATA->SQL->rollbackTransaction( $conn, $e );
+			$this->DATA->SQL->rollbackException( $conn, $e );
 		}
 	}
 
@@ -237,8 +231,7 @@
 	 *
 	 * @access public
 	 * @param Integer $id contains specified id for the sql statement
-	 * @return Boolean $returnValue returns whether the specified record exists
-	 * @return Mixed getMessage() returns the error message
+	 * @return bool returns whether the specified record exists
 	 */
 	public function exist( $id )
 	{
@@ -263,7 +256,7 @@
 		}
 		catch( Exception $e )
 		{
-			return $e->getMessage();
+			die( $e->getMessage() );
 		}
 	}
 



From nobody at sheep.berlios.de  Wed Apr  6 15:54:56 2005
From: nobody at sheep.berlios.de (bruf)
Date: Wed, 6 Apr 2005 15:54:56 +0200
Subject: [phpmediadb-cvs] phpmediadb-cvs/_source/tier.data class.phpmediadb_data_formats.php,1.13,1.14
Message-ID: <200504061354.j36Dsum05239@bat.berlios.de>

Update of /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.data
In directory sheep:/tmp/cvs-serv12328/_source/tier.data

Modified Files:
	class.phpmediadb_data_formats.php 
Log Message:
* Fixed syntax mistakes
* Fixed some comments

Index: class.phpmediadb_data_formats.php
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.data/class.phpmediadb_data_formats.php,v
retrieving revision 1.13
retrieving revision 1.14
diff -u -d -r1.13 -r1.14
--- class.phpmediadb_data_formats.php	31 Mar 2005 15:38:17 -0000	1.13
+++ class.phpmediadb_data_formats.php	6 Apr 2005 13:54:54 -0000	1.14
@@ -65,8 +65,7 @@
 	 *
 	 * @access public
 	 * @param Integer $id contains specified id for the sql statement
-	 * @return Mixed array generateDataArray() returns the results of database query
-	 * @return Mixed getMessage() returns the error message
+	 * @return array returns the results of database query
 	 */
 	public function get( $id )
 	{
@@ -83,7 +82,7 @@
 		}
 		catch( Exception $e )
 		{
-			return $e->getMessage();
+			die( $e->getMessage() );
 		}
 	}
 
@@ -92,8 +91,7 @@
 	 * This function returns all records from the table MediaStatus
 	 *
 	 * @access public
-	 * @return Mixed array generateDataArray() returns the results of database query
-	 * @return Mixed getMessage() returns the error message
+	 * @return array returns the results of database query
 	 */
 	public function getList()
 	{
@@ -108,7 +106,7 @@
 		}
 		catch( Exception $e )
 		{
-			return $e->getMessage();
+			die( $e->getMessage() );
 		}
 	}
 //-----------------------------------------------------------------------------
@@ -117,8 +115,7 @@
 	 *
 	 * @access public
 	 * @param Integer $id contains specified id for the sql statement
-	 * @return Mixed array generateDataArray() returns the results of database query
-	 * @return Mixed getMessage() returns the error message
+	 * @return array returns the results of database query
 	 */
 	public function getListByItemType( $id )
 	{
@@ -135,7 +132,7 @@
 		}
 		catch( Exception $e )
 		{
-			return $e->getMessage();
+			die( $e->getMessage() );
 		}
 	}
 	
@@ -145,8 +142,7 @@
 	 *
 	 * @access public
 	 * @param Mixed array $data contains all required data for the sql statement
-	 * @param Integer getLastInsert() returns id from the last created record
-	 * @return Mixed rollbackTransaction() returns the error message
+	 * @return Integer returns id from the last created record
 	 */
 	public function create( $data )
 	{
@@ -165,7 +161,7 @@
 		}
 		catch( Exception $e )
 		{
-			return $this->DATA->SQL->rollbackTransaction( $conn, $e );
+			$this->DATA->SQL->rollbackException( $conn, $e );
 		}
 	}
 
@@ -175,8 +171,7 @@
 	 *
 	 * @access public
 	 * @param Integer $id contains specified id for the sql statement
-	 * @param Mixed array $data contains all required data for the sql statement
-	 * @return Mixed rollbackTransaction() returns the error message
+	 * @param array $data contains all required data for the sql statement
 	 */
 	public function modify( $id, $data )
 	{
@@ -196,7 +191,7 @@
 		}
 		catch( Exception $e )
 		{
-			return $this->DATA->SQL->rollbackTransaction( $conn, $e );
+			$this->DATA->SQL->rollbackException( $conn, $e );
 		}
 	}
 
@@ -206,7 +201,6 @@
 	 *
 	 * @access public
 	 * @param Integer $id contains specified id for the sql statement
-	 * @return Mixed rollbackTransaction() returns the error message
 	 */
 	public function delete( $id )
 	{
@@ -222,7 +216,7 @@
 		}
 		catch( Exception $e )
 		{
-			return $this->DATA->SQL->rollbackTransaction( $conn, $e );
+			$this->DATA->SQL->rollbackException( $conn, $e );
 		}
 	}
 
@@ -233,8 +227,7 @@
 	 *
 	 * @access public
 	 * @param Integer $id contains specified id for the sql statement
-	 * @return Boolean $returnValue returns whether the specified record exists
-	 * @return Mixed getMessage() returns the error message
+	 * @return bool returns whether the specified record exists
 	 */
 	public function exist( $id )
 	{
@@ -259,7 +252,7 @@
 		}
 		catch( Exception $e )
 		{
-			return $e->getMessage();
+			die( $e->getMessage() );
 		}
 	}
 



From nobody at sheep.berlios.de  Wed Apr  6 15:55:05 2005
From: nobody at sheep.berlios.de (bruf)
Date: Wed, 6 Apr 2005 15:55:05 +0200
Subject: [phpmediadb-cvs] phpmediadb-cvs/_source/tier.data class.phpmediadb_data_prints.php,1.9,1.10
Message-ID: <200504061355.j36Dt5m05247@bat.berlios.de>

Update of /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.data
In directory sheep:/tmp/cvs-serv12358/_source/tier.data

Modified Files:
	class.phpmediadb_data_prints.php 
Log Message:
* Fixed syntax mistakes
* Fixed some comments

Index: class.phpmediadb_data_prints.php
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.data/class.phpmediadb_data_prints.php,v
retrieving revision 1.9
retrieving revision 1.10
diff -u -d -r1.9 -r1.10
--- class.phpmediadb_data_prints.php	31 Mar 2005 10:13:03 -0000	1.9
+++ class.phpmediadb_data_prints.php	6 Apr 2005 13:55:03 -0000	1.10
@@ -66,8 +66,7 @@
 	 *
 	 * @access public
 	 * @param Integer $id contains specified id for the sql statement
-	 * @return Mixed array generateDataArray() returns the results of database query
-	 * @return Mixed getMessage() returns the error message
+	 * @return array returns the results of database query
 	 */
 	public function get( $id )
 	{
@@ -96,7 +95,7 @@
 		}
 		catch ( Exception $e )
 		{
-			return $e->getMessage();
+			die( $e->getMessage() );
 		}
 	}
 
@@ -106,8 +105,7 @@
 	 * and all required data from the other tables
 	 *
 	 * @access public
-	 * @return Mixed array generateDataArray() returns the results of database query
-	 * @return Mixed getMessage() returns the error message
+	 * @return array returns the results of database query
 	 */
 	public function getList()
 	{
@@ -128,7 +126,7 @@
 		}
 		catch( Exception $e )
 		{
-			return $e->getMessage();
+			die( $e->getMessage() );
 		}
 	}
 
@@ -139,8 +137,7 @@
 	 *
 	 * @access public
 	 * @param Mixed array $data contains all required data for the sql statement
-	 * @return Integer $id returns id from the last created record
-	 * @return Mixed rollbackTransaction() returns the error message
+	 * @return Integer returns id from the last created record
 	 */
 	public function create( $data )
 	{
@@ -149,17 +146,17 @@
 			$conn = $this->DATA->SQL->getConnection();
 			$this->DATA->SQL->openTransaction( $conn );
 			$stmt = $conn->prepareStatement(	'INSERT INTO Items
-												( ItemTitle, ItemOriginalTitle, ItemRelease, ItemMediaName, ItemCreationDate,
+												( ItemTitle, ItemOriginalTitle, ItemReleaseDate, ItemMediaName, ItemCreationDate,
 												ItemModificationDate, ItemComment, ItemQuantity, ItemIdentifier, ItemTypeID )
 												VALUES( ?, ?, ?, ?, now(), now(), ?, ?, ?, ? )' );
 			$stmt->setString( 1, $data['ItemTitle'] );
 			$stmt->setString( 2, $data['ItemOriginalTitle'] );
-			$stmt->setString( 3, $data['ItemRelease'] );
+			$stmt->setString( 3, $data['ItemReleaseDate'] );
 			$stmt->setString( 4, $data['ItemMediaName'] );
 			$stmt->setString( 5, $data['ItemComment'] );
 			$stmt->setString( 6, $data['ItemQuantity'] );
 			$stmt->setString( 7, $data['ItemIdentifier'] );
-			$stmt->setString( 8, $data['ItemTypeID'] );
+			$stmt->setString( 8, 3 );
 			$stmt->executeUpdate();
 			
 			$id = $this->DATA->SQL->getLastInsert( $conn );
@@ -172,7 +169,7 @@
 		}
 		catch( Excpetion $e )
 		{
-			return $this->DATA->SQL->rollbackTransaction( $conn, $e );
+			$this->DATA->SQL->rollbackException( $conn, $e );
 		}
 	}
 
@@ -183,8 +180,7 @@
 	 *
 	 * @access public
 	 * @param Integer $id contains specified id for the sql statement
-	 * @param Mixed array $data contains all required data for the sql statement
-	 * @return Mixed rollbackTransaction() returns the error message
+	 * @param array $data contains all required data for the sql statement
 	 */
 	public function modify( $id, $data )
 	{
@@ -201,7 +197,7 @@
 												BinaryDatas
 												SET Items.ItemTitle = ?,
 												Items.ItemOriginalTitle = ?,
-												Items.ItemRelease = ?,
+												Items.ItemReleaseDate = ?,
 												Items.ItemMediaName = ?,
 												Items.ItemModificationDate = now(),
 												Items.ItemComment = ?,
@@ -222,7 +218,7 @@
 												AND Items.ItemPicturesID = BinaryDatas.ItemPicturesID' );
 			$stmt->setString( 1, $data['ItemTitle'] );
 			$stmt->setString( 2, $data['ItemOriginalTitle'] );
-			$stmt->setString( 3, $data['ItemRelease'] );
+			$stmt->setString( 3, $data['ItemReleaseDate'] );
 			$stmt->setString( 4, $data['ItemMediaName'] );
 			$stmt->setString( 5, $data['ItemComment'] );
 			$stmt->setString( 6, $data['ItemQuantity'] );
@@ -238,7 +234,7 @@
 		}
 		catch( Exception $e )
 		{
-			return $this->DATA->SQL->rollbackTransaction( $conn, $e );
+			$this->DATA->SQL->rollbackException( $conn, $e );
 		}
 	}
 	
@@ -249,7 +245,6 @@
 	 *
 	 * @access public
 	 * @param Integer $id contains specified id for the sql statement
-	 * @return Mixed rollbackTransaction() returns the error message
 	 */
 	public function delete( $id )
 	{
@@ -269,7 +264,7 @@
 		}
 		catch( Exception $e )
 		{
-			return $this->DATA->SQL->rollbackTransaction( $conn, $e );
+			$this->DATA->SQL->rollbackException( $conn, $e );
 		}
 	}
 
@@ -280,8 +275,7 @@
 	 *
 	 * @access public
 	 * @param Integer $id contains specified id for the sql statement
-	 * @return Boolean $returnValue returns whether the specified record exists
-	 * @return Mixed getMessage() returns the error message
+	 * @return bool returns whether the specified record exists
 	 */
 	public function exist( $id )
 	{
@@ -306,7 +300,7 @@
 		}
 		catch( Exception $e )
 		{
-			return $e->getMessage();
+			die( $e->getMessage() );
 		}
 	}
 



From nobody at sheep.berlios.de  Wed Apr  6 15:56:52 2005
From: nobody at sheep.berlios.de (bruf)
Date: Wed, 6 Apr 2005 15:56:52 +0200
Subject: [phpmediadb-cvs] phpmediadb-cvs/_source/tier.data class.phpmediadb_data_prints.php,1.10,1.11
Message-ID: <200504061356.j36Duqm05265@bat.berlios.de>

Update of /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.data
In directory sheep:/tmp/cvs-serv12508/_source/tier.data

Modified Files:
	class.phpmediadb_data_prints.php 
Log Message:
* Fixed syntax mistakes
* Fixed some comments

Index: class.phpmediadb_data_prints.php
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.data/class.phpmediadb_data_prints.php,v
retrieving revision 1.10
retrieving revision 1.11
diff -u -d -r1.10 -r1.11
--- class.phpmediadb_data_prints.php	6 Apr 2005 13:55:03 -0000	1.10
+++ class.phpmediadb_data_prints.php	6 Apr 2005 13:56:50 -0000	1.11
@@ -156,7 +156,7 @@
 			$stmt->setString( 5, $data['ItemComment'] );
 			$stmt->setString( 6, $data['ItemQuantity'] );
 			$stmt->setString( 7, $data['ItemIdentifier'] );
-			$stmt->setString( 8, 3 );
+			$stmt->setString( 8, PHPMEDIAD_ITEM_PRINT );
 			$stmt->executeUpdate();
 			
 			$id = $this->DATA->SQL->getLastInsert( $conn );



From nobody at sheep.berlios.de  Wed Apr  6 15:57:16 2005
From: nobody at sheep.berlios.de (bruf)
Date: Wed, 6 Apr 2005 15:57:16 +0200
Subject: [phpmediadb-cvs] phpmediadb-cvs/_source/tier.data class.phpmediadb_data_sql.php,1.8,1.9
Message-ID: <200504061357.j36DvGm05273@bat.berlios.de>

Update of /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.data
In directory sheep:/tmp/cvs-serv12536/_source/tier.data

Modified Files:
	class.phpmediadb_data_sql.php 
Log Message:
* Fixed syntax mistakes
* Fixed some comments

Index: class.phpmediadb_data_sql.php
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.data/class.phpmediadb_data_sql.php,v
retrieving revision 1.8
retrieving revision 1.9
diff -u -d -r1.8 -r1.9
--- class.phpmediadb_data_sql.php	31 Mar 2005 10:13:14 -0000	1.8
+++ class.phpmediadb_data_sql.php	6 Apr 2005 13:57:14 -0000	1.9
@@ -65,7 +65,7 @@
 	 * This function provides the connection to the database
 	 *
 	 * @access public
-	 * @return String $conn contains information from the connection to the database
+	 * @return String contains information from the connection to the database
 	*/
 	public function getConnection()
 	{
@@ -91,22 +91,24 @@
 	 *
 	 * @access public
 	 * @param String $conn contains information from the connection to the database
-	 * @return Integer $rs returns the id from the last created record
-	 * @return Mixed rollbackTransaction() returns the error message
+	 * @return Integer returns the id from the last created record
 	*/
 	public function getLastInsert( $conn )
 	{
 		try
 		{
-			$this->DATA->SQL->openTransaction( $conn );
+			/*
 			$stmt = $conn->prepareStatement( 'SELECT LAST_INSERT_ID()' );
 			$rs = $stmt->executeQuery();
-			$this->DATA->SQL->commitTransaction( $conn );
 			return $rs;
+			*/
+			
+			$idGen = $conn->getIdGenerator();
+			return $idGen->getId();
 		}
 		catch( Exception $e )
 		{
-			return $this->DATA->SQL->rollbackTransaction( $conn, $e );
+			die( $e->getMessage() );
 		}	
 	}
 	
@@ -116,7 +118,6 @@
 	 *
 	 * @access public
 	 * @param String $conn contains information from the connection to the database
-	 * @return Mixed $error returns the error message
 	*/
 	public function openTransaction( $conn )
 	{
@@ -128,7 +129,6 @@
 	 * This function commits a transaction
 	 * @access public
 	 * @param String $conn contains information from the connection to the database
-	 * @return Mixed $error returns the error message
 	*/
 	public function commitTransaction( $conn )
 	{
@@ -141,14 +141,17 @@
 	 *
 	 * @access public
 	 * @param String $conn contains information from the connection to the database
-	 * @return Mixed $error returns the error message
 	*/
 	public function rollbackTransaction( $conn, $e )
 	{
-		$conn->rollback(); // abort all delete/update queries in the transaction
+		/* abort all delete/update queries in the transaction*/
+		$conn->rollback();
+		
+		/* get errormessage */
 		$error = $e->getMessage();
 		
-		return $error;
+		/* terminate script */
+		die( $error );
 	}
 	
 //-----------------------------------------------------------------------------
@@ -157,7 +160,7 @@
 	 *
 	 * @access public
 	 * @param String $rs is the resultset from the sql query
-	 * @return Mixed $dataArray contains the results of the sql query
+	 * @return array contains the results of the sql query
 	*/
 	public function generateDataArray( $rs )
 	{



From nobody at sheep.berlios.de  Wed Apr  6 15:57:26 2005
From: nobody at sheep.berlios.de (bruf)
Date: Wed, 6 Apr 2005 15:57:26 +0200
Subject: [phpmediadb-cvs] phpmediadb-cvs/_source/tier.data class.phpmediadb_data_status.php,1.10,1.11
Message-ID: <200504061357.j36DvQm05277@bat.berlios.de>

Update of /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.data
In directory sheep:/tmp/cvs-serv12563/_source/tier.data

Modified Files:
	class.phpmediadb_data_status.php 
Log Message:
* Fixed syntax mistakes
* Fixed some comments

Index: class.phpmediadb_data_status.php
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.data/class.phpmediadb_data_status.php,v
retrieving revision 1.10
retrieving revision 1.11
diff -u -d -r1.10 -r1.11
--- class.phpmediadb_data_status.php	31 Mar 2005 10:13:32 -0000	1.10
+++ class.phpmediadb_data_status.php	6 Apr 2005 13:57:24 -0000	1.11
@@ -65,8 +65,7 @@
 	 *
 	 * @access public
 	 * @param Integer $id contains specified id for the sql statement
-	 * @return Mixed array generateDataArray() returns the results of database query
-	 * @return Mixed getMessage() returns the error message
+	 * @return array returns the results of database query
 	 */
 	public function get( $id )
 	{
@@ -83,7 +82,7 @@
 		}
 		catch( Exception $e )
 		{
-			return $e->getMessage();
+			die( $e->getMessage() );
 		}
 	}
 
@@ -92,8 +91,7 @@
 	 * This function returns all records from the table MediaStatus
 	 *
 	 * @access public
-	 * @return Mixed array generateDataArray() returns the results of database queryry
-	 * @return Mixed getMessage() returns the error message
+	 * @return array returns the results of database queryry
 	 */
 	public function getList()
 	{
@@ -108,7 +106,7 @@
 		}
 		catch( Exception $e )
 		{
-			return $e->getMessage();
+			die( $e->getMessage() );
 		}
 	}
 
@@ -117,9 +115,8 @@
 	 * This function creates a new record in the table MediaStatus
 	 *
 	 * @access public
-	 * @param Mixed array $data contains all required data for the sql statement
-	 * @return Integer getLastInsert() returns id from the last created record
-	 * @return Mixed rollbackTransaction() returns the error message
+	 * @param array $data contains all required data for the sql statement
+	 * @return Integer returns id from the last created record
 	 */
 	public function create( $data )
 	{
@@ -139,7 +136,7 @@
 		}
 		catch( Exception $e )
 		{
-			return $this->DATA->SQL->rollbackTransaction( $conn, $e ); 
+			$this->DATA->SQL->rollbackException( $conn, $e ); 
 		}
 	}
 
@@ -149,8 +146,7 @@
 	 *
 	 * @access public
 	 * @param Integer $id contains specified id for the sql statement
-	 * @param Mixed array $data contains all required data for the sql statement
-	 * @return Mixed rollbackTransaction() returns the error message
+	 * @param array $data contains all required data for the sql statement
 	 */
 	public function modify( $id, $data )
 	{
@@ -172,7 +168,7 @@
 		}
 		catch( Exception $e )
 		{
-			return $this->DATA->SQL->rollbackTransaction( $conn, $e );
+			$this->DATA->SQL->rollbackException( $conn, $e );
 		}
 	}
 
@@ -182,7 +178,6 @@
 	 *
 	 * @access public
 	 * @param Integer $id contains specified id for the sql statement
-	 * @return Mixed rollbackTransaction() returns the error message
 	 */
 	public function delete( $id )
 	{
@@ -198,7 +193,7 @@
 		}
 		catch( Exception $e )
 		{
-			return $this->DATA->SQL->rollbackTransaction( $conn, $e );
+			$this->DATA->SQL->rollbackException( $conn, $e );
 		}
 	}
 
@@ -209,8 +204,7 @@
 	 *
 	 * @access public
 	 * @param Integer $id contains specified id for the sql statement
-	 * @return Boolean $returnValue returns whether the specified record exists
-	 * @return Mixed getMessage() returns the error message
+	 * @return bool returns whether the specified record exists
 	 */
 	public function exist( $id )
 	{
@@ -235,7 +229,7 @@
 		}
 		catch( Exception $e )
 		{
-			return $e->getMessage();
+			die( $e->getMessage() );
 		}
 	}
 



From nobody at sheep.berlios.de  Wed Apr  6 15:57:36 2005
From: nobody at sheep.berlios.de (bruf)
Date: Wed, 6 Apr 2005 15:57:36 +0200
Subject: [phpmediadb-cvs] phpmediadb-cvs/_source/tier.data class.phpmediadb_data_videos.php,1.10,1.11
Message-ID: <200504061357.j36Dvam05289@bat.berlios.de>

Update of /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.data
In directory sheep:/tmp/cvs-serv12592/_source/tier.data

Modified Files:
	class.phpmediadb_data_videos.php 
Log Message:
* Fixed syntax mistakes
* Fixed some comments

Index: class.phpmediadb_data_videos.php
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.data/class.phpmediadb_data_videos.php,v
retrieving revision 1.10
retrieving revision 1.11
diff -u -d -r1.10 -r1.11
--- class.phpmediadb_data_videos.php	31 Mar 2005 10:13:43 -0000	1.10
+++ class.phpmediadb_data_videos.php	6 Apr 2005 13:57:34 -0000	1.11
@@ -66,8 +66,7 @@
 	 *
 	 * @access public
 	 * @param Integer $id contains specified id for the sql statement
-	 * @return Mixed array generateDataArray() returns the results of database query
-	 * @return Mixed getMessage() returns the error message
+	 * @return array returns the results of database query
 	 */
 	public function get( $id )
 	{
@@ -96,7 +95,7 @@
 		}
 		catch( Exception $e )
 		{
-			return $e->getMessage();
+			die( $e->getMessage() );
 		}
 	}
 
@@ -106,8 +105,7 @@
 	 * and all required data from the other tables
 	 *
 	 * @access public
-	 * @return Mixed array generateDataArray() returns the results of database query
-	 * @return Mixed getMessagen() returns the error message
+	 * @return array returns the results of database query
 	 */
 	public function getList()
 	{
@@ -128,7 +126,7 @@
 		}
 		catch( Exception $e )
 		{
-			return $e->getMessage();
+			die( $e->getMessage() );
 		}
 	}
 
@@ -138,9 +136,8 @@
 	 * and all required data in the other tables
 	 *
 	 * @access public
-	 * @param Mixed array $data contains all required data for the sql statement
-	 * @return Integer $id returns id from the last created record
-	 * @return Mixed rollbackTransaction() returns the error message
+	 * @param array $data contains all required data for the sql statement
+	 * @return Integer returns id from the last created record
 	 */
 	public function create( $data )
 	{
@@ -149,17 +146,17 @@
 			$conn = $this->DATA->SQL->getConnection();
 			$this->DATA->SQL->openTransaction( $conn );
 			$stmt = $conn->prepareStatement(	'INSERT INTO Items
-												( ItemTitle, ItemOriginalTitle, ItemRelease, ItemMediaName, ItemCreationDate,
+												( ItemTitle, ItemOriginalTitle, ItemReleaseDate, ItemMediaName, ItemCreationDate,
 												ItemModificationDate, ItemComment, ItemQuantity, ItemIdentifier, ItemTypeID )
 												VALUES( ?, ?, ?, ?, now(), now(), ?, ?, ?, ? )' );
 			$stmt->setString( 1, $data['ItemTitle'] );
 			$stmt->setString( 2, $data['ItemOriginalTitle'] );
-			$stmt->setString( 3, $data['ItemRelease'] );
+			$stmt->setString( 3, $data['ItemReleaseDate'] );
 			$stmt->setString( 4, $data['ItemMediaName'] );
 			$stmt->setString( 5, $data['ItemComment'] );
 			$stmt->setString( 6, $data['ItemQuantity'] );
 			$stmt->setString( 7, $data['ItemIdentifier'] );
-			$stmt->setString( 8, $data['ItemTypeID'] );
+			$stmt->setString( 8, PHPMEDIADB_ITEM_VIDEO );
 			$stmt->executeUpdate();
 			
 			$id = $this->DATA->SQL->getLastInsert( $conn );
@@ -183,8 +180,7 @@
 	 *
 	 * @access public
 	 * @param Integer $id contains specified id for the sql statement
-	 * @param Mixed array $data contains all required data for the sql statement
-	 * @return Mixed rollbackTransaction() returns the error message
+	 * @param array $data contains all required data for the sql statement
 	 */
 	public function modify( $id, $data )
 	{
@@ -201,7 +197,7 @@
 												BinaryDatas
 												SET Items.ItemTitle = ?,
 												Items.ItemOriginalTitle = ?,
-												Items.ItemRelease = ?,
+												Items.ItemReleaseDate = ?,
 												Items.ItemMediaName = ?,
 												Items.ItemModificationDate = now(),
 												Items.ItemComment = ?,
@@ -222,7 +218,7 @@
 												AND Items.ItemPicturesID = BinaryDatas.ItemPicturesID' );
 			$stmt->setString( 1, $data['ItemTitle'] );
 			$stmt->setString( 2, $data['ItemOriginalTitle'] );
-			$stmt->setString( 3, $data['ItemRelease'] );
+			$stmt->setString( 3, $data['ItemReleaseDate'] );
 			$stmt->setString( 4, $data['ItemMediaName'] );
 			$stmt->setString( 5, $data['ItemComment'] );
 			$stmt->setString( 6, $data['ItemQuantity'] );
@@ -249,7 +245,6 @@
 	 *
 	 * @access public
 	 * @param Integer $id contains specified id for the sql statement
-	 * @return Mixed rollbackTransaction() returns the error message
 	 */
 	public function delete( $id )
 	{
@@ -269,7 +264,7 @@
 		}
 		catch( Exception $e )
 		{
-			return $this->DATA->SQL->rollbackException( $conn, $e );
+			$this->DATA->SQL->rollbackException( $conn, $e );
 		}
 	}
 
@@ -280,8 +275,7 @@
 	 *
 	 * @access public
 	 * @param Integer $id contains specified id for the sql statement
-	 * @return Boolean $returnValue returns whether the specified record exists
-	 * @return Mixed getMessage() returns the error message
+	 * @return bool returns whether the specified record exists
 	 */
 	public function exist( $id )
 	{
@@ -306,7 +300,7 @@
 		}
 		catch( Exception $e )
 		{
-			return $e->getMessage();
+			die( $e->getMessage() );
 		}
 	}
 



From nobody at sheep.berlios.de  Wed Apr  6 15:58:27 2005
From: nobody at sheep.berlios.de (bruf)
Date: Wed, 6 Apr 2005 15:58:27 +0200
Subject: [phpmediadb-cvs] phpmediadb-cvs/install create-tables.sql,1.2,1.3
Message-ID: <200504061358.j36DwRm05309@bat.berlios.de>

Update of /cvsroot/phpmediadb/phpmediadb-cvs/install
In directory sheep:/tmp/cvs-serv12651/install

Modified Files:
	create-tables.sql 
Log Message:
* Updated some tables

Index: create-tables.sql
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/install/create-tables.sql,v
retrieving revision 1.2
retrieving revision 1.3
diff -u -d -r1.2 -r1.3
--- create-tables.sql	24 Mar 2005 21:24:11 -0000	1.2
+++ create-tables.sql	6 Apr 2005 13:58:25 -0000	1.3
@@ -21,8 +21,10 @@
 
 CREATE TABLE Categories (
   CategoryID INTEGER UNSIGNED NOT NULL AUTO_INCREMENT,
+  ItemTypeID INTEGER UNSIGNED NOT NULL,
   CategoryName VARCHAR(255) NOT NULL,
-  PRIMARY KEY(CategoryID)
+  PRIMARY KEY(CategoryID),
+  INDEX Categories_FKIndex1(ItemTypeID)
 );
 
 CREATE TABLE Categories_has_Items (



From nobody at sheep.berlios.de  Wed Apr  6 15:58:43 2005
From: nobody at sheep.berlios.de (bruf)
Date: Wed, 6 Apr 2005 15:58:43 +0200
Subject: [phpmediadb-cvs] phpmediadb-cvs/install insert-data.sql,1.4,1.5
Message-ID: <200504061358.j36Dwhm05313@bat.berlios.de>

Update of /cvsroot/phpmediadb/phpmediadb-cvs/install
In directory sheep:/tmp/cvs-serv13212/install

Modified Files:
	insert-data.sql 
Log Message:
* Added some categories

Index: insert-data.sql
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/install/insert-data.sql,v
retrieving revision 1.4
retrieving revision 1.5
diff -u -d -r1.4 -r1.5
--- insert-data.sql	5 Apr 2005 21:35:36 -0000	1.4
+++ insert-data.sql	6 Apr 2005 13:58:40 -0000	1.5
@@ -5,32 +5,182 @@
 -- Daten f?r Tabelle `categories`
 --
 
-INSERT INTO `Categories` (`CategoryID`, `CategoryName`) VALUES (1, 'Category_Action'),
-(2, 'Category_Adventure'),
-(3, 'Category_Animation'),
-(4, 'Category_Comedy'),
-(5, 'Category_Crime'),
-(6, 'Category_Documentary'),
-(7, 'Category_Drama'),
-(8, 'Category_Family'),
-(9, 'Category_Fantasy'),
-(10, 'Category_Film-Noir'),
-(11, 'Category_Horror'),
-(12, 'Category_Music'),
-(13, 'Category_Musical'),
-(14, 'Category_Mystery'),
-(15, 'Category_Romance'),
-(16, 'Category_Sci-Fi'),
-(17, 'Category_Short'),
-(18, 'Category_Thriller'),
-(19, 'Category_War'),
-(20, 'Category_Western');
+
+INSERT INTO `Categories` (`CategoryID`, `ItemTypeID`, `CategoryName`) VALUES (1, 1, 'Blues'),
+(2, 1, 'Classic Rock'),
+(3, 1, 'Country'),
+(4, 1, 'Dance'),
+(5, 1, 'Disco'),
+(6, 1, 'Funk'),
+(7, 1, 'Grunge'),
+(8, 1, 'Hip-Hop'),
+(9, 1, 'Jazz'),
+(10, 1, 'Metal'),
+(11, 1, 'New Age'),
+(12, 1, 'Oldies'),
+(13, 1, 'Other'),
+(14, 1, 'Pop'),
+(15, 1, 'R&B'),
+(16, 1, 'Rap'),
+(17, 1, 'Reggae'),
+(18, 1, 'Rock'),
+(19, 1, 'Techno'),
+(20, 1, 'Industrial'),
+(21, 1, 'Alternative'),
+(22, 1, 'Ska'),
+(23, 1, 'Death Metal'),
+(24, 1, 'Pranks'),
+(25, 1, 'Soundtrack'),
+(26, 1, 'Euro-Techno'),
+(27, 1, 'Ambient'),
+(28, 1, 'Trip-Hop'),
+(29, 1, 'Vocal'),
+(30, 1, 'Jazz+Funk'),
+(31, 1, 'Fusion'),
+(32, 1, 'Trance'),
+(33, 1, 'Classical'),
+(34, 1, 'Instrumental'),
+(35, 1, 'Acid'),
+(36, 1, 'House'),
+(37, 1, 'Game'),
+(38, 1, 'Sound Clip'),
+(39, 1, 'Gospel'),
+(40, 1, 'Noise'),
+(41, 1, 'AlternRock'),
+(42, 1, 'Bass'),
+(43, 1, 'Soul'),
+(44, 1, 'Punk'),
+(45, 1, 'Space'),
+(46, 1, 'Meditative'),
+(47, 1, 'Instrumental Pop'),
+(48, 1, 'Instrumental Rock'),
+(49, 1, 'Ethnic'),
+(50, 1, 'Gothic'),
+(51, 1, 'Darkwave'),
+(52, 1, 'Techno-Industrial'),
+(53, 1, 'Electronic'),
+(54, 1, 'Pop-Folk'),
+(55, 1, 'Eurodance'),
+(56, 1, 'Dream'),
+(57, 1, 'Southern Rock'),
+(58, 1, 'Comedy'),
+(59, 1, 'Cult'),
+(60, 1, 'Gangsta'),
+(61, 1, 'Top 40'),
+(62, 1, 'Christian Rap'),
+(63, 1, 'Pop/Funk'),
+(64, 1, 'Jungle'),
+(65, 1, 'Native American'),
+(66, 1, 'Cabaret'),
+(67, 1, 'New Wave'),
+(68, 1, 'Psychadelic'),
+(69, 1, 'Rave'),
+(70, 1, 'Showtunes'),
+(71, 1, 'Trailer'),
+(72, 1, 'Lo-Fi'),
+(73, 1, 'Tribal'),
+(74, 1, 'Acid Punk'),
+(75, 1, 'Acid Jazz'),
+(76, 1, 'Polka'),
+(77, 1, 'Retro'),
+(78, 1, 'Musical'),
+(79, 1, 'Rock & Roll'),
+(80, 1, 'Hard Rock'),
+(81, 1, 'Folk'),
+(82, 1, 'Folk-Rock'),
+(83, 1, 'National Folk'),
+(84, 1, 'Swing'),
+(85, 1, 'Fast Fusion'),
+(86, 1, 'Bebob'),
+(87, 1, 'Latin'),
+(88, 1, 'Revival'),
+(89, 1, 'Celtic'),
+(90, 1, 'Bluegrass'),
+(91, 1, 'Avantgarde'),
+(92, 1, 'Gothic Rock'),
+(93, 1, 'Progressive Rock'),
+(94, 1, 'Psychedelic Rock'),
+(95, 1, 'Symphonic Rock'),
+(96, 1, 'Slow Rock'),
+(97, 1, 'Big Band'),
+(98, 1, 'Chorus'),
+(99, 1, 'Easy Listening'),
+(100, 1, 'Acoustic'),
+(101, 1, 'Humour'),
+(102, 1, 'Speech'),
+(103, 1, 'Chanson'),
+(104, 1, 'Opera'),
+(105, 1, 'Chamber Music'),
+(106, 1, 'Sonata'),
+(107, 1, 'Symphony'),
+(108, 1, 'Booty Bass'),
+(109, 1, 'Primus'),
+(110, 1, 'Porn Groove'),
+(111, 1, 'Satire'),
+(112, 1, 'Slow Jam'),
+(113, 1, 'Club'),
+(114, 1, 'Tango'),
+(115, 1, 'Samba'),
+(116, 1, 'Folklore'),
+(117, 1, 'Ballad'),
+(118, 1, 'Power Ballad'),
+(119, 1, 'Rhythmic Soul'),
+(120, 1, 'Freestyle'),
+(121, 1, 'Duet'),
+(122, 1, 'Punk Rock'),
+(123, 1, 'Drum Solo'),
+(124, 1, 'Acapella'),
+(125, 1, 'Euro-House'),
+(126, 1, 'Dance Hall'),
+(127, 1, 'Goa'),
+(128, 1, 'Drum & Bass'),
+(129, 1, 'Club-House'),
+(130, 1, 'Hardcore'),
+(131, 1, 'Terror'),
+(132, 1, 'Indie'),
+(133, 1, 'BritPop'),
+(134, 1, 'Negerpunk'),
+(135, 1, 'Polsk Punk'),
+(136, 1, 'Beat'),
+(137, 1, 'Christian Gangsta Rap'),
+(138, 1, 'Heavy Metal'),
+(139, 1, 'Black Metal'),
+(140, 1, 'Crossover'),
+(141, 1, 'Contemporary Christian'),
+(142, 1, 'Christian Rock'),
+(143, 1, 'Merengue'),
+(144, 1, 'Salsa'),
+(145, 1, 'Trash Metal'),
+(146, 1, 'Anime'),
+(147, 1, 'Jpop'),
+(148, 1, 'Synthpop'),
+(149, 2, 'Category_Action'),
+(150, 2, 'Category_Adventure'),
+(151, 2, 'Category_Animation'),
+(152, 2, 'Category_Comedy'),
+(153, 2, 'Category_Crime'),
+(154, 2, 'Category_Documentary'),
+(155, 2, 'Category_Drama'),
+(156, 2, 'Category_Family'),
+(157, 2, 'Category_Fantasy'),
+(158, 2, 'Category_Film-Noir'),
+(159, 2, 'Category_Horror'),
+(160, 2, 'Category_Music'),
+(161, 2, 'Category_Musical'),
+(162, 2, 'Category_Mystery'),
+(163, 2, 'Category_Romance'),
+(164, 2, 'Category_Sci-Fi'),
+(165, 2, 'Category_Short'),
+(166, 2, 'Category_Thriller'),
+(167, 2, 'Category_War'),
+(168, 2, 'Category_Western');
 
 --
 -- Daten f?r Tabelle `itemtypes`
 --
 
-INSERT INTO `ItemTypes` (`ItemTypeID`, `ItemTypeCode`) VALUES (1, 'AUDIO'),
+INSERT INTO `ItemTypes` (`ItemTypeID`, `ItemTypeCode`) VALUES 
+(1, 'AUDIO'),
 (2, 'VIDEO'),
 (3, 'PRINT');
 
@@ -38,7 +188,8 @@
 -- Daten f?r Tabelle `mediaagerestrictions`
 --
 
-INSERT INTO `MediaAgeRestrictions` (`MediaAgeRestrictionID`, `MediaAgeRestriction`) VALUES (1, 'AgeRestriction_Free'),
+INSERT INTO `MediaAgeRestrictions` (`MediaAgeRestrictionID`, `MediaAgeRestriction`) VALUES 
+(1, 'AgeRestriction_Free'),
 (2, 'AgeRestriction_6Years'),
 (3, 'AgeRestriction_12Years'),
 (4, 'AgeRestriction_16Years'),
@@ -48,7 +199,8 @@
 -- Daten f?r Tabelle `mediacodecs`
 --
 
-INSERT INTO `MediaCodecs` (`MediaCodecID`, `ItemTypeID`, `MediaCodecName`) VALUES (1, 1, 'MP3'),
+INSERT INTO `MediaCodecs` (`MediaCodecID`, `ItemTypeID`, `MediaCodecName`) VALUES 
+(1, 1, 'Codec_MP3'),
 (2, 1, 'Codec_Vorbis'),
 (3, 1, 'Codec_WAVE'),
 (4, 1, 'Codec_WMA'),
@@ -73,7 +225,8 @@
 -- Daten f?r Tabelle `mediaformats`
 --
 
-INSERT INTO `MediaFormats` (`MediaFormatID`, `ItemTypeID`, `MediaFormatName`) VALUES (1, 1, 'Datei'),
+INSERT INTO `MediaFormats` (`MediaFormatID`, `ItemTypeID`, `MediaFormatName`) VALUES 
+(1, 1, 'Format_File'),
 (2, 1, 'Format_AudioCD'),
 (3, 1, 'Format_AudioDVD'),
 (4, 1, 'Format_MiniDisc'),



From nobody at sheep.berlios.de  Wed Apr  6 15:58:58 2005
From: nobody at sheep.berlios.de (bruf)
Date: Wed, 6 Apr 2005 15:58:58 +0200
Subject: [phpmediadb-cvs] phpmediadb-cvs/_source/tier.configuration config.business.php,1.6,1.7
Message-ID: <200504061358.j36Dwwm05317@bat.berlios.de>

Update of /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.configuration
In directory sheep:/tmp/cvs-serv17387/_source/tier.configuration

Modified Files:
	config.business.php 
Log Message:
* Fixed syntax mistakes

Index: config.business.php
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.configuration/config.business.php,v
retrieving revision 1.6
retrieving revision 1.7
diff -u -d -r1.6 -r1.7
--- config.business.php	24 Mar 2005 17:12:56 -0000	1.6
+++ config.business.php	6 Apr 2005 13:58:55 -0000	1.7
@@ -20,7 +20,7 @@
 $phpMediaDbConfig['BUSINESS']['input-regex'][PHPMEDIADB_ITEM_AUDIO]['ItemOriginalTitle']		= '^(.{1,255})?$';
 $phpMediaDbConfig['BUSINESS']['input-regex'][PHPMEDIADB_ITEM_AUDIO]['ItemMediaName']			= '^(.{1,255})?$';
 $phpMediaDbConfig['BUSINESS']['input-regex'][PHPMEDIADB_ITEM_AUDIO]['ItemIdentification']		= '^(.{1,255})?$';
-$phpMediaDbConfig['BUSINESS']['input-regex'][PHPMEDIADB_ITEM_AUDIO]['ItemRelease']				= '^([[:digit:]]{4})?$';
+$phpMediaDbConfig['BUSINESS']['input-regex'][PHPMEDIADB_ITEM_AUDIO]['ItemReleaseDate']				= '^([[:digit:]]{4})?$';
 $phpMediaDbConfig['BUSINESS']['input-regex'][PHPMEDIADB_ITEM_AUDIO]['Categories']				= '^([[:digit:]]+)?$';
 $phpMediaDbConfig['BUSINESS']['input-regex'][PHPMEDIADB_ITEM_AUDIO]['ItemMediaSize']			= '^(([[:digit:]]+([[:punct:]]{1}[[:digit:]]+)))?$';
 $phpMediaDbConfig['BUSINESS']['input-regex'][PHPMEDIADB_ITEM_AUDIO]['MediaFormatID']			= '^([[:digit:]]+)?$';
@@ -33,7 +33,7 @@
 $phpMediaDbConfig['BUSINESS']['input-size'][PHPMEDIADB_ITEM_AUDIO]['ItemOriginalTitle']			= 255;
 $phpMediaDbConfig['BUSINESS']['input-size'][PHPMEDIADB_ITEM_AUDIO]['ItemMediaName']				= 255;
 $phpMediaDbConfig['BUSINESS']['input-size'][PHPMEDIADB_ITEM_AUDIO]['ItemIdentification']		= 255;
-$phpMediaDbConfig['BUSINESS']['input-size'][PHPMEDIADB_ITEM_AUDIO]['ItemRelease']				= 4;
+$phpMediaDbConfig['BUSINESS']['input-size'][PHPMEDIADB_ITEM_AUDIO]['ItemReleaseDate']			= 4;
 $phpMediaDbConfig['BUSINESS']['input-size'][PHPMEDIADB_ITEM_AUDIO]['ItemMediaSize']				= 255;
 $phpMediaDbConfig['BUSINESS']['input-size'][PHPMEDIADB_ITEM_AUDIO]['PublisherName']				= 255;
 $phpMediaDbConfig['BUSINESS']['input-size'][PHPMEDIADB_ITEM_AUDIO]['ItemQuantity']				= 255;



From nobody at sheep.berlios.de  Wed Apr  6 15:59:13 2005
From: nobody at sheep.berlios.de (bruf)
Date: Wed, 6 Apr 2005 15:59:13 +0200
Subject: [phpmediadb-cvs] phpmediadb-cvs/_source/tier.configuration config.data.php,1.6,1.7
Message-ID: <200504061359.j36DxDm05328@bat.berlios.de>

Update of /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.configuration
In directory sheep:/tmp/cvs-serv21446/_source/tier.configuration

Modified Files:
	config.data.php 
Log Message:
* Fixed syntax mistakes

Index: config.data.php
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.configuration/config.data.php,v
retrieving revision 1.6
retrieving revision 1.7
diff -u -d -r1.6 -r1.7
--- config.data.php	27 Mar 2005 00:37:24 -0000	1.6
+++ config.data.php	6 Apr 2005 13:59:09 -0000	1.7
@@ -23,8 +23,8 @@
  */
 $phpMediaDbConfig['DATA']['sqlconnection']['phptype']	= 'mysql';
 $phpMediaDbConfig['DATA']['sqlconnection']['hostspec']	= 'localhost';
-$phpMediaDbConfig['DATA']['sqlconnection']['username']	= 'dbuser';
-$phpMediaDbConfig['DATA']['sqlconnection']['password']	= 'dbpass';
+$phpMediaDbConfig['DATA']['sqlconnection']['username']	= 'root';
+$phpMediaDbConfig['DATA']['sqlconnection']['password']	= '';
 $phpMediaDbConfig['DATA']['sqlconnection']['database']	= 'phpmediadb';
 
 $phpMediaDbConfig['DATA']['sqlconnection']['conntype'] = 1;



From nobody at sheep.berlios.de  Wed Apr  6 16:02:02 2005
From: nobody at sheep.berlios.de (bruf)
Date: Wed, 6 Apr 2005 16:02:02 +0200
Subject: [phpmediadb-cvs] phpmediadb-cvs/help/development erm-model.xml,1.16,1.17
Message-ID: <200504061402.j36E22m05382@bat.berlios.de>

Update of /cvsroot/phpmediadb/phpmediadb-cvs/help/development
In directory sheep:/tmp/cvs-serv21720/help/development

Modified Files:
	erm-model.xml 
Log Message:
* Fixed some comments
* Added foreign key ItemTypeID to Categories

Index: erm-model.xml
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/help/development/erm-model.xml,v
retrieving revision 1.16
retrieving revision 1.17
diff -u -d -r1.16 -r1.17
--- erm-model.xml	17 Mar 2005 20:03:25 -0000	1.16
+++ erm-model.xml	6 Apr 2005 14:01:59 -0000	1.17
@@ -1,273 +1,273 @@
-<?xml version="1.0" standalone="yes" ?>
-<DBMODEL Version="4.0">
-<SETTINGS>
-<GLOBALSETTINGS ModelName="erm-model" IDModel="0" IDVersion="0" VersionStr="1.0.0.0" Comments="" UseVersionHistroy="1" AutoIncVersion="1" DatabaseType="MySQL" ZoomFac="75.00" XPos="976" YPos="0" DefaultDataType="5" DefaultTablePrefix="0" DefSaveDBConn="" DefSyncDBConn="" DefQueryDBConn="" Printer="" HPageCount="4.0" PageAspectRatio="1.440892512336408" PageOrientation="1" PageFormat="A4 (210x297 mm, 8.26x11.7 inches)" SelectedPages="" UsePositionGrid="1" PositionGridX="10" PositionGridY="10" TableNameInRefs="0" DefaultTableType="0" ActivateRefDefForNewRelations="1" FKPrefix="" FKPostfix="" CreateFKRefDefIndex="1" DBQuoteCharacter="`" CreateSQLforLinkedObjects="0" DefModelFont="Nimbus Sans L" CanvasWidth="4096" CanvasHeight="2842" />
-<DATATYPEGROUPS>
-<DATATYPEGROUP Name="Numeric Types" Icon="1" />
-<DATATYPEGROUP Name="Date and Time Types" Icon="2" />
-<DATATYPEGROUP Name="String Types" Icon="3" />
-<DATATYPEGROUP Name="Blob and Text Types" Icon="4" />
-<DATATYPEGROUP Name="User defined Types" Icon="5" />
-<DATATYPEGROUP Name="Geographic Types" Icon="6" />
-</DATATYPEGROUPS>
-<DATATYPES>
-<DATATYPE ID="1" IDGroup="0" TypeName="TINYINT" Description="A very small integer. The signed range is -128 to 127. The unsigned range is 0 to 255." ParamCount="1" OptionCount="2" ParamRequired="0" EditParamsAsString="0" SynonymGroup="0" PhysicalMapping="0" PhysicalTypeName="" >
-<PARAMS>
-<PARAM Name="length" />
-</PARAMS>
-<OPTIONS>
-<OPTION Name="UNSIGNED" Default="1" />
-<OPTION Name="ZEROFILL" Default="0" />
-</OPTIONS>
-</DATATYPE>
-<DATATYPE ID="2" IDGroup="0" TypeName="SMALLINT" Description="A small integer. The signed range is -32768 to 32767. The unsigned range is 0 to 65535." ParamCount="1" OptionCount="2" ParamRequired="0" EditParamsAsString="0" SynonymGroup="0" PhysicalMapping="0" PhysicalTypeName="" >
-<PARAMS>
-<PARAM Name="length" />
-</PARAMS>
-<OPTIONS>
-<OPTION Name="UNSIGNED" Default="1" />
-<OPTION Name="ZEROFILL" Default="0" />
-</OPTIONS>
-</DATATYPE>
-<DATATYPE ID="3" IDGroup="0" TypeName="MEDIUMINT" Description="A medium-size integer. The signed range is -8388608 to 8388607. The unsigned range is 0 to 16777215." ParamCount="1" OptionCount="2" ParamRequired="0" EditParamsAsString="0" SynonymGroup="0" PhysicalMapping="0" PhysicalTypeName="" >
-<PARAMS>
-<PARAM Name="length" />
-</PARAMS>
-<OPTIONS>
-<OPTION Name="UNSIGNED" Default="1" />
-<OPTION Name="ZEROFILL" Default="0" />
-</OPTIONS>
-</DATATYPE>
-<DATATYPE ID="4" IDGroup="0" TypeName="INT" Description="A normal-size integer. The signed range is -2147483648 to 2147483647. The unsigned range is 0 to 4294967295." ParamCount="1" OptionCount="2" ParamRequired="0" EditParamsAsString="0" SynonymGroup="1" PhysicalMapping="0" PhysicalTypeName="" >
-<PARAMS>
-<PARAM Name="length" />
-</PARAMS>
-<OPTIONS>
-<OPTION Name="UNSIGNED" Default="0" />
-<OPTION Name="ZEROFILL" Default="0" />
-</OPTIONS>
-</DATATYPE>
-<DATATYPE ID="5" IDGroup="0" TypeName="INTEGER" Description="A normal-size integer. The signed range is -2147483648 to 2147483647. The unsigned range is 0 to 4294967295." ParamCount="1" OptionCount="2" ParamRequired="0" EditParamsAsString="0" SynonymGroup="1" PhysicalMapping="0" PhysicalTypeName="" >
-<PARAMS>
-<PARAM Name="length" />
-</PARAMS>
-<OPTIONS>
-<OPTION Name="UNSIGNED" Default="1" />
-<OPTION Name="ZEROFILL" Default="0" />
-</OPTIONS>
-</DATATYPE>
-<DATATYPE ID="6" IDGroup="0" TypeName="BIGINT" Description="A large integer. The signed range is -9223372036854775808 to 9223372036854775807. The unsigned range is 0 to 18446744073709551615." ParamCount="1" OptionCount="2" ParamRequired="0" EditParamsAsString="0" SynonymGroup="0" PhysicalMapping="0" PhysicalTypeName="" >
-<PARAMS>
-<PARAM Name="length" />
-</PARAMS>
-<OPTIONS>
-<OPTION Name="UNSIGNED" Default="0" />
-<OPTION Name="ZEROFILL" Default="0" />
-</OPTIONS>
-</DATATYPE>
-<DATATYPE ID="7" IDGroup="0" TypeName="FLOAT" Description="A small (single-precision) floating-point number. Cannot be unsigned. Allowable values are -3.402823466E+38 to -1.175494351E-38, 0, and 1.175494351E-38 to 3.402823466E+38." ParamCount="1" OptionCount="1" ParamRequired="1" EditParamsAsString="0" SynonymGroup="0" PhysicalMapping="0" PhysicalTypeName="" >
-<PARAMS>
-<PARAM Name="precision" />
-</PARAMS>
-<OPTIONS>
-<OPTION Name="ZEROFILL" Default="0" />
-</OPTIONS>
-</DATATYPE>
-<DATATYPE ID="8" IDGroup="0" TypeName="FLOAT" Description="A small (single-precision) floating-point number. Cannot be unsigned. Allowable values are -3.402823466E+38 to -1.175494351E-38, 0, and 1.175494351E-38 to 3.402823466E+38." ParamCount="2" OptionCount="1" ParamRequired="0" EditParamsAsString="0" SynonymGroup="0" PhysicalMapping="0" PhysicalTypeName="" >
-<PARAMS>
-<PARAM Name="length" />
-<PARAM Name="decimals" />
-</PARAMS>
-<OPTIONS>
-<OPTION Name="ZEROFILL" Default="0" />
-</OPTIONS>
-</DATATYPE>
-<DATATYPE ID="9" IDGroup="0" TypeName="DOUBLE" Description="A normal-size (double-precision) floating-point number. Cannot be unsigned. Allowable values are -1.7976931348623157E+308 to -2.2250738585072014E-308, 0, and 2.2250738585072014E-308 to 1.7976931348623157E+308." ParamCount="2" OptionCount="1" ParamRequired="0" EditParamsAsString="0" SynonymGroup="2" PhysicalMapping="0" PhysicalTypeName="" >
-<PARAMS>
-<PARAM Name="length" />
-<PARAM Name="decimals" />
-</PARAMS>
-<OPTIONS>
-<OPTION Name="ZEROFILL" Default="0" />
-</OPTIONS>
-</DATATYPE>
-<DATATYPE ID="10" IDGroup="0" TypeName="DOUBLE PRECISION" Description="This is a synonym for DOUBLE." ParamCount="2" OptionCount="1" ParamRequired="0" EditParamsAsString="0" SynonymGroup="2" PhysicalMapping="0" PhysicalTypeName="" >
-<PARAMS>
-<PARAM Name="length" />
-<PARAM Name="decimals" />
-</PARAMS>
-<OPTIONS>
-<OPTION Name="ZEROFILL" Default="0" />
-</OPTIONS>
-</DATATYPE>
-<DATATYPE ID="11" IDGroup="0" TypeName="REAL" Description="This is a synonym for DOUBLE." ParamCount="2" OptionCount="1" ParamRequired="0" EditParamsAsString="0" SynonymGroup="2" PhysicalMapping="0" PhysicalTypeName="" >
-<PARAMS>
-<PARAM Name="length" />
-<PARAM Name="decimals" />
-</PARAMS>
-<OPTIONS>
-<OPTION Name="ZEROFILL" Default="0" />
-</OPTIONS>
-</DATATYPE>
-<DATATYPE ID="12" IDGroup="0" TypeName="DECIMAL" Description="An unpacked floating-point number. Cannot be unsigned. Behaves like a CHAR column." ParamCount="2" OptionCount="1" ParamRequired="0" EditParamsAsString="0" SynonymGroup="3" PhysicalMapping="0" PhysicalTypeName="" >
-<PARAMS>
-<PARAM Name="length" />
-<PARAM Name="decimals" />
-</PARAMS>
-<OPTIONS>
-<OPTION Name="ZEROFILL" Default="0" />
-</OPTIONS>
-</DATATYPE>
-<DATATYPE ID="13" IDGroup="0" TypeName="NUMERIC" Description="This is a synonym for DECIMAL." ParamCount="2" OptionCount="1" ParamRequired="1" EditParamsAsString="0" SynonymGroup="3" PhysicalMapping="0" PhysicalTypeName="" >
-<PARAMS>
-<PARAM Name="length" />
-<PARAM Name="decimals" />
-</PARAMS>
-<OPTIONS>
-<OPTION Name="ZEROFILL" Default="0" />
-</OPTIONS>
-</DATATYPE>
-<DATATYPE ID="14" IDGroup="1" TypeName="DATE" Description="A date. The supported range is \a1000-01-01\a to \a9999-12-31\a." ParamCount="0" OptionCount="0" ParamRequired="0" EditParamsAsString="0" SynonymGroup="0" PhysicalMapping="0" PhysicalTypeName="" >
-</DATATYPE>
-<DATATYPE ID="15" IDGroup="1" TypeName="DATETIME" Description="A date and time combination. The supported range is \a1000-01-01 00:00:00\a to \a9999-12-31 23:59:59\a." ParamCount="0" OptionCount="0" ParamRequired="0" EditParamsAsString="0" SynonymGroup="0" PhysicalMapping="0" PhysicalTypeName="" >
-</DATATYPE>
-<DATATYPE ID="16" IDGroup="1" TypeName="TIMESTAMP" Description="A timestamp. The range is \a1970-01-01 00:00:00\a to sometime in the year 2037. The length can be 14 (or missing), 12, 10, 8, 6, 4, or 2 representing YYYYMMDDHHMMSS, ... , YYYYMMDD, ... , YY formats." ParamCount="1" OptionCount="0" ParamRequired="0" EditParamsAsString="0" SynonymGroup="0" PhysicalMapping="0" PhysicalTypeName="" >
-<PARAMS>
-<PARAM Name="length" />
-</PARAMS>
-</DATATYPE>
-<DATATYPE ID="17" IDGroup="1" TypeName="TIME" Description="A time. The range is \a-838:59:59\a to \a838:59:59\a." ParamCount="0" OptionCount="0" ParamRequired="0" EditParamsAsString="0" SynonymGroup="0" PhysicalMapping="0" PhysicalTypeName="" >
-</DATATYPE>
-<DATATYPE ID="18" IDGroup="1" TypeName="YEAR" Description="A year in 2- or 4-digit format (default is 4-digit)." ParamCount="1" OptionCount="0" ParamRequired="0" EditParamsAsString="0" SynonymGroup="0" PhysicalMapping="0" PhysicalTypeName="" >
-<PARAMS>
-<PARAM Name="length" />
-</PARAMS>
-</DATATYPE>
-<DATATYPE ID="19" IDGroup="2" TypeName="CHAR" Description="A fixed-length string (1 to 255 characters) that is always right-padded with spaces to the specified length when stored. values are sorted and compared in case-insensitive fashion according to the default character set unless the BINARY keyword is given." ParamCount="1" OptionCount="1" ParamRequired="1" EditParamsAsString="0" SynonymGroup="0" PhysicalMapping="0" PhysicalTypeName="" >
-<PARAMS>
-<PARAM Name="length" />
-</PARAMS>
-<OPTIONS>
-<OPTION Name="BINARY" Default="0" />
-</OPTIONS>
-</DATATYPE>
-<DATATYPE ID="20" IDGroup="2" TypeName="VARCHAR" Description="A variable-length string (1 to 255 characters). Values are sorted and compared in case-sensitive fashion unless the BINARY keyword is given." ParamCount="1" OptionCount="1" ParamRequired="1" EditParamsAsString="0" SynonymGroup="0" PhysicalMapping="0" PhysicalTypeName="" >
-<PARAMS>
-<PARAM Name="length" />
-</PARAMS>
-<OPTIONS>
-<OPTION Name="BINARY" Default="0" />
-</OPTIONS>
-</DATATYPE>
-<DATATYPE ID="21" IDGroup="2" TypeName="BIT" Description="This is a synonym for CHAR(1)." ParamCount="0" OptionCount="0" ParamRequired="0" EditParamsAsString="0" SynonymGroup="0" PhysicalMapping="0" PhysicalTypeName="" >
-</DATATYPE>
-<DATATYPE ID="22" IDGroup="2" TypeName="BOOL" Description="This is a synonym for CHAR(1)." ParamCount="0" OptionCount="0" ParamRequired="0" EditParamsAsString="0" SynonymGroup="0" PhysicalMapping="0" PhysicalTypeName="" >
-</DATATYPE>
-<DATATYPE ID="23" IDGroup="3" TypeName="TINYBLOB" Description="A column maximum length of 255 (2^8 - 1) characters. Values are sorted and compared in case-sensitive fashion." ParamCount="0" OptionCount="0" ParamRequired="0" EditParamsAsString="0" SynonymGroup="0" PhysicalMapping="0" PhysicalTypeName="" >
-</DATATYPE>
-<DATATYPE ID="24" IDGroup="3" TypeName="BLOB" Description="A column maximum length of 65535 (2^16 - 1) characters. Values are sorted and compared in case-sensitive fashion." ParamCount="0" OptionCount="0" ParamRequired="0" EditParamsAsString="0" SynonymGroup="0" PhysicalMapping="0" PhysicalTypeName="" >
-</DATATYPE>
-<DATATYPE ID="25" IDGroup="3" TypeName="MEDIUMBLOB" Description="A column maximum length of 16777215 (2^24 - 1) characters. Values are sorted and compared in case-sensitive fashion." ParamCount="0" OptionCount="0" ParamRequired="0" EditParamsAsString="0" SynonymGroup="0" PhysicalMapping="0" PhysicalTypeName="" >
-</DATATYPE>
-<DATATYPE ID="26" IDGroup="3" TypeName="LONGBLOB" Description="A column maximum length of 4294967295 (2^32 - 1) characters. Values are sorted and compared in case-sensitive fashion." ParamCount="0" OptionCount="0" ParamRequired="0" EditParamsAsString="0" SynonymGroup="0" PhysicalMapping="0" PhysicalTypeName="" >
-</DATATYPE>
-<DATATYPE ID="27" IDGroup="3" TypeName="TINYTEXT" Description="A column maximum length of 255 (2^8 - 1) characters." ParamCount="0" OptionCount="0" ParamRequired="0" EditParamsAsString="0" SynonymGroup="0" PhysicalMapping="0" PhysicalTypeName="" >
-</DATATYPE>
-<DATATYPE ID="28" IDGroup="3" TypeName="TEXT" Description="A column maximum length of 65535 (2^16 - 1) characters." ParamCount="0" OptionCount="0" ParamRequired="0" EditParamsAsString="0" SynonymGroup="0" PhysicalMapping="0" PhysicalTypeName="" >
-</DATATYPE>
-<DATATYPE ID="29" IDGroup="3" TypeName="MEDIUMTEXT" Description="A column maximum length of 16777215 (2^24 - 1) characters." ParamCount="0" OptionCount="0" ParamRequired="0" EditParamsAsString="0" SynonymGroup="0" PhysicalMapping="0" PhysicalTypeName="" >
-</DATATYPE>
-<DATATYPE ID="30" IDGroup="3" TypeName="LONGTEXT" Description="A column maximum length of 4294967295 (2^32 - 1) characters." ParamCount="0" OptionCount="0" ParamRequired="0" EditParamsAsString="0" SynonymGroup="0" PhysicalMapping="0" PhysicalTypeName="" >
-</DATATYPE>
-<DATATYPE ID="31" IDGroup="3" TypeName="ENUM" Description="An enumeration. A string object that can have only one value, chosen from the list of values." ParamCount="1" OptionCount="0" ParamRequired="1" EditParamsAsString="1" SynonymGroup="0" PhysicalMapping="0" PhysicalTypeName="" >
-<PARAMS>
-<PARAM Name="values" />
-</PARAMS>
-</DATATYPE>
-<DATATYPE ID="32" IDGroup="3" TypeName="SET" Description="A set. A string object that can have zero or more values, each of which must be chosen from the list of values." ParamCount="1" OptionCount="0" ParamRequired="1" EditParamsAsString="1" SynonymGroup="0" PhysicalMapping="0" PhysicalTypeName="" >
-<PARAMS>
-<PARAM Name="values" />
-</PARAMS>
-</DATATYPE>
-<DATATYPE ID="33" IDGroup="4" TypeName="Varchar(20)" Description="" ParamCount="0" OptionCount="1" ParamRequired="0" EditParamsAsString="0" SynonymGroup="0" PhysicalMapping="0" PhysicalTypeName="" >
-<OPTIONS>
-<OPTION Name="BINARY" Default="0" />
-</OPTIONS>
-</DATATYPE>
-<DATATYPE ID="34" IDGroup="4" TypeName="Varchar(45)" Description="" ParamCount="0" OptionCount="1" ParamRequired="0" EditParamsAsString="0" SynonymGroup="0" PhysicalMapping="0" PhysicalTypeName="" >
-<OPTIONS>
-<OPTION Name="BINARY" Default="0" />
-</OPTIONS>
-</DATATYPE>
-<DATATYPE ID="35" IDGroup="4" TypeName="Varchar(255)" Description="" ParamCount="0" OptionCount="1" ParamRequired="0" EditParamsAsString="0" SynonymGroup="0" PhysicalMapping="0" PhysicalTypeName="" >
-<OPTIONS>
-<OPTION Name="BINARY" Default="0" />
-</OPTIONS>
-</DATATYPE>
-<DATATYPE ID="36" IDGroup="5" TypeName="GEOMETRY" Description="Geographic Datatype" ParamCount="0" OptionCount="0" ParamRequired="0" EditParamsAsString="0" SynonymGroup="0" PhysicalMapping="0" PhysicalTypeName="" >
-</DATATYPE>
-<DATATYPE ID="38" IDGroup="5" TypeName="LINESTRING" Description="Geographic Datatype" ParamCount="0" OptionCount="0" ParamRequired="0" EditParamsAsString="0" SynonymGroup="0" PhysicalMapping="0" PhysicalTypeName="" >
-</DATATYPE>
-<DATATYPE ID="39" IDGroup="5" TypeName="POLYGON" Description="Geographic Datatype" ParamCount="0" OptionCount="0" ParamRequired="0" EditParamsAsString="0" SynonymGroup="0" PhysicalMapping="0" PhysicalTypeName="" >
-</DATATYPE>
-<DATATYPE ID="40" IDGroup="5" TypeName="MULTIPOINT" Description="Geographic Datatype" ParamCount="0" OptionCount="0" ParamRequired="0" EditParamsAsString="0" SynonymGroup="0" PhysicalMapping="0" PhysicalTypeName="" >
-</DATATYPE>
-<DATATYPE ID="41" IDGroup="5" TypeName="MULTILINESTRING" Description="Geographic Datatype" ParamCount="0" OptionCount="0" ParamRequired="0" EditParamsAsString="0" SynonymGroup="0" PhysicalMapping="0" PhysicalTypeName="" >
-</DATATYPE>
-<DATATYPE ID="42" IDGroup="5" TypeName="MULTIPOLYGON" Description="Geographic Datatype" ParamCount="0" OptionCount="0" ParamRequired="0" EditParamsAsString="0" SynonymGroup="0" PhysicalMapping="0" PhysicalTypeName="" >
-</DATATYPE>
-<DATATYPE ID="43" IDGroup="5" TypeName="GEOMETRYCOLLECTION" Description="Geographic Datatype" ParamCount="0" OptionCount="0" ParamRequired="0" EditParamsAsString="0" SynonymGroup="0" PhysicalMapping="0" PhysicalTypeName="" >
-</DATATYPE>
-</DATATYPES>
-<COMMON_DATATYPES>
-<COMMON_DATATYPE ID="5" />
-<COMMON_DATATYPE ID="8" />
-<COMMON_DATATYPE ID="20" />
-<COMMON_DATATYPE ID="15" />
-<COMMON_DATATYPE ID="22" />
-<COMMON_DATATYPE ID="28" />
-<COMMON_DATATYPE ID="26" />
-<COMMON_DATATYPE ID="33" />
-<COMMON_DATATYPE ID="34" />
-<COMMON_DATATYPE ID="35" />
-</COMMON_DATATYPES>
-<TABLEPREFIXES>
-<TABLEPREFIX Name="Default (no prefix)" />
-</TABLEPREFIXES>
-<REGIONCOLORS>
-<REGIONCOLOR Color="Red=#FFEEEC" />
-<REGIONCOLOR Color="Yellow=#FEFDED" />
-<REGIONCOLOR Color="Green=#EAFFE5" />
-<REGIONCOLOR Color="Cyan=#ECFDFF" />
-<REGIONCOLOR Color="Blue=#F0F1FE" />
-<REGIONCOLOR Color="Magenta=#FFEBFA" />
-</REGIONCOLORS>
-<POSITIONMARKERS>
-<POSITIONMARKER ZoomFac="-1.0" X="0" Y="0" />
-<POSITIONMARKER ZoomFac="-1.0" X="0" Y="0" />
-<POSITIONMARKER ZoomFac="-1.0" X="0" Y="0" />
-<POSITIONMARKER ZoomFac="-1.0" X="0" Y="0" />
-<POSITIONMARKER ZoomFac="-1.0" X="0" Y="0" />
-<POSITIONMARKER ZoomFac="-1.0" X="0" Y="0" />
-<POSITIONMARKER ZoomFac="-1.0" X="0" Y="0" />
-<POSITIONMARKER ZoomFac="-1.0" X="0" Y="0" />
-<POSITIONMARKER ZoomFac="-1.0" X="0" Y="0" />
-<POSITIONMARKER ZoomFac="-1.0" X="0" Y="0" />
-<POSITIONMARKER ZoomFac="-1.0" X="0" Y="0" />
-</POSITIONMARKERS>
-</SETTINGS>
-<METADATA>
-<REGIONS>
-<REGION ID="1690" RegionName="Binary Data Information" XPos="1489" YPos="512" Width="460" Height="200" RegionColor="0" TablePrefix="0" TableType="0" OverwriteTablePrefix="0" OverwriteTableType="0" Comments="" IsLinkedObject="0" IDLinkedModel="-1" Obj_id_Linked="-1" OrderPos="53" />
-<REGION ID="1672" RegionName="Person Information" XPos="682" YPos="721" Width="1000" Height="480" RegionColor="4" TablePrefix="0" TableType="0" OverwriteTablePrefix="0" OverwriteTableType="0" Comments="" IsLinkedObject="0" IDLinkedModel="-1" Obj_id_Linked="-1" OrderPos="46" />
-<REGION ID="1671" RegionName="General Item Information" XPos="682" YPos="15" Width="800" Height="700" RegionColor="2" TablePrefix="0" TableType="0" OverwriteTablePrefix="0" OverwriteTableType="0" Comments="" IsLinkedObject="0" IDLinkedModel="-1" Obj_id_Linked="-1" OrderPos="45" />
-<REGION ID="1670" RegionName="Item Specific Information" XPos="15" YPos="14" Width="660" Height="580" RegionColor="0" TablePrefix="0" TableType="0" OverwriteTablePrefix="0" OverwriteTableType="0" Comments="" IsLinkedObject="0" IDLinkedModel="-1" Obj_id_Linked="-1" OrderPos="44" />
-<REGION ID="1686" RegionName="Media Information" XPos="1489" YPos="16" Width="460" Height="480" RegionColor="1" TablePrefix="0" TableType="0" OverwriteTablePrefix="0" OverwriteTableType="0" Comments="" IsLinkedObject="0" IDLinkedModel="-1" Obj_id_Linked="-1" OrderPos="51" />
-<REGION ID="1744" RegionName="File Information" XPos="13" YPos="1054" Width="660" Height="150" RegionColor="5" TablePrefix="0" TableType="0" OverwriteTablePrefix="0" OverwriteTableType="0" Comments="" IsLinkedObject="0" IDLinkedModel="-1" Obj_id_Linked="-1" OrderPos="54" />
-<REGION ID="1808" RegionName="Track Information" XPos="14" YPos="604" Width="340" Height="440" RegionColor="2" TablePrefix="0" TableType="0" OverwriteTablePrefix="0" OverwriteTableType="0" Comments="" IsLinkedObject="0" IDLinkedModel="-1" Obj_id_Linked="-1" OrderPos="56" />
+<?xml version="1.0" standalone="yes" ?>
+<DBMODEL Version="4.0">
+<SETTINGS>
+<GLOBALSETTINGS ModelName="erm-model" IDModel="0" IDVersion="0" VersionStr="1.0.0.0" Comments="" UseVersionHistroy="1" AutoIncVersion="1" DatabaseType="MySQL" ZoomFac="75.00" XPos="0" YPos="0" DefaultDataType="5" DefaultTablePrefix="0" DefSaveDBConn="" DefSyncDBConn="" DefQueryDBConn="" Printer="" HPageCount="4.0" PageAspectRatio="1.440892512336408" PageOrientation="1" PageFormat="A4 (210x297 mm, 8.26x11.7 inches)" SelectedPages="" UsePositionGrid="1" PositionGridX="10" PositionGridY="10" TableNameInRefs="0" DefaultTableType="0" ActivateRefDefForNewRelations="1" FKPrefix="" FKPostfix="" CreateFKRefDefIndex="1" DBQuoteCharacter="`" CreateSQLforLinkedObjects="0" DefModelFont="Nimbus Sans L" CanvasWidth="4096" CanvasHeight="2842" />
+<DATATYPEGROUPS>
+<DATATYPEGROUP Name="Numeric Types" Icon="1" />
+<DATATYPEGROUP Name="Date and Time Types" Icon="2" />
+<DATATYPEGROUP Name="String Types" Icon="3" />
+<DATATYPEGROUP Name="Blob and Text Types" Icon="4" />
+<DATATYPEGROUP Name="User defined Types" Icon="5" />
+<DATATYPEGROUP Name="Geographic Types" Icon="6" />
+</DATATYPEGROUPS>
+<DATATYPES>
+<DATATYPE ID="1" IDGroup="0" TypeName="TINYINT" Description="A very small integer. The signed range is -128 to 127. The unsigned range is 0 to 255." ParamCount="1" OptionCount="2" ParamRequired="0" EditParamsAsString="0" SynonymGroup="0" PhysicalMapping="0" PhysicalTypeName="" >
+<PARAMS>
+<PARAM Name="length" />
+</PARAMS>
+<OPTIONS>
+<OPTION Name="UNSIGNED" Default="1" />
+<OPTION Name="ZEROFILL" Default="0" />
+</OPTIONS>
+</DATATYPE>
+<DATATYPE ID="2" IDGroup="0" TypeName="SMALLINT" Description="A small integer. The signed range is -32768 to 32767. The unsigned range is 0 to 65535." ParamCount="1" OptionCount="2" ParamRequired="0" EditParamsAsString="0" SynonymGroup="0" PhysicalMapping="0" PhysicalTypeName="" >
+<PARAMS>
+<PARAM Name="length" />
+</PARAMS>
+<OPTIONS>
+<OPTION Name="UNSIGNED" Default="1" />
+<OPTION Name="ZEROFILL" Default="0" />
+</OPTIONS>
+</DATATYPE>
+<DATATYPE ID="3" IDGroup="0" TypeName="MEDIUMINT" Description="A medium-size integer. The signed range is -8388608 to 8388607. The unsigned range is 0 to 16777215." ParamCount="1" OptionCount="2" ParamRequired="0" EditParamsAsString="0" SynonymGroup="0" PhysicalMapping="0" PhysicalTypeName="" >
+<PARAMS>
+<PARAM Name="length" />
+</PARAMS>
+<OPTIONS>
+<OPTION Name="UNSIGNED" Default="1" />
+<OPTION Name="ZEROFILL" Default="0" />
+</OPTIONS>
+</DATATYPE>
+<DATATYPE ID="4" IDGroup="0" TypeName="INT" Description="A normal-size integer. The signed range is -2147483648 to 2147483647. The unsigned range is 0 to 4294967295." ParamCount="1" OptionCount="2" ParamRequired="0" EditParamsAsString="0" SynonymGroup="1" PhysicalMapping="0" PhysicalTypeName="" >
+<PARAMS>
+<PARAM Name="length" />
+</PARAMS>
+<OPTIONS>
+<OPTION Name="UNSIGNED" Default="0" />
+<OPTION Name="ZEROFILL" Default="0" />
+</OPTIONS>
+</DATATYPE>
+<DATATYPE ID="5" IDGroup="0" TypeName="INTEGER" Description="A normal-size integer. The signed range is -2147483648 to 2147483647. The unsigned range is 0 to 4294967295." ParamCount="1" OptionCount="2" ParamRequired="0" EditParamsAsString="0" SynonymGroup="1" PhysicalMapping="0" PhysicalTypeName="" >
+<PARAMS>
+<PARAM Name="length" />
+</PARAMS>
+<OPTIONS>
+<OPTION Name="UNSIGNED" Default="1" />
+<OPTION Name="ZEROFILL" Default="0" />
+</OPTIONS>
+</DATATYPE>
+<DATATYPE ID="6" IDGroup="0" TypeName="BIGINT" Description="A large integer. The signed range is -9223372036854775808 to 9223372036854775807. The unsigned range is 0 to 18446744073709551615." ParamCount="1" OptionCount="2" ParamRequired="0" EditParamsAsString="0" SynonymGroup="0" PhysicalMapping="0" PhysicalTypeName="" >
+<PARAMS>
+<PARAM Name="length" />
+</PARAMS>
+<OPTIONS>
+<OPTION Name="UNSIGNED" Default="0" />
+<OPTION Name="ZEROFILL" Default="0" />
+</OPTIONS>
+</DATATYPE>
+<DATATYPE ID="7" IDGroup="0" TypeName="FLOAT" Description="A small (single-precision) floating-point number. Cannot be unsigned. Allowable values are -3.402823466E+38 to -1.175494351E-38, 0, and 1.175494351E-38 to 3.402823466E+38." ParamCount="1" OptionCount="1" ParamRequired="1" EditParamsAsString="0" SynonymGroup="0" PhysicalMapping="0" PhysicalTypeName="" >
+<PARAMS>
+<PARAM Name="precision" />
+</PARAMS>
+<OPTIONS>
+<OPTION Name="ZEROFILL" Default="0" />
+</OPTIONS>
+</DATATYPE>
+<DATATYPE ID="8" IDGroup="0" TypeName="FLOAT" Description="A small (single-precision) floating-point number. Cannot be unsigned. Allowable values are -3.402823466E+38 to -1.175494351E-38, 0, and 1.175494351E-38 to 3.402823466E+38." ParamCount="2" OptionCount="1" ParamRequired="0" EditParamsAsString="0" SynonymGroup="0" PhysicalMapping="0" PhysicalTypeName="" >
+<PARAMS>
+<PARAM Name="length" />
+<PARAM Name="decimals" />
+</PARAMS>
+<OPTIONS>
+<OPTION Name="ZEROFILL" Default="0" />
+</OPTIONS>
+</DATATYPE>
+<DATATYPE ID="9" IDGroup="0" TypeName="DOUBLE" Description="A normal-size (double-precision) floating-point number. Cannot be unsigned. Allowable values are -1.7976931348623157E+308 to -2.2250738585072014E-308, 0, and 2.2250738585072014E-308 to 1.7976931348623157E+308." ParamCount="2" OptionCount="1" ParamRequired="0" EditParamsAsString="0" SynonymGroup="2" PhysicalMapping="0" PhysicalTypeName="" >
+<PARAMS>
+<PARAM Name="length" />
+<PARAM Name="decimals" />
+</PARAMS>
+<OPTIONS>
+<OPTION Name="ZEROFILL" Default="0" />
+</OPTIONS>
+</DATATYPE>
+<DATATYPE ID="10" IDGroup="0" TypeName="DOUBLE PRECISION" Description="This is a synonym for DOUBLE." ParamCount="2" OptionCount="1" ParamRequired="0" EditParamsAsString="0" SynonymGroup="2" PhysicalMapping="0" PhysicalTypeName="" >
+<PARAMS>
+<PARAM Name="length" />
+<PARAM Name="decimals" />
+</PARAMS>
+<OPTIONS>
+<OPTION Name="ZEROFILL" Default="0" />
+</OPTIONS>
+</DATATYPE>
+<DATATYPE ID="11" IDGroup="0" TypeName="REAL" Description="This is a synonym for DOUBLE." ParamCount="2" OptionCount="1" ParamRequired="0" EditParamsAsString="0" SynonymGroup="2" PhysicalMapping="0" PhysicalTypeName="" >
+<PARAMS>
+<PARAM Name="length" />
+<PARAM Name="decimals" />
+</PARAMS>
+<OPTIONS>
+<OPTION Name="ZEROFILL" Default="0" />
+</OPTIONS>
+</DATATYPE>
+<DATATYPE ID="12" IDGroup="0" TypeName="DECIMAL" Description="An unpacked floating-point number. Cannot be unsigned. Behaves like a CHAR column." ParamCount="2" OptionCount="1" ParamRequired="0" EditParamsAsString="0" SynonymGroup="3" PhysicalMapping="0" PhysicalTypeName="" >
+<PARAMS>
+<PARAM Name="length" />
+<PARAM Name="decimals" />
+</PARAMS>
+<OPTIONS>
+<OPTION Name="ZEROFILL" Default="0" />
+</OPTIONS>
+</DATATYPE>
+<DATATYPE ID="13" IDGroup="0" TypeName="NUMERIC" Description="This is a synonym for DECIMAL." ParamCount="2" OptionCount="1" ParamRequired="1" EditParamsAsString="0" SynonymGroup="3" PhysicalMapping="0" PhysicalTypeName="" >
+<PARAMS>
+<PARAM Name="length" />
+<PARAM Name="decimals" />
+</PARAMS>
+<OPTIONS>
+<OPTION Name="ZEROFILL" Default="0" />
+</OPTIONS>
+</DATATYPE>
+<DATATYPE ID="14" IDGroup="1" TypeName="DATE" Description="A date. The supported range is \a1000-01-01\a to \a9999-12-31\a." ParamCount="0" OptionCount="0" ParamRequired="0" EditParamsAsString="0" SynonymGroup="0" PhysicalMapping="0" PhysicalTypeName="" >
+</DATATYPE>
+<DATATYPE ID="15" IDGroup="1" TypeName="DATETIME" Description="A date and time combination. The supported range is \a1000-01-01 00:00:00\a to \a9999-12-31 23:59:59\a." ParamCount="0" OptionCount="0" ParamRequired="0" EditParamsAsString="0" SynonymGroup="0" PhysicalMapping="0" PhysicalTypeName="" >
+</DATATYPE>
+<DATATYPE ID="16" IDGroup="1" TypeName="TIMESTAMP" Description="A timestamp. The range is \a1970-01-01 00:00:00\a to sometime in the year 2037. The length can be 14 (or missing), 12, 10, 8, 6, 4, or 2 representing YYYYMMDDHHMMSS, ... , YYYYMMDD, ... , YY formats." ParamCount="1" OptionCount="0" ParamRequired="0" EditParamsAsString="0" SynonymGroup="0" PhysicalMapping="0" PhysicalTypeName="" >
+<PARAMS>
+<PARAM Name="length" />
+</PARAMS>
+</DATATYPE>
+<DATATYPE ID="17" IDGroup="1" TypeName="TIME" Description="A time. The range is \a-838:59:59\a to \a838:59:59\a." ParamCount="0" OptionCount="0" ParamRequired="0" EditParamsAsString="0" SynonymGroup="0" PhysicalMapping="0" PhysicalTypeName="" >
+</DATATYPE>
+<DATATYPE ID="18" IDGroup="1" TypeName="YEAR" Description="A year in 2- or 4-digit format (default is 4-digit)." ParamCount="1" OptionCount="0" ParamRequired="0" EditParamsAsString="0" SynonymGroup="0" PhysicalMapping="0" PhysicalTypeName="" >
+<PARAMS>
+<PARAM Name="length" />
+</PARAMS>
+</DATATYPE>
+<DATATYPE ID="19" IDGroup="2" TypeName="CHAR" Description="A fixed-length string (1 to 255 characters) that is always right-padded with spaces to the specified length when stored. values are sorted and compared in case-insensitive fashion according to the default character set unless the BINARY keyword is given." ParamCount="1" OptionCount="1" ParamRequired="1" EditParamsAsString="0" SynonymGroup="0" PhysicalMapping="0" PhysicalTypeName="" >
+<PARAMS>
+<PARAM Name="length" />
+</PARAMS>
+<OPTIONS>
+<OPTION Name="BINARY" Default="0" />
+</OPTIONS>
+</DATATYPE>
+<DATATYPE ID="20" IDGroup="2" TypeName="VARCHAR" Description="A variable-length string (1 to 255 characters). Values are sorted and compared in case-sensitive fashion unless the BINARY keyword is given." ParamCount="1" OptionCount="1" ParamRequired="1" EditParamsAsString="0" SynonymGroup="0" PhysicalMapping="0" PhysicalTypeName="" >
+<PARAMS>
+<PARAM Name="length" />
+</PARAMS>
+<OPTIONS>
+<OPTION Name="BINARY" Default="0" />
+</OPTIONS>
+</DATATYPE>
+<DATATYPE ID="21" IDGroup="2" TypeName="BIT" Description="This is a synonym for CHAR(1)." ParamCount="0" OptionCount="0" ParamRequired="0" EditParamsAsString="0" SynonymGroup="0" PhysicalMapping="0" PhysicalTypeName="" >
+</DATATYPE>
+<DATATYPE ID="22" IDGroup="2" TypeName="BOOL" Description="This is a synonym for CHAR(1)." ParamCount="0" OptionCount="0" ParamRequired="0" EditParamsAsString="0" SynonymGroup="0" PhysicalMapping="0" PhysicalTypeName="" >
+</DATATYPE>
+<DATATYPE ID="23" IDGroup="3" TypeName="TINYBLOB" Description="A column maximum length of 255 (2^8 - 1) characters. Values are sorted and compared in case-sensitive fashion." ParamCount="0" OptionCount="0" ParamRequired="0" EditParamsAsString="0" SynonymGroup="0" PhysicalMapping="0" PhysicalTypeName="" >
+</DATATYPE>
+<DATATYPE ID="24" IDGroup="3" TypeName="BLOB" Description="A column maximum length of 65535 (2^16 - 1) characters. Values are sorted and compared in case-sensitive fashion." ParamCount="0" OptionCount="0" ParamRequired="0" EditParamsAsString="0" SynonymGroup="0" PhysicalMapping="0" PhysicalTypeName="" >
+</DATATYPE>
+<DATATYPE ID="25" IDGroup="3" TypeName="MEDIUMBLOB" Description="A column maximum length of 16777215 (2^24 - 1) characters. Values are sorted and compared in case-sensitive fashion." ParamCount="0" OptionCount="0" ParamRequired="0" EditParamsAsString="0" SynonymGroup="0" PhysicalMapping="0" PhysicalTypeName="" >
+</DATATYPE>
+<DATATYPE ID="26" IDGroup="3" TypeName="LONGBLOB" Description="A column maximum length of 4294967295 (2^32 - 1) characters. Values are sorted and compared in case-sensitive fashion." ParamCount="0" OptionCount="0" ParamRequired="0" EditParamsAsString="0" SynonymGroup="0" PhysicalMapping="0" PhysicalTypeName="" >
+</DATATYPE>
+<DATATYPE ID="27" IDGroup="3" TypeName="TINYTEXT" Description="A column maximum length of 255 (2^8 - 1) characters." ParamCount="0" OptionCount="0" ParamRequired="0" EditParamsAsString="0" SynonymGroup="0" PhysicalMapping="0" PhysicalTypeName="" >
+</DATATYPE>
+<DATATYPE ID="28" IDGroup="3" TypeName="TEXT" Description="A column maximum length of 65535 (2^16 - 1) characters." ParamCount="0" OptionCount="0" ParamRequired="0" EditParamsAsString="0" SynonymGroup="0" PhysicalMapping="0" PhysicalTypeName="" >
+</DATATYPE>
+<DATATYPE ID="29" IDGroup="3" TypeName="MEDIUMTEXT" Description="A column maximum length of 16777215 (2^24 - 1) characters." ParamCount="0" OptionCount="0" ParamRequired="0" EditParamsAsString="0" SynonymGroup="0" PhysicalMapping="0" PhysicalTypeName="" >
+</DATATYPE>
+<DATATYPE ID="30" IDGroup="3" TypeName="LONGTEXT" Description="A column maximum length of 4294967295 (2^32 - 1) characters." ParamCount="0" OptionCount="0" ParamRequired="0" EditParamsAsString="0" SynonymGroup="0" PhysicalMapping="0" PhysicalTypeName="" >
+</DATATYPE>
+<DATATYPE ID="31" IDGroup="3" TypeName="ENUM" Description="An enumeration. A string object that can have only one value, chosen from the list of values." ParamCount="1" OptionCount="0" ParamRequired="1" EditParamsAsString="1" SynonymGroup="0" PhysicalMapping="0" PhysicalTypeName="" >
+<PARAMS>
+<PARAM Name="values" />
+</PARAMS>
+</DATATYPE>
+<DATATYPE ID="32" IDGroup="3" TypeName="SET" Description="A set. A string object that can have zero or more values, each of which must be chosen from the list of values." ParamCount="1" OptionCount="0" ParamRequired="1" EditParamsAsString="1" SynonymGroup="0" PhysicalMapping="0" PhysicalTypeName="" >
+<PARAMS>
+<PARAM Name="values" />
+</PARAMS>
+</DATATYPE>
+<DATATYPE ID="33" IDGroup="4" TypeName="Varchar(20)" Description="" ParamCount="0" OptionCount="1" ParamRequired="0" EditParamsAsString="0" SynonymGroup="0" PhysicalMapping="0" PhysicalTypeName="" >
+<OPTIONS>
+<OPTION Name="BINARY" Default="0" />
+</OPTIONS>
+</DATATYPE>
+<DATATYPE ID="34" IDGroup="4" TypeName="Varchar(45)" Description="" ParamCount="0" OptionCount="1" ParamRequired="0" EditParamsAsString="0" SynonymGroup="0" PhysicalMapping="0" PhysicalTypeName="" >
+<OPTIONS>
+<OPTION Name="BINARY" Default="0" />
+</OPTIONS>
+</DATATYPE>
+<DATATYPE ID="35" IDGroup="4" TypeName="Varchar(255)" Description="" ParamCount="0" OptionCount="1" ParamRequired="0" EditParamsAsString="0" SynonymGroup="0" PhysicalMapping="0" PhysicalTypeName="" >
+<OPTIONS>
+<OPTION Name="BINARY" Default="0" />
+</OPTIONS>
+</DATATYPE>
+<DATATYPE ID="36" IDGroup="5" TypeName="GEOMETRY" Description="Geographic Datatype" ParamCount="0" OptionCount="0" ParamRequired="0" EditParamsAsString="0" SynonymGroup="0" PhysicalMapping="0" PhysicalTypeName="" >
+</DATATYPE>
+<DATATYPE ID="38" IDGroup="5" TypeName="LINESTRING" Description="Geographic Datatype" ParamCount="0" OptionCount="0" ParamRequired="0" EditParamsAsString="0" SynonymGroup="0" PhysicalMapping="0" PhysicalTypeName="" >
+</DATATYPE>
+<DATATYPE ID="39" IDGroup="5" TypeName="POLYGON" Description="Geographic Datatype" ParamCount="0" OptionCount="0" ParamRequired="0" EditParamsAsString="0" SynonymGroup="0" PhysicalMapping="0" PhysicalTypeName="" >
+</DATATYPE>
+<DATATYPE ID="40" IDGroup="5" TypeName="MULTIPOINT" Description="Geographic Datatype" ParamCount="0" OptionCount="0" ParamRequired="0" EditParamsAsString="0" SynonymGroup="0" PhysicalMapping="0" PhysicalTypeName="" >
+</DATATYPE>
+<DATATYPE ID="41" IDGroup="5" TypeName="MULTILINESTRING" Description="Geographic Datatype" ParamCount="0" OptionCount="0" ParamRequired="0" EditParamsAsString="0" SynonymGroup="0" PhysicalMapping="0" PhysicalTypeName="" >
+</DATATYPE>
+<DATATYPE ID="42" IDGroup="5" TypeName="MULTIPOLYGON" Description="Geographic Datatype" ParamCount="0" OptionCount="0" ParamRequired="0" EditParamsAsString="0" SynonymGroup="0" PhysicalMapping="0" PhysicalTypeName="" >
+</DATATYPE>
+<DATATYPE ID="43" IDGroup="5" TypeName="GEOMETRYCOLLECTION" Description="Geographic Datatype" ParamCount="0" OptionCount="0" ParamRequired="0" EditParamsAsString="0" SynonymGroup="0" PhysicalMapping="0" PhysicalTypeName="" >
+</DATATYPE>
+</DATATYPES>
+<COMMON_DATATYPES>
+<COMMON_DATATYPE ID="5" />
+<COMMON_DATATYPE ID="8" />
+<COMMON_DATATYPE ID="20" />
+<COMMON_DATATYPE ID="15" />
+<COMMON_DATATYPE ID="22" />
+<COMMON_DATATYPE ID="28" />
+<COMMON_DATATYPE ID="26" />
+<COMMON_DATATYPE ID="33" />
+<COMMON_DATATYPE ID="34" />
+<COMMON_DATATYPE ID="35" />
+</COMMON_DATATYPES>
+<TABLEPREFIXES>
+<TABLEPREFIX Name="Default (no prefix)" />
+</TABLEPREFIXES>
+<REGIONCOLORS>
+<REGIONCOLOR Color="Red=#FFEEEC" />
+<REGIONCOLOR Color="Yellow=#FEFDED" />
+<REGIONCOLOR Color="Green=#EAFFE5" />
+<REGIONCOLOR Color="Cyan=#ECFDFF" />
+<REGIONCOLOR Color="Blue=#F0F1FE" />
+<REGIONCOLOR Color="Magenta=#FFEBFA" />
+</REGIONCOLORS>
+<POSITIONMARKERS>
+<POSITIONMARKER ZoomFac="-1.0" X="0" Y="0" />
+<POSITIONMARKER ZoomFac="-1.0" X="0" Y="0" />
+<POSITIONMARKER ZoomFac="-1.0" X="0" Y="0" />
+<POSITIONMARKER ZoomFac="-1.0" X="0" Y="0" />
+<POSITIONMARKER ZoomFac="-1.0" X="0" Y="0" />
+<POSITIONMARKER ZoomFac="-1.0" X="0" Y="0" />
+<POSITIONMARKER ZoomFac="-1.0" X="0" Y="0" />
+<POSITIONMARKER ZoomFac="-1.0" X="0" Y="0" />
+<POSITIONMARKER ZoomFac="-1.0" X="0" Y="0" />
+<POSITIONMARKER ZoomFac="-1.0" X="0" Y="0" />
+<POSITIONMARKER ZoomFac="-1.0" X="0" Y="0" />
+</POSITIONMARKERS>
+</SETTINGS>
+<METADATA>
+<REGIONS>
 <REGION ID="1809" RegionName="Language Information" XPos="356" YPos="603" Width="320" Height="440" RegionColor="3" TablePrefix="0" TableType="0" OverwriteTablePrefix="0" OverwriteTableType="0" Comments="" IsLinkedObject="0" IDLinkedModel="-1" Obj_id_Linked="-1" OrderPos="57" />
-</REGIONS>
-<TABLES>
+<REGION ID="1808" RegionName="Track Information" XPos="14" YPos="604" Width="340" Height="440" RegionColor="2" TablePrefix="0" TableType="0" OverwriteTablePrefix="0" OverwriteTableType="0" Comments="" IsLinkedObject="0" IDLinkedModel="-1" Obj_id_Linked="-1" OrderPos="56" />
+<REGION ID="1744" RegionName="File Information" XPos="13" YPos="1054" Width="660" Height="150" RegionColor="5" TablePrefix="0" TableType="0" OverwriteTablePrefix="0" OverwriteTableType="0" Comments="" IsLinkedObject="0" IDLinkedModel="-1" Obj_id_Linked="-1" OrderPos="54" />
+<REGION ID="1686" RegionName="Media Information" XPos="1489" YPos="16" Width="460" Height="480" RegionColor="1" TablePrefix="0" TableType="0" OverwriteTablePrefix="0" OverwriteTableType="0" Comments="" IsLinkedObject="0" IDLinkedModel="-1" Obj_id_Linked="-1" OrderPos="51" />
+<REGION ID="1670" RegionName="Item Specific Information" XPos="15" YPos="14" Width="660" Height="580" RegionColor="0" TablePrefix="0" TableType="0" OverwriteTablePrefix="0" OverwriteTableType="0" Comments="" IsLinkedObject="0" IDLinkedModel="-1" Obj_id_Linked="-1" OrderPos="44" />
+<REGION ID="1671" RegionName="General Item Information" XPos="682" YPos="15" Width="800" Height="700" RegionColor="2" TablePrefix="0" TableType="0" OverwriteTablePrefix="0" OverwriteTableType="0" Comments="" IsLinkedObject="0" IDLinkedModel="-1" Obj_id_Linked="-1" OrderPos="45" />
+<REGION ID="1672" RegionName="Person Information" XPos="682" YPos="721" Width="1000" Height="480" RegionColor="4" TablePrefix="0" TableType="0" OverwriteTablePrefix="0" OverwriteTableType="0" Comments="" IsLinkedObject="0" IDLinkedModel="-1" Obj_id_Linked="-1" OrderPos="46" />
+<REGION ID="1690" RegionName="Binary Data Information" XPos="1489" YPos="512" Width="460" Height="200" RegionColor="0" TablePrefix="0" TableType="0" OverwriteTablePrefix="0" OverwriteTableType="0" Comments="" IsLinkedObject="0" IDLinkedModel="-1" Obj_id_Linked="-1" OrderPos="53" />
+</REGIONS>
+<TABLES>
 <TABLE ID="1491" Tablename="Languages" PrevTableName="Table_01" XPos="416" YPos="823" TableType="0" TablePrefix="0" nmTable="0" Temporary="0" UseStandardInserts="0" StandardInserts="\n" TableOptions="DelayKeyTblUpdates=0\nPackKeys=0\nRowChecksum=0\nRowFormat=0\nUseRaid=0\nRaidType=0\n" Comments="" Collapsed="0" IsLinkedObject="0" IDLinkedModel="-1" Obj_id_Linked="-1" OrderPos="3" >
 <COLUMNS>
 <COLUMN ID="1493" ColName="LanguageID" PrevColName="" Pos="0" idDatatype="5" DatatypeParams="" Width="-1" Prec="-1" PrimaryKey="1" NotNull="1" AutoInc="1" IsForeignKey="0" DefaultValue="" Comments="">
@@ -559,6 +559,7 @@
 <RELATION_START ID="1584" />
 <RELATION_START ID="1801" />
 <RELATION_START ID="1804" />
+<RELATION_START ID="1855" />
 </RELATIONS_START>
 <INDICES>
 <INDEX ID="1556" IndexName="PRIMARY" IndexKind="0" FKRefDef_Obj_id="-1">
@@ -568,7 +569,7 @@
 </INDEX>
 </INDICES>
 </TABLE>
-<TABLE ID="1558" Tablename="Categories" PrevTableName="Table_09" XPos="1114" YPos="343" TableType="0" TablePrefix="0" nmTable="0" Temporary="0" UseStandardInserts="0" StandardInserts="\n" TableOptions="DelayKeyTblUpdates=0\nPackKeys=0\nRowChecksum=0\nRowFormat=0\nUseRaid=0\nRaidType=0\n" Comments="" Collapsed="0" IsLinkedObject="0" IDLinkedModel="-1" Obj_id_Linked="-1" OrderPos="16" >
+<TABLE ID="1558" Tablename="Categories" PrevTableName="Table_09" XPos="1120" YPos="330" TableType="0" TablePrefix="0" nmTable="0" Temporary="0" UseStandardInserts="0" StandardInserts="\n" TableOptions="DelayKeyTblUpdates=0\nPackKeys=0\nRowChecksum=0\nRowFormat=0\nUseRaid=0\nRaidType=0\n" Comments="" Collapsed="0" IsLinkedObject="0" IDLinkedModel="-1" Obj_id_Linked="-1" OrderPos="16" >
 <COLUMNS>
 <COLUMN ID="1560" ColName="CategoryID" PrevColName="" Pos="0" idDatatype="5" DatatypeParams="" Width="-1" Prec="-1" PrimaryKey="1" NotNull="1" AutoInc="1" IsForeignKey="0" DefaultValue="" Comments="">
 <OPTIONSELECTED>
@@ -576,6 +577,12 @@
 <OPTIONSELECT Value="0" />
 </OPTIONSELECTED>
 </COLUMN>
+<COLUMN ID="1856" ColName="ItemTypeID" PrevColName="" Pos="1" idDatatype="5" DatatypeParams="" Width="-1" Prec="-1" PrimaryKey="0" NotNull="1" AutoInc="0" IsForeignKey="1" DefaultValue="" Comments="">
+<OPTIONSELECTED>
+<OPTIONSELECT Value="1" />
+<OPTIONSELECT Value="0" />
+</OPTIONSELECTED>
+</COLUMN>
 <COLUMN ID="1562" ColName="CategoryName" PrevColName="" Pos="1" idDatatype="20" DatatypeParams="(255)" Width="-1" Prec="-1" PrimaryKey="0" NotNull="1" AutoInc="0" IsForeignKey="0" DefaultValue="" Comments="">
 <OPTIONSELECTED>
 <OPTIONSELECT Value="0" />
@@ -585,12 +592,20 @@
 <RELATIONS_START>
 <RELATION_START ID="1587" />
 </RELATIONS_START>
+<RELATIONS_END>
+<RELATION_END ID="1855" />
+</RELATIONS_END>
 <INDICES>
 <INDEX ID="1561" IndexName="PRIMARY" IndexKind="0" FKRefDef_Obj_id="-1">
 <INDEXCOLUMNS>
 <INDEXCOLUMN idColumn="1560" LengthParam="0" />
 </INDEXCOLUMNS>
 </INDEX>
+<INDEX ID="1857" IndexName="Categories_FKIndex1" IndexKind="1" FKRefDef_Obj_id="1855">
+<INDEXCOLUMNS>
+<INDEXCOLUMN idColumn="1856" LengthParam="0" />
+</INDEXCOLUMNS>
+</INDEX>
 </INDICES>
 </TABLE>
 <TABLE ID="1563" Tablename="Categories_has_Items" PrevTableName="Table_10" XPos="1142" YPos="480" TableType="0" TablePrefix="0" nmTable="0" Temporary="0" UseStandardInserts="0" StandardInserts="\n" TableOptions="DelayKeyTblUpdates=0\nPackKeys=0\nRowChecksum=0\nRowFormat=0\nUseRaid=0\nRaidType=0\n" Comments="" Collapsed="0" IsLinkedObject="0" IDLinkedModel="-1" Obj_id_Linked="-1" OrderPos="17" >
@@ -1017,7 +1032,7 @@
 </INDEX>
 </INDICES>
 </TABLE>
-<TABLE ID="1648" Tablename="MediaStatus" PrevTableName="Table_19" XPos="1542" YPos="373" TableType="0" TablePrefix="0" nmTable="0" Temporary="0" UseStandardInserts="0" StandardInserts="\n" TableOptions="DelayKeyTblUpdates=0\nPackKeys=0\nRowChecksum=0\nRowFormat=0\nUseRaid=0\nRaidType=0\n" Comments="" Collapsed="0" IsLinkedObject="0" IDLinkedModel="-1" Obj_id_Linked="-1" OrderPos="39" >
+<TABLE ID="1648" Tablename="MediaStatus" PrevTableName="Table_19" XPos="1550" YPos="400" TableType="0" TablePrefix="0" nmTable="0" Temporary="0" UseStandardInserts="0" StandardInserts="\n" TableOptions="DelayKeyTblUpdates=0\nPackKeys=0\nRowChecksum=0\nRowFormat=0\nUseRaid=0\nRaidType=0\n" Comments="" Collapsed="0" IsLinkedObject="0" IDLinkedModel="-1" Obj_id_Linked="-1" OrderPos="39" >
 <COLUMNS>
 <COLUMN ID="1650" ColName="MediaStatusID" PrevColName="" Pos="0" idDatatype="5" DatatypeParams="" Width="-1" Prec="-1" PrimaryKey="1" NotNull="1" AutoInc="1" IsForeignKey="0" DefaultValue="" Comments="">
 <OPTIONSELECTED>
@@ -1109,8 +1124,8 @@
 </INDEX>
 </INDICES>
 </TABLE>
-</TABLES>
-<RELATIONS>
+</TABLES>
+<RELATIONS>
 <RELATION ID="1533" RelationName="Rel_01" Kind="2" SrcTable="1491" DestTable="1506" FKFields="LanguageID=LanguageID\n" FKFieldsComments="\n" relDirection="1" MidOffset="8" OptionalStart="0" OptionalEnd="0" CaptionOffsetX="0" CaptionOffsetY="0" StartIntervalOffsetX="0" StartIntervalOffsetY="0" EndIntervalOffsetX="0" EndIntervalOffsetY="0" CreateRefDef="1" Invisible="0" RefDef="Matching=0\nOnDelete=3\nOnUpdate=3\n" Comments="" FKRefDefIndex_Obj_id="1535" Splitted="0" IsLinkedObject="0" IDLinkedModel="-1" Obj_id_Linked="-1" OrderPos="9" />
 <RELATION ID="1536" RelationName="Rel_02" Kind="2" SrcTable="1491" DestTable="1512" FKFields="LanguageID=LanguageID\n" FKFieldsComments="\n" relDirection="1" MidOffset="88" OptionalStart="0" OptionalEnd="0" CaptionOffsetX="0" CaptionOffsetY="0" StartIntervalOffsetX="0" StartIntervalOffsetY="0" EndIntervalOffsetX="0" EndIntervalOffsetY="0" CreateRefDef="1" Invisible="0" RefDef="Matching=0\nOnDelete=3\nOnUpdate=3\n" Comments="" FKRefDefIndex_Obj_id="1538" Splitted="0" IsLinkedObject="0" IDLinkedModel="-1" Obj_id_Linked="-1" OrderPos="10" />
 <RELATION ID="1539" RelationName="Rel_03" Kind="2" SrcTable="1491" DestTable="1520" FKFields="LanguageID=LanguageID\n" FKFieldsComments="\n" relDirection="1" MidOffset="0" OptionalStart="0" OptionalEnd="0" CaptionOffsetX="0" CaptionOffsetY="0" StartIntervalOffsetX="0" StartIntervalOffsetY="0" EndIntervalOffsetX="0" EndIntervalOffsetY="0" CreateRefDef="1" Invisible="0" RefDef="Matching=0\nOnDelete=3\nOnUpdate=3\n" Comments="" FKRefDefIndex_Obj_id="1541" Splitted="0" IsLinkedObject="0" IDLinkedModel="-1" Obj_id_Linked="-1" OrderPos="11" />
@@ -1136,21 +1151,22 @@
 <RELATION ID="1801" RelationName="Rel_28" Kind="2" SrcTable="1553" DestTable="1638" FKFields="ItemTypeID=ItemTypeID\n" FKFieldsComments="\n" relDirection="2" MidOffset="23" OptionalStart="0" OptionalEnd="0" CaptionOffsetX="0" CaptionOffsetY="0" StartIntervalOffsetX="0" StartIntervalOffsetY="0" EndIntervalOffsetX="0" EndIntervalOffsetY="0" CreateRefDef="1" Invisible="0" RefDef="Matching=0\nOnDelete=3\nOnUpdate=3\n" Comments="" FKRefDefIndex_Obj_id="1803" Splitted="0" IsLinkedObject="0" IDLinkedModel="-1" Obj_id_Linked="-1" OrderPos="56" />
 <RELATION ID="1804" RelationName="Rel_29" Kind="2" SrcTable="1553" DestTable="1655" FKFields="ItemTypeID=ItemTypeID\n" FKFieldsComments="\n" relDirection="2" MidOffset="51" OptionalStart="0" OptionalEnd="0" CaptionOffsetX="3" CaptionOffsetY="1" StartIntervalOffsetX="0" StartIntervalOffsetY="0" EndIntervalOffsetX="0" EndIntervalOffsetY="0" CreateRefDef="1" Invisible="0" RefDef="Matching=0\nOnDelete=3\nOnUpdate=3\n" Comments="" FKRefDefIndex_Obj_id="1806" Splitted="0" IsLinkedObject="0" IDLinkedModel="-1" Obj_id_Linked="-1" OrderPos="57" />
 <RELATION ID="1851" RelationName="Rel_28" Kind="2" SrcTable="1593" DestTable="1565" FKFields="PublisherID=PublisherID\n" FKFieldsComments="\n" relDirection="1" MidOffset="0" OptionalStart="0" OptionalEnd="0" CaptionOffsetX="0" CaptionOffsetY="0" StartIntervalOffsetX="0" StartIntervalOffsetY="0" EndIntervalOffsetX="0" EndIntervalOffsetY="0" CreateRefDef="1" Invisible="0" RefDef="Matching=0\nOnDelete=3\nOnUpdate=3\n" Comments="" FKRefDefIndex_Obj_id="1853" Splitted="0" IsLinkedObject="0" IDLinkedModel="-1" Obj_id_Linked="-1" OrderPos="56" />
-</RELATIONS>
-<NOTES>
+<RELATION ID="1855" RelationName="Rel_26" Kind="2" SrcTable="1553" DestTable="1558" FKFields="ItemTypeID=ItemTypeID\n" FKFieldsComments="\n" relDirection="3" MidOffset="13" OptionalStart="0" OptionalEnd="0" CaptionOffsetX="0" CaptionOffsetY="0" StartIntervalOffsetX="0" StartIntervalOffsetY="0" EndIntervalOffsetX="0" EndIntervalOffsetY="0" CreateRefDef="1" Invisible="0" RefDef="Matching=0\nOnDelete=3\nOnUpdate=3\n" Comments="" FKRefDefIndex_Obj_id="1857" Splitted="0" IsLinkedObject="0" IDLinkedModel="-1" Obj_id_Linked="-1" OrderPos="57" />
+</RELATIONS>
+<NOTES>
 <NOTE ID="1745" NoteName="Note_01" XPos="40" YPos="1100" NoteText="phpMediaDB\n$Id$\n" IsLinkedObject="0" IDLinkedModel="-1" Obj_id_Linked="-1" OrderPos="55" />
-</NOTES>
-<IMAGES>
-</IMAGES>
-</METADATA>
-<PLUGINDATA>
-<PLUGINDATARECORDS>
-</PLUGINDATARECORDS>
-</PLUGINDATA>
-<QUERYDATA>
-<QUERYRECORDS>
-</QUERYRECORDS>
-</QUERYDATA>
-<LINKEDMODELS>
-</LINKEDMODELS>
-</DBMODEL>
+</NOTES>
+<IMAGES>
+</IMAGES>
+</METADATA>
+<PLUGINDATA>
+<PLUGINDATARECORDS>
+</PLUGINDATARECORDS>
+</PLUGINDATA>
+<QUERYDATA>
+<QUERYRECORDS>
+</QUERYRECORDS>
+</QUERYDATA>
+<LINKEDMODELS>
+</LINKEDMODELS>
+</DBMODEL>



From nobody at sheep.berlios.de  Sat Apr  9 17:43:26 2005
From: nobody at sheep.berlios.de (mblaschke)
Date: Sat, 9 Apr 2005 17:43:26 +0200
Subject: [phpmediadb-cvs] phpmediadb-cvs/_source/tier.global constants.phpmediadb.php,1.5,1.6
Message-ID: <200504091543.j39FhQm01564@bat.berlios.de>

Update of /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.global
In directory sheep:/tmp/cvs-serv2863/_source/tier.global

Modified Files:
	constants.phpmediadb.php 
Log Message:
* Added constant PHPMEDIADB_SYSTEM_VERSION
* Added constant PHPMEDIADB_SYSTEM_DEBUGLEVEL

Index: constants.phpmediadb.php
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.global/constants.phpmediadb.php,v
retrieving revision 1.5
retrieving revision 1.6
diff -u -d -r1.5 -r1.6
--- constants.phpmediadb.php	24 Mar 2005 20:44:31 -0000	1.5
+++ constants.phpmediadb.php	9 Apr 2005 15:43:24 -0000	1.6
@@ -10,6 +10,21 @@
  * @subpackage	global
  */
  
+// --- tier.global ---
+	/**
+	 * Constant that indicates the phpmediadb-version
+	 */
+	define( 'PHPMEDIADB_SYSTEM_VERSION', '0.0.0-prealpha' ); 
+	
+	/**
+	 * Constant that indicates the debuglevel of phpmediadb
+	 *
+	 * 0 - no debug
+	 * 1 - debug with exception-message
+	 * 2 - debug with stacktrace
+	 */
+	define( 'PHPMEDIADB_SYSTEM_DEBUGLEVEL' , 2);
+ 
 // --- tier.presentation ---
 
     /**



From nobody at sheep.berlios.de  Sat Apr  9 17:44:11 2005
From: nobody at sheep.berlios.de (mblaschke)
Date: Sat, 9 Apr 2005 17:44:11 +0200
Subject: [phpmediadb-cvs] phpmediadb-cvs/_source/tier.global class.phpmediadb_exception.php,1.3,1.4
Message-ID: <200504091544.j39FiBm01577@bat.berlios.de>

Update of /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.global
In directory sheep:/tmp/cvs-serv2887/_source/tier.global

Modified Files:
	class.phpmediadb_exception.php 
Log Message:
* Added function phpmediadb_exception::__construct
* Added function phpmediadb_exception::handleException
* Added function phpmediadb_exception::showError


Index: class.phpmediadb_exception.php
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.global/class.phpmediadb_exception.php,v
retrieving revision 1.3
retrieving revision 1.4
diff -u -d -r1.3 -r1.4
--- class.phpmediadb_exception.php	24 Mar 2005 17:12:48 -0000	1.3
+++ class.phpmediadb_exception.php	9 Apr 2005 15:44:09 -0000	1.4
@@ -12,8 +12,102 @@
  */
 class phpmediadb_exception extends Exception
 {
+	
+//-----------------------------------------------------------------------------
+	/**
+	 * The constructor __construct initalizes the Class.
+	 *
+	 * @access public
+	 * @param string $message Message of exception
+	 * @param integer $code Code of exception
+	 */
+	public function __construct($message, $code = 0) 
+	{
+		/* assign values to parent */
+		parent::__construct($message, $code);
+	}
+	
 //-----------------------------------------------------------------------------
+	/**
+	 * Handles a normal/general exception and terminate the script
+	 *
+	 * @access public
+	 * @param exception $generalException Instanz of an exception
+	 */
+	public function handleException( $generalException )
+	{
+		/* delegate - static call */
+		phpmediadb_exception::showError( $generalException );
+		
+		/* sorry, have to kill script - no way i can fix it */
+		die();
+	}
+//-----------------------------------------------------------------------------
+	/**
+	 * Sends an errormessage (html) to the user
+	 *
+	 * @access public
+	 * @param exception $exception Instanz of an exception
+	 */
+	public function showError( $exception )
+	{
+		/* flush cache */
+		ob_clean();
+		ob_start();
+
+		/* display html */
+?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
+<html>
+<head>
+	<title>phpMedaDB :: Exception</title>
+	<style type="text/css">
+<!--
+	body { font-size:12px; font-family:monospace; }
+	h1 { font-size:18px; color:red; }
+	.phpmediadb-body-exception { background-color:#EEEEEE; border:1px dashed grey; margin-bottom:10px; padding:5px; }
+	.phpmediadb-body-exception-code { background-color:#FFFFCC; border:1px dotted grey; margin:10px; padding:5px; }
+	.phpmediadb-body-exception-copyright { text-align:right; }
+-->
+	</style>
+</head>
 
+<body>
+<div class="phpmediadb-body-exception">
+	<h1>Ouch, got an exception...</h1>
+	Sorry but I was not able to complete your request. Please try again.
+<?php
+if( constant( 'PHPMEDIADB_SYSTEM_DEBUGLEVEL' ) >= 1 )
+{
+?>
+	<br /><br />
+	<b>Exception Details:</b>
+	<div class="phpmediadb-body-exception-code"><pre><?php echo htmlentities( $exception->getMessage() ); ?></pre></div>
+<?php
+}
+?>
+</div>
+
+<?php
+if( constant( 'PHPMEDIADB_SYSTEM_DEBUGLEVEL' ) >= 2 )
+{
+?>
+<div class="phpmediadb-body-exception">
+	<h1>Debug</h1>
+	<b>Stack trace:</b><br />
+	<div class="phpmediadb-body-exception-code"><pre><?php echo htmlentities( $exception->getTraceAsString() ); ?></pre></div>
+	<br />
+	<b>File:</b> <?php echo htmlentities( $exception->getFile() ); ?> <b>Line:</b> <?php echo htmlentities( $exception->getLine() ); ?>
+</div>
+<?php
+}
+?>
+<div class="phpmediadb-body-exception-copyright">
+	phpMediaDB :: The media database<br />
+	Version <?php echo PHPMEDIADB_SYSTEM_VERSION; ?>
+</div>
+</body>
+</html><?php
+	}
 //-----------------------------------------------------------------------------
 } /* end of class phpmediadb_exception */
 



From nobody at sheep.berlios.de  Sat Apr  9 17:44:57 2005
From: nobody at sheep.berlios.de (mblaschke)
Date: Sat, 9 Apr 2005 17:44:57 +0200
Subject: [phpmediadb-cvs] phpmediadb-cvs/_source/tier.data class.phpmediadb_data_sql.php,1.9,1.10
Message-ID: <200504091544.j39Fivm01590@bat.berlios.de>

Update of /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.data
In directory sheep:/tmp/cvs-serv2925/_source/tier.data

Modified Files:
	class.phpmediadb_data_sql.php 
Log Message:
* Changed exception handling, now using phpmediadb_exception class
* Changed some comments

Index: class.phpmediadb_data_sql.php
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.data/class.phpmediadb_data_sql.php,v
retrieving revision 1.9
retrieving revision 1.10
diff -u -d -r1.9 -r1.10
--- class.phpmediadb_data_sql.php	6 Apr 2005 13:57:14 -0000	1.9
+++ class.phpmediadb_data_sql.php	9 Apr 2005 15:44:54 -0000	1.10
@@ -75,13 +75,14 @@
 			$dsn		= $this->DATA->configuration['sqlconnection'];
 			$conntype	= $this->DATA->configuration['sqlconnection']['conntype'];
 			$conn = Creole::getConnection($dsn, $conntype );
+			
+			/* return connection */
 			return $conn;
 		}
 		catch( Exception $ex  )
 		{
-			/* connection failed -- exception thrown.. sorry, can't do anything */
-			echo $ex->getMessage();
-			die();
+			/* handle exception and terminate script */
+			phpmediadb_exception::handleException( $ex );
 		}
 	}
 	
@@ -97,18 +98,16 @@
 	{
 		try
 		{
-			/*
-			$stmt = $conn->prepareStatement( 'SELECT LAST_INSERT_ID()' );
-			$rs = $stmt->executeQuery();
-			return $rs;
-			*/
-			
+			/* get ID-generator */
 			$idGen = $conn->getIdGenerator();
+			
+			/* return last inserted id */
 			return $idGen->getId();
 		}
 		catch( Exception $e )
 		{
-			die( $e->getMessage() );
+			/* handle exception and terminate script */
+			phpmediadb_exception::handleException( $ex );
 		}	
 	}
 	
@@ -121,6 +120,7 @@
 	*/
 	public function openTransaction( $conn )
 	{
+		/* delegate */
 		$conn->setAutoCommit(false);
 	}
 	
@@ -132,6 +132,7 @@
 	*/
 	public function commitTransaction( $conn )
 	{
+		/* delegate */
 		$conn->commit();
 	}
 	
@@ -141,17 +142,16 @@
 	 *
 	 * @access public
 	 * @param String $conn contains information from the connection to the database
+	 * @param exception $exception exception of error
 	*/
-	public function rollbackTransaction( $conn, $e )
+	public function rollbackTransaction( $conn, $exception )
 	{
 		/* abort all delete/update queries in the transaction*/
 		$conn->rollback();
 		
-		/* get errormessage */
-		$error = $e->getMessage();
-		
-		/* terminate script */
-		die( $error );
+		/* handle exception and terminate script */
+		phpmediadb_exception::handleException( $exception );
+		die();
 	}
 	
 //-----------------------------------------------------------------------------
@@ -164,12 +164,11 @@
 	*/
 	public function generateDataArray( $rs )
 	{
-
+		/* copy all rows to an dataarray */
 		while ($rs->next())
-		{
 			$dataArray[] = $rs->GetRow();
-		}
 
+		/* return dataarray */
 		return $dataArray;
 	}
 		



From nobody at sheep.berlios.de  Sat Apr  9 17:47:12 2005
From: nobody at sheep.berlios.de (mblaschke)
Date: Sat, 9 Apr 2005 17:47:12 +0200
Subject: [phpmediadb-cvs] phpmediadb-cvs/_source/tier.data class.phpmediadb_data_categories.php,1.8,1.9
Message-ID: <200504091547.j39FlCm01649@bat.berlios.de>

Update of /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.data
In directory sheep:/tmp/cvs-serv3075/_source/tier.data

Modified Files:
	class.phpmediadb_data_categories.php 
Log Message:
* Changed exception handling, now using phpmediadb_exception class
* Renamed phpmediadb_data_categories::add to phpmediadb_data_categories::addLink
* Renamed phpmediadb_data_categories::remove to phpmediadb_data_categories::removeAllLinks
* Changed parameters of phpmediadb_data_categories::addLink

Index: class.phpmediadb_data_categories.php
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.data/class.phpmediadb_data_categories.php,v
retrieving revision 1.8
retrieving revision 1.9
diff -u -d -r1.8 -r1.9
--- class.phpmediadb_data_categories.php	6 Apr 2005 13:54:30 -0000	1.8
+++ class.phpmediadb_data_categories.php	9 Apr 2005 15:47:10 -0000	1.9
@@ -80,9 +80,10 @@
 			
 			return $this->DATA->SQL->generateDataArray( $rs );
 		}
-		catch( Exception $e )
+		catch( Exception $ex )
 		{
-			die( $e->getMessage() );
+			/* handle exception and terminate script */
+			phpmediadb_exception::handleException( $ex );
 		}
 	}
 
@@ -104,9 +105,10 @@
 			
 			return $this->DATA->SQL->generateDataArray( $rs );
 		}
-		catch( Exception $e )
+		catch( Exception $ex )
 		{
-			die( $e->getMessage() );
+			/* handle exception and terminate script */
+			phpmediadb_exception::handleException( $ex );
 		}
 	}
 
@@ -131,9 +133,10 @@
 			
 			return $this->DATA->SQL->generateDataArray( $rs );
 		}
-		catch( Exception $e )
+		catch( Exception $ex )
 		{
-			die( $e->getMessage() );
+			/* handle exception and terminate script */
+			phpmediadb_exception::handleException( $ex );
 		}
 	}
 //-----------------------------------------------------------------------------
@@ -246,9 +249,10 @@
 			
 			return $returnValue;
 		}
-		catch( Exception $e )
+		catch( Exception $ex )
 		{
-			die( $e->getMessage() );
+			/* handle exception and terminate script */
+			phpmediadb_exception::handleException( $ex );
 		}
 	}
 
@@ -258,9 +262,10 @@
 	 * into the table Categories_has_Items
 	 *
 	 * @access public
-	 * @param array $data contains specified data for the sql statement
+	 * @param integer $itemId ID of the item
+	 * @param integer $categoryId ID of the category
 	 */
-	public function add( $data )
+	public function addLink( $itemId, $categoryId )
 	{
 		try
 		{
@@ -275,7 +280,7 @@
 		}
 		catch( Exception $e )
 		{
-			return $this->DATA->SQL->rollbackTransaction( $conn, $e );
+			$this->DATA->SQL->rollbackTransaction( $conn, $e );
 		}
 	}
 
@@ -287,20 +292,20 @@
 	 * @access public
 	 * @param Integer $id contains specified id for the sql statement
 	 */
-	public function remove( $id )
+	public function removeAllLinks( $itemId )
 	{
 		try
 		{
 			$conn = $this->DATA->SQL->getConnection();
 			$stmt = $conn->prepareStatement(	'DELETE FROM Categories_has_Items
 												WHERE Categories_has_Items.ItemID = ?' );
-			$stmt->setString( 1, $id );
+			$stmt->setString( 1, $itemId );
 			$stmt->executeUpdate();
 			$this->DATA->SQL->commitTransaction( $conn );
 		}
 		catch( Exception $e )
 		{
-			return $this->DATA->SQL->rollbackTransaction( $conn, $e );
+			$this->DATA->SQL->rollbackTransaction( $conn, $e );
 		}
 	}
 



From nobody at sheep.berlios.de  Sat Apr  9 21:09:40 2005
From: nobody at sheep.berlios.de (mblaschke)
Date: Sat, 9 Apr 2005 21:09:40 +0200
Subject: [phpmediadb-cvs] phpmediadb-cvs/_source/tier.data class.phpmediadb_data_categories.php,1.9,1.10
Message-ID: <200504091909.j39J9em06681@bat.berlios.de>

Update of /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.data
In directory sheep:/tmp/cvs-serv10969/_source/tier.data

Modified Files:
	class.phpmediadb_data_categories.php 
Log Message:
* Fixed typo in documentation of phpmediadb_data_categories::removeAllLinks

Index: class.phpmediadb_data_categories.php
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.data/class.phpmediadb_data_categories.php,v
retrieving revision 1.9
retrieving revision 1.10
diff -u -d -r1.9 -r1.10
--- class.phpmediadb_data_categories.php	9 Apr 2005 15:47:10 -0000	1.9
+++ class.phpmediadb_data_categories.php	9 Apr 2005 19:09:38 -0000	1.10
@@ -290,7 +290,7 @@
 	 * from the table Categories_has_Items
 	 *
 	 * @access public
-	 * @param Integer $id contains specified id for the sql statement
+	 * @param Integer $itemId contains specified id for the sql statement
 	 */
 	public function removeAllLinks( $itemId )
 	{



From nobody at sheep.berlios.de  Sat Apr  9 21:13:12 2005
From: nobody at sheep.berlios.de (mblaschke)
Date: Sat, 9 Apr 2005 21:13:12 +0200
Subject: [phpmediadb-cvs] phpmediadb-cvs/_source/tier.business class.phpmediadb_business_categories.php,1.7,1.8
Message-ID: <200504091913.j39JDCm06733@bat.berlios.de>

Update of /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.business
In directory sheep:/tmp/cvs-serv11087/_source/tier.business

Modified Files:
	class.phpmediadb_business_categories.php 
Log Message:
* Added function phpmediadb_business_categories::addLink
* Added function phpmediadb_business_categories::removeAllLinks

Index: class.phpmediadb_business_categories.php
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.business/class.phpmediadb_business_categories.php,v
retrieving revision 1.7
retrieving revision 1.8
diff -u -d -r1.7 -r1.8
--- class.phpmediadb_business_categories.php	6 Apr 2005 13:51:55 -0000	1.7
+++ class.phpmediadb_business_categories.php	9 Apr 2005 19:13:10 -0000	1.8
@@ -219,6 +219,33 @@
 		/* return data */
 		return $data;
 	}
+
+//-----------------------------------------------------------------------------
+	/**
+	 * This function links a item with a category
+	 *
+	 * @access public
+	 * @param integer $itemId ID of the item
+	 * @param integer $categoryId ID of the category
+	 */
+	public function addLink( $itemId, $categoryId )
+	{
+		/* delegate */
+		$returnValue = $this->DATA->CATEGORIES->addLink( $itemId, $categoryId );
+	}
+
+//-----------------------------------------------------------------------------
+	/**
+	 * This function removes all links from an item
+	 *
+	 * @access public
+	 * @param Integer $itemId ID of the item
+	 */
+	public function removeAllLinks( $itemId )
+	{
+		/* delegate */
+		$returnValue = $this->DATA->CATEGORIES->removeAllLinks( $itemId );
+	}
 	
 //-----------------------------------------------------------------------------
 } /* end of class phpmediadb_business_categories */



From nobody at sheep.berlios.de  Sun Apr 10 01:56:04 2005
From: nobody at sheep.berlios.de (mblaschke)
Date: Sun, 10 Apr 2005 01:56:04 +0200
Subject: [phpmediadb-cvs] phpmediadb-cvs/_source/tier.data class.phpmediadb_data_agerestrictions.php,1.11,1.12 class.phpmediadb_data_codecs.php,1.14,1.15 class.phpmediadb_data_formats.php,1.14,1.15 class.phpmediadb_data_prints.php,1.11,1.12 class.phpmediadb_data_status.php,1.11,1.12 class.phpmediadb_data_videos.php,1.11,1.12
Message-ID: <200504092356.j39Nu4m12649@bat.berlios.de>

Update of /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.data
In directory sheep:/tmp/cvs-serv15666/_source/tier.data

Modified Files:
	class.phpmediadb_data_agerestrictions.php 
	class.phpmediadb_data_codecs.php 
	class.phpmediadb_data_formats.php 
	class.phpmediadb_data_prints.php 
	class.phpmediadb_data_status.php 
	class.phpmediadb_data_videos.php 
Log Message:
* Changed exception handling, now using phpmediadb_exception class

Index: class.phpmediadb_data_agerestrictions.php
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.data/class.phpmediadb_data_agerestrictions.php,v
retrieving revision 1.11
retrieving revision 1.12
diff -u -d -r1.11 -r1.12
--- class.phpmediadb_data_agerestrictions.php	6 Apr 2005 13:54:12 -0000	1.11
+++ class.phpmediadb_data_agerestrictions.php	9 Apr 2005 23:56:00 -0000	1.12
@@ -79,9 +79,10 @@
 			$rs = $stmt->executeQuery();
 			return $this->DATA->SQL->generateDataArray( $rs );
 		}
-		catch( Exception $e )
+		catch( Exception $exception )
 		{
-			die( $e->getMessage() );
+			/* handle exception and terminate script */
+			phpmediadb_exception::handleException( $exception );
 		}
 	}
 
@@ -102,9 +103,10 @@
 			$rs = $stmt->executeQuery();
 			return $this->DATA->SQL->generateDataArray( $rs );
 		}
-		catch( Exception $e )
+		catch( Exception $exception )
 		{
-			die( $e->getMessage() );
+			/* handle exception and terminate script */
+			phpmediadb_exception::handleException( $exception );
 		}
 	}
 
@@ -129,9 +131,13 @@
 			$this->DATA->SQL->commitTransaction( $conn );
 			return $this->DATA->SQL->getLastInsert();
 		}
-		catch( Exception $e )
+		catch( Exception $exception )
 		{
-			$this->DATA->SQL->rollbackException( $conn, $e );
+			/* rollback transaction */
+			$this->DATA->SQL->rollbackTransaction( $conn );
+			
+			/* handle exception and terminate script */
+			phpmediadb_exception::handleException( $exception );
 		}
 	}
 
@@ -157,9 +163,13 @@
 			$stmt->executeUpdate();
 			$this->DATA->SQL->commitTransaction( $conn );
 		}
-		catch( Exception $e )
+		catch( Exception $exception )
 		{
-			$this->DATA->SQL->rollbackException( $conn, $e );
+			/* rollback transaction */
+			$this->DATA->SQL->rollbackTransaction( $conn );
+			
+			/* handle exception and terminate script */
+			phpmediadb_exception::handleException( $exception );
 		}
 		
 	}
@@ -183,9 +193,13 @@
 			$stmt->executeUpdate();
 			$this->DATA->SQL->commitTransaction( $conn );
 		}
-		catch( Exception $e )
+		catch( Exception $exception )
 		{
-			$this->DATA->SQL->rollbackException( $conn, $e );
+			/* rollback transaction */
+			$this->DATA->SQL->rollbackTransaction( $conn );
+			
+			/* handle exception and terminate script */
+			phpmediadb_exception::handleException( $exception );
 		}
 	}
 
@@ -218,9 +232,10 @@
 				
 			return $returnValue;
 		}
-		catch( Exception $e )
+		catch( Exception $exception )
 		{
-			die( $e->getMessage() );
+			/* handle exception and terminate script */
+			phpmediadb_exception::handleException( $exception );
 		}
 	}
 

Index: class.phpmediadb_data_codecs.php
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.data/class.phpmediadb_data_codecs.php,v
retrieving revision 1.14
retrieving revision 1.15
diff -u -d -r1.14 -r1.15
--- class.phpmediadb_data_codecs.php	6 Apr 2005 13:54:42 -0000	1.14
+++ class.phpmediadb_data_codecs.php	9 Apr 2005 23:56:01 -0000	1.15
@@ -80,9 +80,10 @@
 			
 			return $this->DATA->SQL->generateDataArray( $rs );
 		}
-		catch( Exception $e )
+		catch( Exception $exception )
 		{
-			die( $e->getMessage() );
+			/* handle exception and terminate script */
+			phpmediadb_exception::handleException( $exception );
 		}
 	}
 
@@ -104,9 +105,10 @@
 			
 			return $this->DATA->SQL->generateDataArray( $rs );
 		}
-		catch( Exception $e )
+		catch( Exception $exception )
 		{
-			die( $e->getMessage() );
+			/* handle exception and terminate script */
+			phpmediadb_exception::handleException( $exception );
 		}
 	}
 
@@ -131,9 +133,10 @@
 			
 			return $this->DATA->SQL->generateDataArray( $rs );
 		}
-		catch( Exception $e )
+		catch( Exception $exception )
 		{
-			die( $e->getMessage() );
+			/* handle exception and terminate script */
+			phpmediadb_exception::handleException( $exception );
 		}
 	}
 	
@@ -161,9 +164,13 @@
 			$this->DATA->SQL->commitTransaction( $conn );
 			return $this->DATA->SQL->getLastInsert( $conn );
 		}
-		catch( Exception $e )
+		catch( Exception $exception )
 		{
-			$this->DATA->SQL->rollbackException( $conn, $e );
+			/* rollback transaction */
+			$this->DATA->SQL->rollbackTransaction( $conn );
+			
+			/* handle exception and terminate script */
+			phpmediadb_exception::handleException( $exception );
 		}
 	}
 
@@ -193,9 +200,13 @@
 			$stmt->executeUpdate();
 			$this->DATA->SQL->commitTransaction( $conn );
 		}
-		catch( Exception $e )
+		catch( Exception $exception )
 		{
-			$this->DATA->SQL->rollbackException( $conn, $e );
+			/* rollback transaction */
+			$this->DATA->SQL->rollbackTransaction( $conn );
+			
+			/* handle exception and terminate script */
+			phpmediadb_exception::handleException( $exception );
 		}
 	}
 
@@ -218,9 +229,13 @@
 			$stmt->executeUpdate();
 			$this->DATA->SQL->commitTransaction( $conn );
 		}
-		catch( Exception $e )
+		catch( Exception $exception )
 		{
-			$this->DATA->SQL->rollbackException( $conn, $e );
+			/* rollback transaction */
+			$this->DATA->SQL->rollbackTransaction( $conn );
+			
+			/* handle exception and terminate script */
+			phpmediadb_exception::handleException( $exception );
 		}
 	}
 
@@ -254,9 +269,10 @@
 				
 			return $returnValue;
 		}
-		catch( Exception $e )
+		catch( Exception $exception )
 		{
-			die( $e->getMessage() );
+			/* handle exception and terminate script */
+			phpmediadb_exception::handleException( $exception );
 		}
 	}
 

Index: class.phpmediadb_data_formats.php
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.data/class.phpmediadb_data_formats.php,v
retrieving revision 1.14
retrieving revision 1.15
diff -u -d -r1.14 -r1.15
--- class.phpmediadb_data_formats.php	6 Apr 2005 13:54:54 -0000	1.14
+++ class.phpmediadb_data_formats.php	9 Apr 2005 23:56:01 -0000	1.15
@@ -80,9 +80,10 @@
 			
 			return $this->DATA->SQL->generateDataArray( $rs );
 		}
-		catch( Exception $e )
+		catch( Exception $exception )
 		{
-			die( $e->getMessage() );
+			/* handle exception and terminate script */
+			phpmediadb_exception::handleException( $exception );
 		}
 	}
 
@@ -104,9 +105,10 @@
 			
 			return $this->DATA->SQL->generateDataArray( $rs );
 		}
-		catch( Exception $e )
+		catch( Exception $exception )
 		{
-			die( $e->getMessage() );
+			/* handle exception and terminate script */
+			phpmediadb_exception::handleException( $exception );
 		}
 	}
 //-----------------------------------------------------------------------------
@@ -130,9 +132,10 @@
 			
 			return $this->DATA->SQL->generateDataArray( $rs );
 		}
-		catch( Exception $e )
+		catch( Exception $exception )
 		{
-			die( $e->getMessage() );
+			/* handle exception and terminate script */
+			phpmediadb_exception::handleException( $exception );
 		}
 	}
 	
@@ -159,9 +162,13 @@
 			$this->DATA->SQL->commitTransaction( $conn );
 			return $this->DATA->SQL->getLastInsert( $conn );
 		}
-		catch( Exception $e )
+		catch( Exception $exception )
 		{
-			$this->DATA->SQL->rollbackException( $conn, $e );
+			/* rollback transaction */
+			$this->DATA->SQL->rollbackTransaction( $conn );
+			
+			/* handle exception and terminate script */
+			phpmediadb_exception::handleException( $exception );
 		}
 	}
 
@@ -189,9 +196,13 @@
 			$stmt->executeUpdate();
 			$this->DATA->SQL->commitTransaction( $conn );
 		}
-		catch( Exception $e )
+		catch( Exception $exception )
 		{
-			$this->DATA->SQL->rollbackException( $conn, $e );
+			/* rollback transaction */
+			$this->DATA->SQL->rollbackTransaction( $conn );
+			
+			/* handle exception and terminate script */
+			phpmediadb_exception::handleException( $exception );
 		}
 	}
 
@@ -214,9 +225,13 @@
 			$stmt->executeUpdate();
 			$this->DATA->SQL->commitTransaction( $conn );
 		}
-		catch( Exception $e )
+		catch( Exception $exception )
 		{
-			$this->DATA->SQL->rollbackException( $conn, $e );
+			/* rollback transaction */
+			$this->DATA->SQL->rollbackTransaction( $conn );
+			
+			/* handle exception and terminate script */
+			phpmediadb_exception::handleException( $exception );
 		}
 	}
 
@@ -250,9 +265,10 @@
 				
 			return $returnValue;
 		}
-		catch( Exception $e )
+		catch( Exception $exception )
 		{
-			die( $e->getMessage() );
+			/* handle exception and terminate script */
+			phpmediadb_exception::handleException( $exception );
 		}
 	}
 

Index: class.phpmediadb_data_prints.php
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.data/class.phpmediadb_data_prints.php,v
retrieving revision 1.11
retrieving revision 1.12
diff -u -d -r1.11 -r1.12
--- class.phpmediadb_data_prints.php	6 Apr 2005 13:56:50 -0000	1.11
+++ class.phpmediadb_data_prints.php	9 Apr 2005 23:56:01 -0000	1.12
@@ -93,9 +93,10 @@
 			
 			return $this->DATA->SQL->generateDataArray( $rs );
 		}
-		catch ( Exception $e )
+		catch( Exception $exception )
 		{
-			die( $e->getMessage() );
+			/* handle exception and terminate script */
+			phpmediadb_exception::handleException( $exception );
 		}
 	}
 
@@ -124,9 +125,10 @@
 			
 			return $this->DATA->SQL->generateDataArray( $rs );
 		}
-		catch( Exception $e )
+		catch( Exception $exception )
 		{
-			die( $e->getMessage() );
+			/* handle exception and terminate script */
+			phpmediadb_exception::handleException( $exception );
 		}
 	}
 
@@ -167,9 +169,13 @@
 			$this->DATA->SQL->commitTransaction( $conn );
 			return $id;		
 		}
-		catch( Excpetion $e )
+		catch( Exception $exception )
 		{
-			$this->DATA->SQL->rollbackException( $conn, $e );
+			/* rollback transaction */
+			$this->DATA->SQL->rollbackTransaction( $conn );
+			
+			/* handle exception and terminate script */
+			phpmediadb_exception::handleException( $exception );
 		}
 	}
 
@@ -232,9 +238,13 @@
 			$stmt->executeUpdate();
 			$this->DATA->SQL->commitTransaction( $conn );
 		}
-		catch( Exception $e )
+		catch( Exception $exception )
 		{
-			$this->DATA->SQL->rollbackException( $conn, $e );
+			/* rollback transaction */
+			$this->DATA->SQL->rollbackTransaction( $conn );
+			
+			/* handle exception and terminate script */
+			phpmediadb_exception::handleException( $exception );
 		}
 	}
 	
@@ -262,9 +272,13 @@
 			$stmt->executeUpdate();
 			$this->DATA->SQL->commitTransaction( $conn );
 		}
-		catch( Exception $e )
+		catch( Exception $exception )
 		{
-			$this->DATA->SQL->rollbackException( $conn, $e );
+			/* rollback transaction */
+			$this->DATA->SQL->rollbackTransaction( $conn );
+			
+			/* handle exception and terminate script */
+			phpmediadb_exception::handleException( $exception );
 		}
 	}
 
@@ -298,9 +312,10 @@
 			
 			return $returnValue;
 		}
-		catch( Exception $e )
+		catch( Exception $exception )
 		{
-			die( $e->getMessage() );
+			/* handle exception and terminate script */
+			phpmediadb_exception::handleException( $exception );
 		}
 	}
 

Index: class.phpmediadb_data_status.php
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.data/class.phpmediadb_data_status.php,v
retrieving revision 1.11
retrieving revision 1.12
diff -u -d -r1.11 -r1.12
--- class.phpmediadb_data_status.php	6 Apr 2005 13:57:24 -0000	1.11
+++ class.phpmediadb_data_status.php	9 Apr 2005 23:56:01 -0000	1.12
@@ -80,9 +80,10 @@
 			
 			return $this->DATA->SQL->generateDataArray( $rs );
 		}
-		catch( Exception $e )
+		catch( Exception $exception )
 		{
-			die( $e->getMessage() );
+			/* handle exception and terminate script */
+			phpmediadb_exception::handleException( $exception );
 		}
 	}
 
@@ -104,9 +105,10 @@
 			
 			return $this->DATA->SQL->generateDataArray( $rs );
 		}
-		catch( Exception $e )
+		catch( Exception $exception )
 		{
-			die( $e->getMessage() );
+			/* handle exception and terminate script */
+			phpmediadb_exception::handleException( $exception );
 		}
 	}
 
@@ -134,9 +136,13 @@
 			$this->DATA->SQL->commitTransaction( $conn );
 			return $this->DATA->SQL->getLastInsert( $conn );
 		}
-		catch( Exception $e )
+		catch( Exception $exception )
 		{
-			$this->DATA->SQL->rollbackException( $conn, $e ); 
+			/* rollback transaction */
+			$this->DATA->SQL->rollbackTransaction( $conn );
+			
+			/* handle exception and terminate script */
+			phpmediadb_exception::handleException( $exception );
 		}
 	}
 
@@ -166,9 +172,13 @@
 			$stmt->executeUpdate();
 			$this->DATA->SQL->commitTransaction( $conn );
 		}
-		catch( Exception $e )
+		catch( Exception $exception )
 		{
-			$this->DATA->SQL->rollbackException( $conn, $e );
+			/* rollback transaction */
+			$this->DATA->SQL->rollbackTransaction( $conn );
+			
+			/* handle exception and terminate script */
+			phpmediadb_exception::handleException( $exception );
 		}
 	}
 
@@ -191,9 +201,13 @@
 			$stmt->executeUpdate();
 			$this->DATA->SQL->commitTransaction( $conn, $e );
 		}
-		catch( Exception $e )
+		catch( Exception $exception )
 		{
-			$this->DATA->SQL->rollbackException( $conn, $e );
+			/* rollback transaction */
+			$this->DATA->SQL->rollbackTransaction( $conn );
+			
+			/* handle exception and terminate script */
+			phpmediadb_exception::handleException( $exception );
 		}
 	}
 
@@ -227,9 +241,10 @@
 			
 			return $returnValue;
 		}
-		catch( Exception $e )
+		catch( Exception $exception )
 		{
-			die( $e->getMessage() );
+			/* handle exception and terminate script */
+			phpmediadb_exception::handleException( $exception );
 		}
 	}
 

Index: class.phpmediadb_data_videos.php
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.data/class.phpmediadb_data_videos.php,v
retrieving revision 1.11
retrieving revision 1.12
diff -u -d -r1.11 -r1.12
--- class.phpmediadb_data_videos.php	6 Apr 2005 13:57:34 -0000	1.11
+++ class.phpmediadb_data_videos.php	9 Apr 2005 23:56:01 -0000	1.12
@@ -93,9 +93,10 @@
 			
 			return $this->DATA->SQL->generateDataArray( $rs );
 		}
-		catch( Exception $e )
+		catch( Exception $exception )
 		{
-			die( $e->getMessage() );
+			/* handle exception and terminate script */
+			phpmediadb_exception::handleException( $exception );
 		}
 	}
 
@@ -124,9 +125,10 @@
 			
 			return $this->DATA->SQL->generateDataArray( $rs );
 		}
-		catch( Exception $e )
+		catch( Exception $exception )
 		{
-			die( $e->getMessage() );
+			/* handle exception and terminate script */
+			phpmediadb_exception::handleException( $exception );
 		}
 	}
 
@@ -167,9 +169,13 @@
 			$this->DATA->SQL->commitTransaction( $conn );
 			return $id;
 		}
-		catch( Exception $e )
+		catch( Exception $exception )
 		{
-			return $this->DATA->SQL->rollbackTransaction( $conn, $e );
+			/* rollback transaction */
+			$this->DATA->SQL->rollbackTransaction( $conn );
+			
+			/* handle exception and terminate script */
+			phpmediadb_exception::handleException( $exception );
 		}
 	}
 
@@ -232,9 +238,13 @@
 			$stmt->executeUpdate();
 			$this->DATA->SQL->commitTransaction( $conn );
 		}
-		catch( Exception $e )
+		catch( Exception $exception )
 		{
-			return $this->DATA->SQL->rollbackTransaction( $conn, $e );
+			/* rollback transaction */
+			$this->DATA->SQL->rollbackTransaction( $conn );
+			
+			/* handle exception and terminate script */
+			phpmediadb_exception::handleException( $exception );
 		}
 	}
 	
@@ -262,9 +272,13 @@
 			$stmt->executeUpdate();
 			$this->DATA->SQL->commitTransaction( $conn );
 		}
-		catch( Exception $e )
+		catch( Exception $exception )
 		{
-			$this->DATA->SQL->rollbackException( $conn, $e );
+			/* rollback transaction */
+			$this->DATA->SQL->rollbackTransaction( $conn );
+			
+			/* handle exception and terminate script */
+			phpmediadb_exception::handleException( $exception );
 		}
 	}
 
@@ -298,9 +312,10 @@
 			
 			return $returnValue;
 		}
-		catch( Exception $e )
+		catch( Exception $exception )
 		{
-			die( $e->getMessage() );
+			/* handle exception and terminate script */
+			phpmediadb_exception::handleException( $exception );
 		}
 	}
 



From nobody at sheep.berlios.de  Sun Apr 10 01:59:38 2005
From: nobody at sheep.berlios.de (mblaschke)
Date: Sun, 10 Apr 2005 01:59:38 +0200
Subject: [phpmediadb-cvs] phpmediadb-cvs/_source/tier.data class.phpmediadb_data_sql.php,1.10,1.11
Message-ID: <200504092359.j39Nxcm12715@bat.berlios.de>

Update of /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.data
In directory sheep:/tmp/cvs-serv16221/_source/tier.data

Modified Files:
	class.phpmediadb_data_sql.php 
Log Message:
* phpmediadb_data_sql::rollbackTransaction only requires one parameter (the connection) and isn't responsible for exception handling anymore

Index: class.phpmediadb_data_sql.php
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.data/class.phpmediadb_data_sql.php,v
retrieving revision 1.10
retrieving revision 1.11
diff -u -d -r1.10 -r1.11
--- class.phpmediadb_data_sql.php	9 Apr 2005 15:44:54 -0000	1.10
+++ class.phpmediadb_data_sql.php	9 Apr 2005 23:59:35 -0000	1.11
@@ -142,16 +142,11 @@
 	 *
 	 * @access public
 	 * @param String $conn contains information from the connection to the database
-	 * @param exception $exception exception of error
 	*/
-	public function rollbackTransaction( $conn, $exception )
+	public function rollbackTransaction( $conn )
 	{
 		/* abort all delete/update queries in the transaction*/
 		$conn->rollback();
-		
-		/* handle exception and terminate script */
-		phpmediadb_exception::handleException( $exception );
-		die();
 	}
 	
 //-----------------------------------------------------------------------------
@@ -164,6 +159,9 @@
 	*/
 	public function generateDataArray( $rs )
 	{
+		/* init */
+		$dataArray = NULL;
+		
 		/* copy all rows to an dataarray */
 		while ($rs->next())
 			$dataArray[] = $rs->GetRow();



From nobody at sheep.berlios.de  Sun Apr 10 02:01:35 2005
From: nobody at sheep.berlios.de (mblaschke)
Date: Sun, 10 Apr 2005 02:01:35 +0200
Subject: [phpmediadb-cvs] phpmediadb-cvs/_source/tier.data class.phpmediadb_data_categories.php,1.10,1.11
Message-ID: <200504100001.j3A01Zm12782@bat.berlios.de>

Update of /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.data
In directory sheep:/tmp/cvs-serv16623/_source/tier.data

Modified Files:
	class.phpmediadb_data_categories.php 
Log Message:
* Changed exception handling, now using phpmediadb_exception class
* Fixed a bug in phpmediadb_data_categories::addLink - wrong variables were used

Index: class.phpmediadb_data_categories.php
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.data/class.phpmediadb_data_categories.php,v
retrieving revision 1.10
retrieving revision 1.11
diff -u -d -r1.10 -r1.11
--- class.phpmediadb_data_categories.php	9 Apr 2005 19:09:38 -0000	1.10
+++ class.phpmediadb_data_categories.php	10 Apr 2005 00:01:32 -0000	1.11
@@ -160,9 +160,13 @@
 			$this->DATA->SQL->commitTransaction( $conn );
 			return $this->DATA->SQL->getLastInsert( $conn );
 		}
-		catch( Exception $e )
+		catch( Exception $exception )
 		{
-			$this->DATA->SQL->rollbackException( $conn, $e );
+			/* rollback transaction */
+			$this->DATA->SQL->rollbackTransaction( $conn );
+			
+			/* handle exception and terminate script */
+			phpmediadb_exception::handleException( $exception );
 		}
 	}
 
@@ -188,9 +192,13 @@
 			$stmt->executeUpdate();
 			$this->DATA->SQL->commitTransaction( $conn );
 		}
-		catch( Exception $e )
+		catch( Exception $exception )
 		{
-			$this->DATA->SQL->rollbackException( $conn, $e );
+			/* rollback transaction */
+			$this->DATA->SQL->rollbackTransaction( $conn );
+			
+			/* handle exception and terminate script */
+			phpmediadb_exception::handleException( $exception );
 		}
 	}
 
@@ -213,9 +221,13 @@
 			$stmt->executeUpdate();
 			$this->DATA->SQL->commitTransaction( $conn );
 		}
-		catch( Exception $e )
+		catch( Exception $exception )
 		{
-			$this->DATA->SQL->rollbackException( $conn, $e );
+			/* rollback transaction */
+			$this->DATA->SQL->rollbackTransaction( $conn );
+			
+			/* handle exception and terminate script */
+			phpmediadb_exception::handleException( $exception );
 		}
 	}
 
@@ -273,14 +285,18 @@
 			$this->DATA->SQL->openTransaction( $conn );
 			$stmt = $conn->prepareStatement(	'INSERT INTO Categories_has_Items
 												( ItemID, CategoryID ) VALUES( ?, ? )' );
-			$stmt->setString( 1, $data['ItemID'] );
-			$stmt->setString( 2, $data['CategoryID'] );
+			$stmt->setString( 1, $itemId );
+			$stmt->setString( 2, $categoryId );
 			$stmt->executeUpdate();
 			$this->DATA->SQL->commitTransaction( $conn );
 		}
-		catch( Exception $e )
+		catch( Exception $exception )
 		{
-			$this->DATA->SQL->rollbackTransaction( $conn, $e );
+			/* rollback transaction */
+			$this->DATA->SQL->rollbackTransaction( $conn );
+			
+			/* handle exception and terminate script */
+			phpmediadb_exception::handleException( $exception );
 		}
 	}
 
@@ -303,9 +319,13 @@
 			$stmt->executeUpdate();
 			$this->DATA->SQL->commitTransaction( $conn );
 		}
-		catch( Exception $e )
+		catch( Exception $exception )
 		{
-			$this->DATA->SQL->rollbackTransaction( $conn, $e );
+			/* rollback transaction */
+			$this->DATA->SQL->rollbackTransaction( $conn );
+			
+			/* handle exception and terminate script */
+			phpmediadb_exception::handleException( $exception );
 		}
 	}
 



From nobody at sheep.berlios.de  Sun Apr 10 03:31:09 2005
From: nobody at sheep.berlios.de (mblaschke)
Date: Sun, 10 Apr 2005 03:31:09 +0200
Subject: [phpmediadb-cvs] phpmediadb-cvs/_source/tier.data class.phpmediadb_data_audios.php,1.10,1.11
Message-ID: <200504100131.j3A1V9m14454@bat.berlios.de>

Update of /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.data
In directory sheep:/tmp/cvs-serv19816/_source/tier.data

Modified Files:
	class.phpmediadb_data_audios.php 
Log Message:
* Changed exception handling, now using phpmediadb_exception class
* Fixed SQL statement in phpmediadb_data_audios::get
* Fixed SQL statement in phpmediadb_data_audios::getList

Index: class.phpmediadb_data_audios.php
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.data/class.phpmediadb_data_audios.php,v
retrieving revision 1.10
retrieving revision 1.11
diff -u -d -r1.10 -r1.11
--- class.phpmediadb_data_audios.php	6 Apr 2005 13:54:21 -0000	1.10
+++ class.phpmediadb_data_audios.php	10 Apr 2005 01:31:05 -0000	1.11
@@ -74,29 +74,23 @@
 		try
 		{
 			$conn = $this->DATA->SQL->getConnection();
-			$stmt = $conn->prepareStatement(	'SELECT a.*, b.*, c.*, d.*, e.*, f.*, g.ItemPicturesID
-												FROM AudioDatas a,
-												Items b,
-												ItemTypes c,
-												MediaCodecs d,
-												MediaFormats e,
-												MediaAgeRestrictions f,
-												BinaryDatas g
-												WHERE b.ItemID = ? 
-												AND a.ItemID = b.ItemID
-												AND b.ItemTypeID = c.ItemTypeID
-												AND b.MediaCodecID = d.MediaCodecID
-												AND b.MediaFormatID = e.MediaFormatID
-												AND b.MediaAgeRestrictionID = f.MediaAgeRestrictionID
-												AND b.ItemPicturesID = g.ItemPicturesID' );
+			$stmt = $conn->prepareStatement(	'SELECT Items.*, ItemTypes.*, MediaCodecs.*, MediaFormats.*, MediaAgeRestrictions.* ,BinaryDatas.ItemPicturesID
+													FROM Items
+													LEFT JOIN ItemTypes ON ItemTypes.ItemTypeID=Items.ItemTypeID
+													LEFT JOIN MediaCodecs ON MediaCodecs.MediaCodecID=Items.MediaCodecID
+													LEFT JOIN MediaFormats ON MediaFormats.MediaFormatID=Items.MediaFormatID
+													LEFT JOIN MediaAgeRestrictions ON MediaAgeRestrictions.MediaAgeRestrictionID=Items.MediaAgeRestrictionID
+													LEFT JOIN BinaryDatas ON  BinaryDatas.ItemPicturesID=Items.ItemPicturesID
+													WHERE Items.ItemID = ?' );
 			$stmt->setString( 1, $id );
 			$rs = $stmt->executeQuery();
 			
 			return $this->DATA->SQL->generateDataArray( $rs );
 		}
-		catch( Exception $e )
+		catch( Exception $exception )
 		{
-			die( $e->getMessage() );
+			/* handle exception and terminate script */
+			phpmediadb_exception::handleException( $exception );
 		}
 	}
 
@@ -113,21 +107,21 @@
 		try
 		{
 			$conn = $this->DATA->SQL->getConnection();
-			$stmt = $conn->prepareStatement(	'SELECT a.*, b.*, c.*, d.*, e.*, f.*, g.ItemPicturesID
-												FROM AudioDatas a,
-												Items b,
-												ItemTypes c,
-												MediaCodecs d,
-												MediaFormats e,
-												MediaAgeRestrictions f,
-												BinaryDatas g' );
+			$stmt = $conn->prepareStatement(	'SELECT Items.*, ItemTypes.*, MediaCodecs.*, MediaFormats.*, MediaAgeRestrictions.* ,BinaryDatas.ItemPicturesID
+													FROM Items
+													LEFT JOIN ItemTypes ON ItemTypes.ItemTypeID=Items.ItemTypeID
+													LEFT JOIN MediaCodecs ON MediaCodecs.MediaCodecID=Items.MediaCodecID
+													LEFT JOIN MediaFormats ON MediaFormats.MediaFormatID=Items.MediaFormatID
+													LEFT JOIN MediaAgeRestrictions ON MediaAgeRestrictions.MediaAgeRestrictionID=Items.MediaAgeRestrictionID
+													LEFT JOIN BinaryDatas ON  BinaryDatas.ItemPicturesID=Items.ItemPicturesID' );
 			$rs = $stmt->executeQuery();
 			
 			return $this->DATA->SQL->generateDataArray( $rs );
 		}
-		catch( Exception $e )
+		catch( Exception $exception )
 		{
-			die( $e->getMessage() );
+			/* handle exception and terminate script */
+			phpmediadb_exception::handleException( $exception );
 		}
 	}
 
@@ -168,9 +162,13 @@
 			$this->DATA->SQL->commitTransaction( $conn );
 			return $id;
 		}
-		catch( Exception $e )
+		catch( Exception $exception )
 		{
-			$this->DATA->SQL->rollbackTransaction( $conn, $e );
+			/* rollback transaction */
+			$this->DATA->SQL->rollbackTransaction( $conn );
+			
+			/* handle exception and terminate script */
+			phpmediadb_exception::handleException( $exception );
 		}
 	}
 
@@ -232,9 +230,13 @@
 			$stmt->executeUpdate();
 			$this->DATA->SQL->commitTransaction( $conn );
 		}
-		catch( Exception $e )
+		catch( Exception $exception )
 		{
-			$this->DATA->SQL->rollbackTransaction( $conn, $e );
+			/* rollback transaction */
+			$this->DATA->SQL->rollbackTransaction( $conn );
+			
+			/* handle exception and terminate script */
+			phpmediadb_exception::handleException( $exception );
 		}
 		
 		return true;
@@ -265,9 +267,13 @@
 			$stmt->executeUpdate();
 			$this->DATA->SQL->commitTransaction( $conn );
 		}
-		catch( Exception $e )
+		catch( Exception $exception )
 		{
-			$this->DATA->SQL->rollbackTransaction( $conn, $e );
+			/* rollback transaction */
+			$this->DATA->SQL->rollbackTransaction( $conn );
+			
+			/* handle exception and terminate script */
+			phpmediadb_exception::handleException( $exception );
 		}
 		
 		return true;
@@ -303,9 +309,10 @@
 				
 			return $returnValue;
 		}
-		catch( Exception $e )
+		catch( Exception $exception )
 		{
-			die( $e->getMessage() );
+			/* handle exception and terminate script */
+			phpmediadb_exception::handleException( $exception );
 		}
 	}
 



From nobody at sheep.berlios.de  Sun Apr 10 03:33:42 2005
From: nobody at sheep.berlios.de (mblaschke)
Date: Sun, 10 Apr 2005 03:33:42 +0200
Subject: [phpmediadb-cvs] phpmediadb-cvs/_source/tier.configuration/templates body.list.audio.tpl,1.2,1.3
Message-ID: <200504100133.j3A1Xgm14496@bat.berlios.de>

Update of /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.configuration/templates
In directory sheep:/tmp/cvs-serv19894/_source/tier.configuration/templates

Modified Files:
	body.list.audio.tpl 
Log Message:
* Added basic data

Index: body.list.audio.tpl
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.configuration/templates/body.list.audio.tpl,v
retrieving revision 1.2
retrieving revision 1.3
diff -u -d -r1.2 -r1.3
--- body.list.audio.tpl	15 Mar 2005 17:41:11 -0000	1.2
+++ body.list.audio.tpl	10 Apr 2005 01:33:39 -0000	1.3
@@ -1,21 +1,19 @@
 <div id="phpmediadb-body-list-audio" class="phpmediadb-body-list">
 	<table width="100%" border="0">
 		<tr>
-			<th>{$I18N.MEDIA_TITLE|default:"%MEDIA_TITLE%"}</th>
-			<th>{$I18N.MEDIA_ARTIST|default:"%MEDIA_ARTIST%"}</th>
-			<th>{$I18N.LIST_TITLE_TITLE|default:"%LIST_TITLE_TITLE%"}</th>
+			<th>{$I18N.LIST_COLUMN_TITLE_MEDIATITLE|default:"%LIST_COLUMN_TITLE_MEDIATITLE%"}</th>
+			<th>{$I18N.LIST_COLUMN_TITLE_RELEASEDATE|default:"%LIST_COLUMN_TITLE_RELEASEDATE%"}</th>
 			<th></th>
 		</tr>
-		
-		<td>
-			<td></td>
-			<td></td>
-			<td></td>
+{foreach from=$ITEMDATA item=currentDataItem}
+		<tr>
+			<td>{$currentDataItem.itemtitle}</td>
+			<td>{$currentDataItem.itemreleasedate|default:$I18N.NOT_SET|default:"%NOT_SET%"}</td>
 			<td>
-				<a href="admin/item-mod.php?itemid="><img src="{$CONFIGURATION.ROOTPATH}_layout/images/icons/action-modify.png" alt="{$I18N.ACTION_MODIFY|default:"%ACTION_MODIFY%"}" /></a>
-				<a href="admin/item-del.php?itemid="><img src="{$CONFIGURATION.ROOTPATH}_layout/images/icons/action-remove.png" alt="{$I18N.ACTION_DELETE|default:"%ACTION_DELETE%"}" /></a>
+				<a href="admin/item-mod.php?itemid={$currentDataItem.itemid}"><img src="{$CONFIGURATION.ROOTPATH}_layout/images/icons/action-modify.png" alt="{$I18N.ACTION_MODIFY|default:"%ACTION_MODIFY%"}" /></a>
+				<a href="admin/item-del.php?itemid={$currentDataItem.itemid}"><img src="{$CONFIGURATION.ROOTPATH}_layout/images/icons/action-remove.png" alt="{$I18N.ACTION_DELETE|default:"%ACTION_DELETE%"}" /></a>
 			</td>
-		</td>
-		
+		</tr>
+{/foreach}
 	</table>
-</div> 
+</div>



From nobody at sheep.berlios.de  Sun Apr 10 03:33:54 2005
From: nobody at sheep.berlios.de (mblaschke)
Date: Sun, 10 Apr 2005 03:33:54 +0200
Subject: [phpmediadb-cvs] phpmediadb-cvs/_source/tier.configuration/templates overall.footer.tpl,1.1,1.2
Message-ID: <200504100133.j3A1Xsm14505@bat.berlios.de>

Update of /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.configuration/templates
In directory sheep:/tmp/cvs-serv19903/_source/tier.configuration/templates

Modified Files:
	overall.footer.tpl 
Log Message:
* Removed version

Index: overall.footer.tpl
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.configuration/templates/overall.footer.tpl,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- overall.footer.tpl	8 Mar 2005 17:54:52 -0000	1.1
+++ overall.footer.tpl	10 Apr 2005 01:33:52 -0000	1.2
@@ -1 +1 @@
-Powered by <a href="http://phpmediadb.berlios.de/">phpMediaDB 1.x</a> ? 2004, {$smarty.now|date_format:"%Y"} phpMediaDB Group
\ No newline at end of file
+Powered by <a href="http://phpmediadb.berlios.de/">phpMediaDB</a> ? 2004, {$smarty.now|date_format:"%Y"} phpMediaDB Group
\ No newline at end of file



From nobody at sheep.berlios.de  Sun Apr 10 03:34:48 2005
From: nobody at sheep.berlios.de (mblaschke)
Date: Sun, 10 Apr 2005 03:34:48 +0200
Subject: [phpmediadb-cvs] phpmediadb-cvs/_source/tier.business class.phpmediadb_business_audios.php,1.6,1.7
Message-ID: <200504100134.j3A1Ymm14523@bat.berlios.de>

Update of /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.business
In directory sheep:/tmp/cvs-serv19929/_source/tier.business

Modified Files:
	class.phpmediadb_business_audios.php 
Log Message:
* Added addition of categories to phpmediadb_business_audios::create

Index: class.phpmediadb_business_audios.php
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.business/class.phpmediadb_business_audios.php,v
retrieving revision 1.6
retrieving revision 1.7
diff -u -d -r1.6 -r1.7
--- class.phpmediadb_business_audios.php	24 Mar 2005 20:43:35 -0000	1.6
+++ class.phpmediadb_business_audios.php	10 Apr 2005 01:34:45 -0000	1.7
@@ -147,8 +147,16 @@
 		/* init */
 		$returnValue = false;
 		
-		/* delegate */
-		$returnValue = $this->DATA->AUDIOS->create( $data );
+		/* create itemdata */
+		$itemId = $this->DATA->AUDIOS->create( $data );
+		
+		/* link item with categories */
+		if( is_array( $data['Categories'] ) )
+		{
+			foreach( $data['Categories'] as $categoryId )
+				$this->BUSINESS->CATEGORIES->addLink( $itemId, $categoryId );
+		}
+
 		
 		/* return data */
 		return $returnValue;



From nobody at sheep.berlios.de  Sun Apr 10 03:35:20 2005
From: nobody at sheep.berlios.de (mblaschke)
Date: Sun, 10 Apr 2005 03:35:20 +0200
Subject: [phpmediadb-cvs] phpmediadb-cvs list.php,1.3,1.4
Message-ID: <200504100135.j3A1ZKm14531@bat.berlios.de>

Update of /cvsroot/phpmediadb/phpmediadb-cvs
In directory sheep:/tmp/cvs-serv19942

Modified Files:
	list.php 
Log Message:
* Added basic functionallity

Index: list.php
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/list.php,v
retrieving revision 1.3
retrieving revision 1.4
diff -u -d -r1.3 -r1.4
--- list.php	24 Mar 2005 17:11:59 -0000	1.3
+++ list.php	10 Apr 2005 01:35:18 -0000	1.4
@@ -24,29 +24,40 @@
 switch( @$_GET['list'] )
 {
 		case 'audio':
-				/* display site */
+				/* get data list */
+				$dataList = $PHPMEDIADB->BUSINESS->AUDIOS->getList();	
+				@$PHPMEDIADB->PRESENTATION->CONTENTVARS->addNode( 'ITEMDATA', $dataList );
+				
+				/* set template */
 				$templates[] = 'body.list.audio.tpl';
-				$PHPMEDIADB->PRESENTATION->HTMLSERVICE->displayMain( $templates );
 			break;
 			
 		case 'video':
-				/* display site */
+				/* get data list */
+				$dataList = $PHPMEDIADB->BUSINESS->VIDEOS->getList();		
+				@$PHPMEDIADB->PRESENTATION->CONTENTVARS->addNode( 'ITEMDATA', $dataList );
+
+				/* set template */
 				$templates[] = 'body.list.video.tpl';
-				$PHPMEDIADB->PRESENTATION->HTMLSERVICE->displayMain( $templates );
 			break;
 			
 		case 'print':
-				/* display site */
+				/* get data list */
+				$dataList[] = $PHPMEDIADB->BUSINESS->PRINTS->getList();		
+				@$PHPMEDIADB->PRESENTATION->CONTENTVARS->addNode( 'ITEMDATA', $dataList );
+
+				/* set template */
 				$templates[] = 'body.list.print.tpl';
-				$PHPMEDIADB->PRESENTATION->HTMLSERVICE->displayMain( $templates );
 			break;
 			
 		default:
-				/* display site */
+				/* set default template */
 				$templates[] = 'body.list.tpl';
-				$PHPMEDIADB->PRESENTATION->HTMLSERVICE->displayMain( $templates );
 			break;
 }
+
+/* show template */
+$PHPMEDIADB->PRESENTATION->HTMLSERVICE->displayMain( $templates );
 
 //--- EOF --- EOF --- EOF --- EOF --- EOF --- EOF --- EOF --- EOF --- EOF ---
 ?>



From nobody at sheep.berlios.de  Tue Apr 12 12:16:52 2005
From: nobody at sheep.berlios.de (bruf)
Date: Tue, 12 Apr 2005 12:16:52 +0200
Subject: [phpmediadb-cvs] phpmediadb-cvs/help/development erm-model.xml,1.17,1.18
Message-ID: <200504121016.j3CAGqm06504@bat.berlios.de>

Update of /cvsroot/phpmediadb/phpmediadb-cvs/help/development
In directory sheep:/tmp/cvs-serv3551/help/development

Modified Files:
	erm-model.xml 
Log Message:
* Removed relation between Items and Publisher
* Added ItemPublisher to table Items

Index: erm-model.xml
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/help/development/erm-model.xml,v
retrieving revision 1.17
retrieving revision 1.18
diff -u -d -r1.17 -r1.18
--- erm-model.xml	6 Apr 2005 14:01:59 -0000	1.17
+++ erm-model.xml	12 Apr 2005 10:16:49 -0000	1.18
@@ -648,7 +648,7 @@
 <OPTIONSELECT Value="0" />
 </OPTIONSELECTED>
 </COLUMN>
-<COLUMN ID="1852" ColName="PublisherID" PrevColName="" Pos="1" idDatatype="5" DatatypeParams="" Width="-1" Prec="-1" PrimaryKey="0" NotNull="1" AutoInc="0" IsForeignKey="1" DefaultValue="" Comments="">
+<COLUMN ID="1585" ColName="ItemTypeID" PrevColName="" Pos="1" idDatatype="5" DatatypeParams="" Width="-1" Prec="-1" PrimaryKey="0" NotNull="1" AutoInc="0" IsForeignKey="1" DefaultValue="" Comments="">
 <OPTIONSELECTED>
 <OPTIONSELECT Value="1" />
 <OPTIONSELECT Value="0" />
@@ -720,9 +720,8 @@
 <OPTIONSELECT Value="0" />
 </OPTIONSELECTED>
 </COLUMN>
-<COLUMN ID="1585" ColName="ItemTypeID" PrevColName="" Pos="1" idDatatype="5" DatatypeParams="" Width="-1" Prec="-1" PrimaryKey="0" NotNull="1" AutoInc="0" IsForeignKey="1" DefaultValue="" Comments="">
+<COLUMN ID="1859" ColName="ItemPublisher" PrevColName="" Pos="15" idDatatype="20" DatatypeParams="(255)" Width="-1" Prec="-1" PrimaryKey="0" NotNull="1" AutoInc="0" IsForeignKey="0" DefaultValue="" Comments="">
 <OPTIONSELECTED>
-<OPTIONSELECT Value="1" />
 <OPTIONSELECT Value="0" />
 </OPTIONSELECTED>
 </COLUMN>
@@ -742,7 +741,6 @@
 <RELATION_END ID="1789" />
 <RELATION_END ID="1792" />
 <RELATION_END ID="1795" />
-<RELATION_END ID="1851" />
 </RELATIONS_END>
 <INDICES>
 <INDEX ID="1568" IndexName="PRIMARY" IndexKind="0" FKRefDef_Obj_id="-1">
@@ -775,11 +773,6 @@
 <INDEXCOLUMN idColumn="1796" LengthParam="0" />
 </INDEXCOLUMNS>
 </INDEX>
-<INDEX ID="1853" IndexName="Items_FKIndex6" IndexKind="1" FKRefDef_Obj_id="1851">
-<INDEXCOLUMNS>
-<INDEXCOLUMN idColumn="1852" LengthParam="0" />
-</INDEXCOLUMNS>
-</INDEX>
 </INDICES>
 </TABLE>
 <TABLE ID="1593" Tablename="Publishers" PrevTableName="Table_12" XPos="692" YPos="780" TableType="0" TablePrefix="0" nmTable="0" Temporary="0" UseStandardInserts="0" StandardInserts="\n" TableOptions="DelayKeyTblUpdates=0\nPackKeys=0\nRowChecksum=0\nRowFormat=0\nUseRaid=0\nRaidType=0\n" Comments="" Collapsed="0" IsLinkedObject="0" IDLinkedModel="-1" Obj_id_Linked="-1" OrderPos="25" >
@@ -796,9 +789,6 @@
 </OPTIONSELECTED>
 </COLUMN>
 </COLUMNS>
-<RELATIONS_START>
-<RELATION_START ID="1851" />
-</RELATIONS_START>
 <INDICES>
 <INDEX ID="1596" IndexName="PRIMARY" IndexKind="0" FKRefDef_Obj_id="-1">
 <INDEXCOLUMNS>
@@ -1150,7 +1140,6 @@
 <RELATION ID="1795" RelationName="Rel_26" Kind="2" SrcTable="1643" DestTable="1565" FKFields="MediaAgeRestrictionID=MediaAgeRestrictionID\n" FKFieldsComments="\n" relDirection="4" MidOffset="109" OptionalStart="0" OptionalEnd="0" CaptionOffsetX="0" CaptionOffsetY="0" StartIntervalOffsetX="0" StartIntervalOffsetY="0" EndIntervalOffsetX="0" EndIntervalOffsetY="0" CreateRefDef="1" Invisible="0" RefDef="Matching=0\nOnDelete=3\nOnUpdate=3\n" Comments="" FKRefDefIndex_Obj_id="1797" Splitted="0" IsLinkedObject="0" IDLinkedModel="-1" Obj_id_Linked="-1" OrderPos="54" />
 <RELATION ID="1801" RelationName="Rel_28" Kind="2" SrcTable="1553" DestTable="1638" FKFields="ItemTypeID=ItemTypeID\n" FKFieldsComments="\n" relDirection="2" MidOffset="23" OptionalStart="0" OptionalEnd="0" CaptionOffsetX="0" CaptionOffsetY="0" StartIntervalOffsetX="0" StartIntervalOffsetY="0" EndIntervalOffsetX="0" EndIntervalOffsetY="0" CreateRefDef="1" Invisible="0" RefDef="Matching=0\nOnDelete=3\nOnUpdate=3\n" Comments="" FKRefDefIndex_Obj_id="1803" Splitted="0" IsLinkedObject="0" IDLinkedModel="-1" Obj_id_Linked="-1" OrderPos="56" />
 <RELATION ID="1804" RelationName="Rel_29" Kind="2" SrcTable="1553" DestTable="1655" FKFields="ItemTypeID=ItemTypeID\n" FKFieldsComments="\n" relDirection="2" MidOffset="51" OptionalStart="0" OptionalEnd="0" CaptionOffsetX="3" CaptionOffsetY="1" StartIntervalOffsetX="0" StartIntervalOffsetY="0" EndIntervalOffsetX="0" EndIntervalOffsetY="0" CreateRefDef="1" Invisible="0" RefDef="Matching=0\nOnDelete=3\nOnUpdate=3\n" Comments="" FKRefDefIndex_Obj_id="1806" Splitted="0" IsLinkedObject="0" IDLinkedModel="-1" Obj_id_Linked="-1" OrderPos="57" />
-<RELATION ID="1851" RelationName="Rel_28" Kind="2" SrcTable="1593" DestTable="1565" FKFields="PublisherID=PublisherID\n" FKFieldsComments="\n" relDirection="1" MidOffset="0" OptionalStart="0" OptionalEnd="0" CaptionOffsetX="0" CaptionOffsetY="0" StartIntervalOffsetX="0" StartIntervalOffsetY="0" EndIntervalOffsetX="0" EndIntervalOffsetY="0" CreateRefDef="1" Invisible="0" RefDef="Matching=0\nOnDelete=3\nOnUpdate=3\n" Comments="" FKRefDefIndex_Obj_id="1853" Splitted="0" IsLinkedObject="0" IDLinkedModel="-1" Obj_id_Linked="-1" OrderPos="56" />
 <RELATION ID="1855" RelationName="Rel_26" Kind="2" SrcTable="1553" DestTable="1558" FKFields="ItemTypeID=ItemTypeID\n" FKFieldsComments="\n" relDirection="3" MidOffset="13" OptionalStart="0" OptionalEnd="0" CaptionOffsetX="0" CaptionOffsetY="0" StartIntervalOffsetX="0" StartIntervalOffsetY="0" EndIntervalOffsetX="0" EndIntervalOffsetY="0" CreateRefDef="1" Invisible="0" RefDef="Matching=0\nOnDelete=3\nOnUpdate=3\n" Comments="" FKRefDefIndex_Obj_id="1857" Splitted="0" IsLinkedObject="0" IDLinkedModel="-1" Obj_id_Linked="-1" OrderPos="57" />
 </RELATIONS>
 <NOTES>



From nobody at sheep.berlios.de  Tue Apr 12 12:17:08 2005
From: nobody at sheep.berlios.de (bruf)
Date: Tue, 12 Apr 2005 12:17:08 +0200
Subject: [phpmediadb-cvs] phpmediadb-cvs/_source/tier.configuration/i18n i18n.de.php,1.5,1.6
Message-ID: <200504121017.j3CAH8m06525@bat.berlios.de>

Update of /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.configuration/i18n
In directory sheep:/tmp/cvs-serv3582/_source/tier.configuration/i18n

Modified Files:
	i18n.de.php 
Log Message:
* Added some translations

Index: i18n.de.php
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.configuration/i18n/i18n.de.php,v
retrieving revision 1.5
retrieving revision 1.6
diff -u -d -r1.5 -r1.6
--- i18n.de.php	6 Apr 2005 13:52:34 -0000	1.5
+++ i18n.de.php	12 Apr 2005 10:17:06 -0000	1.6
@@ -19,7 +19,6 @@
 	$i18n['OK'] = 'Akzeptieren';
 	$i18n['CANCEL'] = 'Abbrechen';
 	$i18n['DELETE'] = 'L?schen';
-	$i18n['DELETE'] = 'L?schen';
 	$i18n['INPUT_FIELD'] = 'Eingabefeld';
 	
 /* messages */
@@ -60,6 +59,41 @@
 
 /* Site: HOME */
 	$i18n['HOME_WELCOME'] = 'Willkommen zu phpMediaDB';
+	
+/*----------------------------------------------------------*/	
+	$i18n['ACTION_DELETE'] = 'L?schen';
+	$i18n['ACTION_MODIFY'] = '?ndern';
+	$i18n['ERROR_TITLE'] = 'Fehlertitel';
+	$i18n['ITEM_AUDIO'] = 'Audio';
+	$i18n['ITEM_PRINT'] = 'Print';
+	$i18n['ITEM_VIDEO'] = 'Video';
+	$i18n['LIST_COLUMN_TITLE_MEDIATITLE'] = '';
+	$i18n['LIST_COLUMN_TITLE_RELEASEDATE'] = '';
+	$i18n['MEDIA_AGERESTRICTION'] = 'Altersbeschr?nkung';
+	$i18n['MEDIA_CATEGORY'] = 'Kategorie';
+	$i18n['MEDIA_CODEC'] = 'Codec';
+	$i18n['MEDIA_COMMENT'] = 'Kommentar';
+	$i18n['MEDIA_CREATIONDATE'] = 'Erstellt am';
+	$i18n['MEDIA_DATA_AUDIO'] = 'Audiodaten';
+	$i18n['MEDIA_DATA_PRINT'] = 'Printdaten';
+	$i18n['MEDIA_DATA_VIDEO'] = 'Videodaten';
+	$i18n['MEDIA_FORMAT'] = 'Format';
+	$i18n['MEDIA_IDENTIFICATION'] = 'Identifiactionsnummer';
+	$i18n['MEDIA_IMAGE'] = 'Bild';
+	$i18n['MEDIA_MEDIANAME'] = 'Medienname';
+	$i18n['MEDIA_MEDIASIZE'] = 'Mediengr??e';
+	$i18n['MEDIA_MODIFICATIONDATE'] = 'Ge?ndert am';
+	$i18n['MEDIA_ORIGINALTITLE'] = 'Original Titel';
+	$i18n['MEDIA_PUBLISHER'] = 'Ver?ffentlicher';
+	$i18n['MEDIA_QUANTITY'] = 'Anzahl';
+	$i18n['MEDIA_RELEASEYEAR'] = 'Erscheinungsjahr';
+	$i18n['MEDIA_TITLE'] = 'Titel';
+	$i18n['MENU_ADDITEM'] = 'Item hinzuf?gen';
+	$i18n['MENU_ADMINISTRATION_TITLE'] = 'Administrationsmodus';
+	$i18n['MESSAGE'] = 'Nachricht';
+	$i18n['NOT_SET'] = 'Nicht gesetzt';
+	//$i18n['SMARTY_END'] = '';
+	//$i18n['SMARTY_START'] = '';
 	
 
 /******************************************************************************



From nobody at sheep.berlios.de  Tue Apr 12 12:17:20 2005
From: nobody at sheep.berlios.de (bruf)
Date: Tue, 12 Apr 2005 12:17:20 +0200
Subject: [phpmediadb-cvs] phpmediadb-cvs/_source/tier.configuration/i18n i18n.en.php,1.3,1.4
Message-ID: <200504121017.j3CAHKm06533@bat.berlios.de>

Update of /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.configuration/i18n
In directory sheep:/tmp/cvs-serv3608/_source/tier.configuration/i18n

Modified Files:
	i18n.en.php 
Log Message:
* Added some translations

Index: i18n.en.php
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.configuration/i18n/i18n.en.php,v
retrieving revision 1.3
retrieving revision 1.4
diff -u -d -r1.3 -r1.4
--- i18n.en.php	6 Apr 2005 13:52:51 -0000	1.3
+++ i18n.en.php	12 Apr 2005 10:17:17 -0000	1.4
@@ -61,6 +61,41 @@
 /* Site: HOME */
 	$i18n['HOME_WELCOME'] = 'Welcome to phpMediaDB';
 	
+/*----------------------------------------------------------*/	
+	$i18n['ACTION_DELETE'] = 'Delete';
+	$i18n['ACTION_MODIFY'] = 'Modify';
+	$i18n['ERROR_TITLE'] = 'Errortitle';
+	$i18n['ITEM_AUDIO'] = 'Audio';
+	$i18n['ITEM_PRINT'] = 'Print';
+	$i18n['ITEM_VIDEO'] = 'Video';
+	$i18n['LIST_COLUMN_TITLE_MEDIATITLE'] = '';
+	$i18n['LIST_COLUMN_TITLE_RELEASEDATE'] = '';
+	$i18n['MEDIA_AGERESTRICTION'] = 'Age Restriction';
+	$i18n['MEDIA_CATEGORY'] = 'Category';
+	$i18n['MEDIA_CODEC'] = 'Codec';
+	$i18n['MEDIA_COMMENT'] = 'Comment';
+	$i18n['MEDIA_CREATIONDATE'] = 'Creation Date';
+	$i18n['MEDIA_DATA_AUDIO'] = 'Audiodata';
+	$i18n['MEDIA_DATA_PRINT'] = 'Printdata';
+	$i18n['MEDIA_DATA_VIDEO'] = 'Videodata';
+	$i18n['MEDIA_FORMAT'] = 'Format';
+	$i18n['MEDIA_IDENTIFICATION'] = 'Identifiactionnumber';
+	$i18n['MEDIA_IMAGE'] = 'Bild';
+	$i18n['MEDIA_MEDIANAME'] = 'Medianame';
+	$i18n['MEDIA_MEDIASIZE'] = 'Mediasize';
+	$i18n['MEDIA_MODIFICATIONDATE'] = 'Modification Date';
+	$i18n['MEDIA_ORIGINALTITLE'] = 'Original Title';
+	$i18n['MEDIA_PUBLISHER'] = 'Publisher';
+	$i18n['MEDIA_QUANTITY'] = 'Quantity';
+	$i18n['MEDIA_RELEASEYEAR'] = 'Release Year';
+	$i18n['MEDIA_TITLE'] = 'Title';
+	$i18n['MENU_ADDITEM'] = 'Add Item';
+	$i18n['MENU_ADMINISTRATION_TITLE'] = 'Administration Mode';
+	$i18n['MESSAGE'] = 'Message';
+	$i18n['NOT_SET'] = 'Not set';
+	//$i18n['SMARTY_END'] = '';
+	//$i18n['SMARTY_START'] = '';
+	
 
 /******************************************************************************
 *** SQL-Translations



From nobody at sheep.berlios.de  Tue Apr 12 12:17:59 2005
From: nobody at sheep.berlios.de (bruf)
Date: Tue, 12 Apr 2005 12:17:59 +0200
Subject: [phpmediadb-cvs] phpmediadb-cvs/_source/tier.data class.phpmediadb_data_audios.php,1.11,1.12
Message-ID: <200504121017.j3CAHxm06552@bat.berlios.de>

Update of /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.data
In directory sheep:/tmp/cvs-serv3657/_source/tier.data

Modified Files:
	class.phpmediadb_data_audios.php 
Log Message:
* Added ItemPublisher to the methodes create and modify

Index: class.phpmediadb_data_audios.php
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.data/class.phpmediadb_data_audios.php,v
retrieving revision 1.11
retrieving revision 1.12
diff -u -d -r1.11 -r1.12
--- class.phpmediadb_data_audios.php	10 Apr 2005 01:31:05 -0000	1.11
+++ class.phpmediadb_data_audios.php	12 Apr 2005 10:17:57 -0000	1.12
@@ -142,8 +142,9 @@
 			$this->DATA->SQL->openTransaction( $conn );
 			$stmt = $conn->prepareStatement(	'INSERT INTO Items
 												( ItemTitle, ItemOriginalTitle, ItemReleaseDate, ItemMediaName, ItemCreationDate,
-												ItemModificationDate, ItemComment, ItemQuantity, ItemIdentifier, ItemTypeID )
-												VALUES( ?, ?, ?, ?, now(), now(), ?, ?, ?, ? )' );
+												ItemModificationDate, ItemComment, ItemQuantity, ItemIdentifier, ItemTypeID,
+												ItemPublisher )
+												VALUES( ?, ?, ?, ?, now(), now(), ?, ?, ?, ?, ? )' );
 			$stmt->setString( 1, $data['ItemTitle'] );
 			$stmt->setString( 2, $data['ItemOriginalTitle'] );
 			$stmt->setString( 3, $data['ItemReleaseDate'] );
@@ -152,6 +153,7 @@
 			$stmt->setString( 6, $data['ItemQuantity'] );
 			$stmt->setString( 7, $data['ItemIdentifier'] );
 			$stmt->setString( 8, PHPMEDIADB_ITEM_AUDIO );
+			$stmt->setString( 9, $data['ItemPublisher'] );
 			$stmt->executeUpdate();
 		
 			$id = $this->DATA->SQL->getLastInsert( $conn );
@@ -207,7 +209,8 @@
 												Items.MediaFormatID = ?,
 												Items.MediaAgeRestrictionID = ?,
 												Items.MediaStatusID = ?,
-												Items.ItemPicturesID = ?
+												Items.ItemPicturesID = ?;
+												Items.ItemPublisher = ?
 												WHERE Items.ItemID = ?
 												AND AudioDatas.ItemID = Items.ItemID
 												AND Items.ItemTypeID = ItemTypes.ItemTypeID
@@ -226,7 +229,8 @@
 			$stmt->setString( 10, $data['MediaFormatID'] );
 			$stmt->setString( 11, $data['MediaAgeRestrictionID'] );
 			$stmt->setString( 12, $data['ItemPicturesID'] );
-			$stmt->setString( 13, $id );
+			$stmt->setString( 13, $data['ItemPublisher'] );
+			$stmt->setString( 14, $id );
 			$stmt->executeUpdate();
 			$this->DATA->SQL->commitTransaction( $conn );
 		}



From nobody at sheep.berlios.de  Tue Apr 12 12:18:43 2005
From: nobody at sheep.berlios.de (bruf)
Date: Tue, 12 Apr 2005 12:18:43 +0200
Subject: [phpmediadb-cvs] phpmediadb-cvs/_source/tier.data class.phpmediadb_data_prints.php,1.12,1.13
Message-ID: <200504121018.j3CAIhm06594@bat.berlios.de>

Update of /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.data
In directory sheep:/tmp/cvs-serv3695/_source/tier.data

Modified Files:
	class.phpmediadb_data_prints.php 
Log Message:
* Added ItemPublisher to the methodes create and modify
* Used LEFT JOIN for the SELECT SQL statements

Index: class.phpmediadb_data_prints.php
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.data/class.phpmediadb_data_prints.php,v
retrieving revision 1.12
retrieving revision 1.13
diff -u -d -r1.12 -r1.13
--- class.phpmediadb_data_prints.php	9 Apr 2005 23:56:01 -0000	1.12
+++ class.phpmediadb_data_prints.php	12 Apr 2005 10:18:41 -0000	1.13
@@ -73,21 +73,14 @@
 		try
 		{
 			$conn = $this->DATA->SQL->getConnection();
-			$stmt = $conn->prepareStatement(	'SELECT a.*, b.*, c.*, d.*, e.*, f.*, g.ItemPicturesID
-												FROM PrintDatas a,
-												Items b,
-												ItemTypes c,
-												MediaCodecs d,
-												MediaFormats e,
-												MediaAgeRestrictions f,
-												BinaryDatas g
-												WHERE b.ItemID = ? 
-												AND a.ItemID = b.ItemID
-												AND b.ItemTypeID = c.ItemTypeID
-												AND b.MediaCodecID = d.MediaCodecID
-												AND b.MediaFormatID = e.MediaFormatID
-												AND b.MediaAgeRestrictionID = f.MediaAgeRestrictionID
-												AND b.ItemPicturesID = g.ItemPicturesID' );
+			$stmt = $conn->prepareStatement(	'SELECT Items.*, ItemTypes.*, MediaCodecs.*, MediaFormats.*, MediaAgeRestrictions.* ,BinaryDatas.ItemPicturesID
+													FROM Items
+													LEFT JOIN ItemTypes ON ItemTypes.ItemTypeID=Items.ItemTypeID
+													LEFT JOIN MediaCodecs ON MediaCodecs.MediaCodecID=Items.MediaCodecID
+													LEFT JOIN MediaFormats ON MediaFormats.MediaFormatID=Items.MediaFormatID
+													LEFT JOIN MediaAgeRestrictions ON MediaAgeRestrictions.MediaAgeRestrictionID=Items.MediaAgeRestrictionID
+													LEFT JOIN BinaryDatas ON  BinaryDatas.ItemPicturesID=Items.ItemPicturesID
+													WHERE Items.ItemID = ?' );
 			$stmt->setString( 1, $id );
 			$rs = $stmt->executeQuery();
 			
@@ -113,14 +106,13 @@
 		try
 		{
 			$conn = $this->DATA->SQL->getConnection();
-			$stmt = $conn->prepareStatement(	'SELECT a.*, b.*, c.*, d.*, e.*, f.*, g.ItemPicturesID
-												FROM PrintDatas a,
-												Items b,
-												ItemTypes c,
-												MediaCodecs d,
-												MediaFormats e,
-												MediaAgeRestrictions f,
-												BinaryDatas g' );
+			$stmt = $conn->prepareStatement(	'SELECT Items.*, ItemTypes.*, MediaCodecs.*, MediaFormats.*, MediaAgeRestrictions.* ,BinaryDatas.ItemPicturesID
+													FROM Items
+													LEFT JOIN ItemTypes ON ItemTypes.ItemTypeID=Items.ItemTypeID
+													LEFT JOIN MediaCodecs ON MediaCodecs.MediaCodecID=Items.MediaCodecID
+													LEFT JOIN MediaFormats ON MediaFormats.MediaFormatID=Items.MediaFormatID
+													LEFT JOIN MediaAgeRestrictions ON MediaAgeRestrictions.MediaAgeRestrictionID=Items.MediaAgeRestrictionID
+													LEFT JOIN BinaryDatas ON  BinaryDatas.ItemPicturesID=Items.ItemPicturesID' );
 			$rs = $stmt->executeQuery();
 			
 			return $this->DATA->SQL->generateDataArray( $rs );
@@ -149,8 +141,9 @@
 			$this->DATA->SQL->openTransaction( $conn );
 			$stmt = $conn->prepareStatement(	'INSERT INTO Items
 												( ItemTitle, ItemOriginalTitle, ItemReleaseDate, ItemMediaName, ItemCreationDate,
-												ItemModificationDate, ItemComment, ItemQuantity, ItemIdentifier, ItemTypeID )
-												VALUES( ?, ?, ?, ?, now(), now(), ?, ?, ?, ? )' );
+												ItemModificationDate, ItemComment, ItemQuantity, ItemIdentifier, ItemTypeID,
+												ItemPublisher )
+												VALUES( ?, ?, ?, ?, now(), now(), ?, ?, ?, ?, ? )' );
 			$stmt->setString( 1, $data['ItemTitle'] );
 			$stmt->setString( 2, $data['ItemOriginalTitle'] );
 			$stmt->setString( 3, $data['ItemReleaseDate'] );
@@ -159,6 +152,7 @@
 			$stmt->setString( 6, $data['ItemQuantity'] );
 			$stmt->setString( 7, $data['ItemIdentifier'] );
 			$stmt->setString( 8, PHPMEDIAD_ITEM_PRINT );
+			$stmt->setString( 9, $data['ItemPublisher'] );
 			$stmt->executeUpdate();
 			
 			$id = $this->DATA->SQL->getLastInsert( $conn );
@@ -214,7 +208,8 @@
 												Items.MediaFormatID = ?,
 												Items.MediaAgeRestrictionID = ?,
 												Items.MediaStatusID = ?,
-												Items.ItemPicturesID = ?
+												Items.ItemPicturesID = ?,
+												Items.ItemPublisher = ?
 												WHERE Items.ItemID = ?
 												AND PrintDatas.ItemID = Items.ItemID
 												AND Items.ItemTypeID = ItemTypes.ItemTypeID
@@ -234,7 +229,8 @@
 			$stmt->setString( 10, $data['MediaFormatID'] );
 			$stmt->setString( 11, $data['MediaAgeRestrictionID'] );
 			$stmt->setString( 12, $data['ItemPicturesID'] );
-			$stmt->setString( 13, $id );
+			$stmt->setString( 13, $data['ItemPublisher'] );
+			$stmt->setString( 14, $id );
 			$stmt->executeUpdate();
 			$this->DATA->SQL->commitTransaction( $conn );
 		}



From nobody at sheep.berlios.de  Tue Apr 12 12:18:54 2005
From: nobody at sheep.berlios.de (bruf)
Date: Tue, 12 Apr 2005 12:18:54 +0200
Subject: [phpmediadb-cvs] phpmediadb-cvs/_source/tier.data class.phpmediadb_data_videos.php,1.12,1.13
Message-ID: <200504121018.j3CAIsm06602@bat.berlios.de>

Update of /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.data
In directory sheep:/tmp/cvs-serv3720/_source/tier.data

Modified Files:
	class.phpmediadb_data_videos.php 
Log Message:
* Added ItemPublisher to the methodes create and modify
* Used LEFT JOIN for the SELECT SQL statements

Index: class.phpmediadb_data_videos.php
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.data/class.phpmediadb_data_videos.php,v
retrieving revision 1.12
retrieving revision 1.13
diff -u -d -r1.12 -r1.13
--- class.phpmediadb_data_videos.php	9 Apr 2005 23:56:01 -0000	1.12
+++ class.phpmediadb_data_videos.php	12 Apr 2005 10:18:52 -0000	1.13
@@ -73,21 +73,14 @@
 		try
 		{
 			$conn = $this->DATA->SQL->getConnection();
-			$stmt = $conn->prepareStatement(	'SELECT a.*, b.*, c.*, d.*, e.*, f.*, g.ItemPicturesID
-												FROM VideoDatas a,
-												Items b,
-												ItemTypes c,
-												MediaCodecs d,
-												MediaFormats e,
-												MediaAgeRestrictions f,
-												BinaryDatas g
-												WHERE b.ItemID = ?
-												AND a.ItemID = b.ItemID
-												AND b.ItemTypeID = c.ItemTypeID
-												AND b.MediaCodecID = d.MediaCodecID
-												AND b.MediaFormatID = e.MediaFormatID
-												AND b.MediaAgeRestrictionID = f.MediaAgeRestrictionID
-												AND b.ItemPicturesID = g.ItemPicturesID' );
+			$stmt = $conn->prepareStatement(	'SELECT Items.*, ItemTypes.*, MediaCodecs.*, MediaFormats.*, MediaAgeRestrictions.* ,BinaryDatas.ItemPicturesID
+													FROM Items
+													LEFT JOIN ItemTypes ON ItemTypes.ItemTypeID=Items.ItemTypeID
+													LEFT JOIN MediaCodecs ON MediaCodecs.MediaCodecID=Items.MediaCodecID
+													LEFT JOIN MediaFormats ON MediaFormats.MediaFormatID=Items.MediaFormatID
+													LEFT JOIN MediaAgeRestrictions ON MediaAgeRestrictions.MediaAgeRestrictionID=Items.MediaAgeRestrictionID
+													LEFT JOIN BinaryDatas ON  BinaryDatas.ItemPicturesID=Items.ItemPicturesID
+													WHERE Items.ItemID = ?' );
 			$stmt->setString( 1, $id );
 			$rs = $stmt->executeQuery();
 			
@@ -113,14 +106,13 @@
 		try
 		{
 			$conn = $this->DATA->SQL->getConnection();
-			$stmt = $conn->prepareStatement(	'SELECT a.*, b.*, c.*, d.*, e.*, f.*, g.ItemPicturesID
-												FROM VideoDatas a,
-												Items b,
-												ItemTypes c,
-												MediaCodecs d,
-												MediaFormats e,
-												MediaAgeRestrictions f,
-												BinaryDatas g' );
+			$stmt = $conn->prepareStatement(	'SELECT Items.*, ItemTypes.*, MediaCodecs.*, MediaFormats.*, MediaAgeRestrictions.* ,BinaryDatas.ItemPicturesID
+													FROM Items
+													LEFT JOIN ItemTypes ON ItemTypes.ItemTypeID=Items.ItemTypeID
+													LEFT JOIN MediaCodecs ON MediaCodecs.MediaCodecID=Items.MediaCodecID
+													LEFT JOIN MediaFormats ON MediaFormats.MediaFormatID=Items.MediaFormatID
+													LEFT JOIN MediaAgeRestrictions ON MediaAgeRestrictions.MediaAgeRestrictionID=Items.MediaAgeRestrictionID
+													LEFT JOIN BinaryDatas ON  BinaryDatas.ItemPicturesID=Items.ItemPicturesID' );
 			$rs = $stmt->executeQuery();
 			
 			return $this->DATA->SQL->generateDataArray( $rs );
@@ -149,8 +141,9 @@
 			$this->DATA->SQL->openTransaction( $conn );
 			$stmt = $conn->prepareStatement(	'INSERT INTO Items
 												( ItemTitle, ItemOriginalTitle, ItemReleaseDate, ItemMediaName, ItemCreationDate,
-												ItemModificationDate, ItemComment, ItemQuantity, ItemIdentifier, ItemTypeID )
-												VALUES( ?, ?, ?, ?, now(), now(), ?, ?, ?, ? )' );
+												ItemModificationDate, ItemComment, ItemQuantity, ItemIdentifier, ItemTypeID,
+												ItemPublisher )
+												VALUES( ?, ?, ?, ?, now(), now(), ?, ?, ?, ?, ? )' );
 			$stmt->setString( 1, $data['ItemTitle'] );
 			$stmt->setString( 2, $data['ItemOriginalTitle'] );
 			$stmt->setString( 3, $data['ItemReleaseDate'] );
@@ -159,6 +152,7 @@
 			$stmt->setString( 6, $data['ItemQuantity'] );
 			$stmt->setString( 7, $data['ItemIdentifier'] );
 			$stmt->setString( 8, PHPMEDIADB_ITEM_VIDEO );
+			$stmt->setString( 9, $data['ItemPublisher'] );
 			$stmt->executeUpdate();
 			
 			$id = $this->DATA->SQL->getLastInsert( $conn );
@@ -214,7 +208,8 @@
 												Items.MediaFormatID = ?,
 												Items.MediaAgeRestrictionID = ?,
 												Items.MediaStatusID = ?,
-												Items.ItemPicturesID = ?
+												Items.ItemPicturesID = ?,
+												Items.ItemPublisher = ?
 												WHERE Items.ItemID = ?
 												AND VideoDatas.ItemID = Items.ItemID
 												AND Items.ItemTypeID = ItemTypes.ItemTypeID
@@ -234,7 +229,8 @@
 			$stmt->setString( 10, $data['MediaFormatID'] );
 			$stmt->setString( 11, $data['MediaAgeRestrictionID'] );
 			$stmt->setString( 12, $data['ItemPicturesID'] );
-			$stmt->setString( 13, $id );
+			$stmt->setString( 13, $data['ItemPublisher'] );
+			$stmt->setString( 14, $id );
 			$stmt->executeUpdate();
 			$this->DATA->SQL->commitTransaction( $conn );
 		}



From nobody at sheep.berlios.de  Tue Apr 12 13:33:05 2005
From: nobody at sheep.berlios.de (bruf)
Date: Tue, 12 Apr 2005 13:33:05 +0200
Subject: [phpmediadb-cvs] phpmediadb-cvs/_source/tier.data class.phpmediadb_data_items.php,NONE,1.1
Message-ID: <200504121133.j3CBX5m10049@bat.berlios.de>

Update of /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.data
In directory sheep:/tmp/cvs-serv29050/_source/tier.data

Added Files:
	class.phpmediadb_data_items.php 
Log Message:
* Initial revision
* Added method getItemType

--- NEW FILE: class.phpmediadb_data_items.php ---
<?php
// phpMediaDB :: Licensed under GNU-GPL :: http://phpmediadb.berlios.de/
/* $Id: class.phpmediadb_data_items.php,v 1.1 2005/04/12 11:33:02 bruf Exp $ */

/**
 * This is the class that manages all database activities for the items
 *
 * @author		Boris Ruf <bruf at users.berlios.de>
 * @version		$Revision: 1.1 $
 * @package		phpmediadb
 * @subpackage	data
 */
class phpmediadb_data_items
{
	// --- ATTRIBUTES ---

	/**
	 * Reference to class phpmediadb
	 *
	 * @access protected
	 * @see phpmediadb
	 * @var phpmediadb
	 */
	protected $PHPMEDIADB = null;

	/**
	 * Reference to class phpmediadb_data
	 *
	 * @access protected
	 * @see phpmediadb_data
	 * @var phpmediadb_data
	 */
	protected $DATA = null;

	// --- OPERATIONS ---
	
//-----------------------------------------------------------------------------
	/**
	 * The constructor __construct initalizes the Class.
	 *
	 * @access public
	 * @param phpmediadb_data $sender Reference to parent class
	 */
	public function __construct( $sender )
	{
		/* assign parent */
		$this->DATA			= $sender;
		$this->PHPMEDIADB	= $sender->PHPMEDIADB;
	}
  
//-----------------------------------------------------------------------------
	/**
	 * The destructor __destruct is responsible for closing all open files,
	 * etc.
	 *
	 * @access public
	 */
	public function __destruct()
	{
		/* nothing to do yet */
	}
	
//-----------------------------------------------------------------------------
	/**
	 * This function returns the ItemType from a specified ItemID
	 *
	 * @access public
	 * @param Integer $id contains specified id for the sql statement
	 * @return array returns the results of database query
	 */
	public function getItemType( $id )
	{
		try
		{
			$conn = $this->DATA->SQL->getConnection();
			$stmt = $conn->prepareStatement(	'SELECT Items.ItemTypeID
												FROM Items
												WHERE Items.ItemID = ?' );
			$stmt->setString( 1, $id );
			$rs = $stmt->executeQuery();
			
			return $this->DATA->SQL->generateDataArray( $rs );
		}
		catch( Exception $exception )
		{
			/* handle exception and terminate script */
			phpmediadb_exception::handleException( $exception );
		}
	}

//-----------------------------------------------------------------------------
} /* end of class phpmediadb_data_items */
//--- EOF --- EOF --- EOF --- EOF --- EOF --- EOF --- EOF --- EOF --- EOF ---
?>


From nobody at sheep.berlios.de  Tue Apr 12 19:58:08 2005
From: nobody at sheep.berlios.de (mblaschke)
Date: Tue, 12 Apr 2005 19:58:08 +0200
Subject: [phpmediadb-cvs] phpmediadb-cvs/_source/tier.data class.phpmediadb_data.php,1.9,1.10
Message-ID: <200504121758.j3CHw8m24545@bat.berlios.de>

Update of /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.data
In directory sheep:/tmp/cvs-serv5088/_source/tier.data

Modified Files:
	class.phpmediadb_data.php 
Log Message:
* Added class ITEMS --> phpmediadb_data_items

Index: class.phpmediadb_data.php
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.data/class.phpmediadb_data.php,v
retrieving revision 1.9
retrieving revision 1.10
diff -u -d -r1.9 -r1.10
--- class.phpmediadb_data.php	26 Mar 2005 11:48:27 -0000	1.9
+++ class.phpmediadb_data.php	12 Apr 2005 17:58:05 -0000	1.10
@@ -71,6 +71,15 @@
 	public $FORMATS = null;
 	
 	/**
+	 * Reference to class phpmediadb_data_items
+	 *
+	 * @access public
+	 * @see phpmediadb_data_formats
+	 * @var phpmediadb_data_formats
+	 */
+	public $ITEMS = null;
+	
+	/**
 	 * Reference to class phpmediadb_data_prints
 	 *
 	 * @access public
@@ -139,6 +148,7 @@
 		$this->CATEGORIES		= new phpmediadb_data_categories( $this );
 		$this->CODECS			= new phpmediadb_data_codecs( $this );
 		$this->FORMATS			= new phpmediadb_data_formats( $this );
+		$this->ITEMS			= new phpmediadb_data_items( $this );
 		$this->PRINTS			= new phpmediadb_data_prints( $this );
 		$this->SQL				= new phpmediadb_data_sql( $this );
 		$this->STATUS			= new phpmediadb_data_status( $this );



From nobody at sheep.berlios.de  Tue Apr 12 19:59:19 2005
From: nobody at sheep.berlios.de (mblaschke)
Date: Tue, 12 Apr 2005 19:59:19 +0200
Subject: [phpmediadb-cvs] phpmediadb-cvs/_source/tier.data class.phpmediadb_data_items.php,1.1,1.2
Message-ID: <200504121759.j3CHxJm24580@bat.berlios.de>

Update of /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.data
In directory sheep:/tmp/cvs-serv5231/_source/tier.data

Modified Files:
	class.phpmediadb_data_items.php 
Log Message:
* Added method phpmediadb_data_items::delete
* Added method phpmediadb_data_items::exists
* Changed method phpmediadb_data_items::getItemType, returns now a integer, not an array

Index: class.phpmediadb_data_items.php
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.data/class.phpmediadb_data_items.php,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- class.phpmediadb_data_items.php	12 Apr 2005 11:33:02 -0000	1.1
+++ class.phpmediadb_data_items.php	12 Apr 2005 17:59:17 -0000	1.2
@@ -59,6 +59,78 @@
 	{
 		/* nothing to do yet */
 	}
+//-----------------------------------------------------------------------------
+	/**
+	 * This function deletes a specified record from the table AudioDatas
+	 * and all depending data from the other tables
+	 *
+	 * @access public
+	 * @param Integer $id contains specified id for the sql statement
+	 * @return bool Status of transaction
+	 */
+	public function delete( $id )
+	{
+		/* init */
+		$returnValue = NULL;
+		
+		switch( $this->getItemType( $id ) )
+		{
+		case(PHPMEDIADB_ITEM_AUDIO):
+			/* delegate */
+			$returnValue = $this->DATA->AUDIOS->delete( $id );
+		break;
+	
+		case(PHPMEDIADB_ITEM_VIDEO):
+			/* delegate */
+			$returnValue = $this->DATA->VIDEOS->delete( $id );
+		break;
+	
+		case(PHPMEDIADB_ITEM_PRINT):
+			/* delegate */
+			$returnValue = $this->DATA->PRINTS->delete( $id );
+		break;
+		}
+		
+		/* return value */
+		return $returnValue;
+	}
+	
+//-----------------------------------------------------------------------------
+	/**
+	 * This function returns true when the record exists
+	 * and false when the record doesn't exist
+	 *
+	 * @access public
+	 * @param Integer $itemId contains specified id for the sql statement
+	 * @return Bool returns whether the specified record exists
+	 */
+	public function exists( $itemId )
+	{
+		/* init */
+		$returnValue = false;
+		
+		try
+		{
+			$conn = $this->DATA->SQL->getConnection();
+			$stmt = $conn->prepareStatement(	'SELECT COUNT(*)
+												FROM Items
+												WHERE Items.ItemID = ?' );
+			$stmt->setString( 1, $itemId );
+			$rs = $stmt->executeQuery( ResultSet::FETCHMODE_NUM );
+			$rs->next();
+			
+			/* check if item exists */
+			if( $rs->get(1) >= 1 )
+				$returnValue = true;
+				
+			return $returnValue;
+		}
+		catch( Exception $exception )
+		{
+			/* handle exception and terminate script */
+			phpmediadb_exception::handleException( $exception );
+		}
+	}
 	
 //-----------------------------------------------------------------------------
 	/**
@@ -77,9 +149,16 @@
 												FROM Items
 												WHERE Items.ItemID = ?' );
 			$stmt->setString( 1, $id );
-			$rs = $stmt->executeQuery();
+			$rs = $stmt->executeQuery( ResultSet::FETCHMODE_NUM );
 			
-			return $this->DATA->SQL->generateDataArray( $rs );
+			if( $rs->next() )
+			{
+				return $rs->get(1);
+			}
+			else
+			{
+				return NULL;	
+			}
 		}
 		catch( Exception $exception )
 		{



From nobody at sheep.berlios.de  Tue Apr 12 19:59:56 2005
From: nobody at sheep.berlios.de (mblaschke)
Date: Tue, 12 Apr 2005 19:59:56 +0200
Subject: [phpmediadb-cvs] phpmediadb-cvs/_source/tier.data class.phpmediadb_data_items.php,1.2,1.3
Message-ID: <200504121759.j3CHxum24587@bat.berlios.de>

Update of /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.data
In directory sheep:/tmp/cvs-serv5246/_source/tier.data

Modified Files:
	class.phpmediadb_data_items.php 
Log Message:
* Fixed typo in comment of phpmediadb_data_items::getItemType

Index: class.phpmediadb_data_items.php
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.data/class.phpmediadb_data_items.php,v
retrieving revision 1.2
retrieving revision 1.3
diff -u -d -r1.2 -r1.3
--- class.phpmediadb_data_items.php	12 Apr 2005 17:59:17 -0000	1.2
+++ class.phpmediadb_data_items.php	12 Apr 2005 17:59:54 -0000	1.3
@@ -138,7 +138,7 @@
 	 *
 	 * @access public
 	 * @param Integer $id contains specified id for the sql statement
-	 * @return array returns the results of database query
+	 * @return integer returns the results of database query
 	 */
 	public function getItemType( $id )
 	{



From nobody at sheep.berlios.de  Tue Apr 12 20:00:37 2005
From: nobody at sheep.berlios.de (mblaschke)
Date: Tue, 12 Apr 2005 20:00:37 +0200
Subject: [phpmediadb-cvs] phpmediadb-cvs/_source/tier.data class.phpmediadb_data_audios.php,1.12,1.13
Message-ID: <200504121800.j3CI0bm24628@bat.berlios.de>

Update of /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.data
In directory sheep:/tmp/cvs-serv5357/_source/tier.data

Modified Files:
	class.phpmediadb_data_audios.php 
Log Message:
* Changed method phpmediadb_data_audios::exists, now delegates to phpmediadb_data_items::exists

Index: class.phpmediadb_data_audios.php
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.data/class.phpmediadb_data_audios.php,v
retrieving revision 1.12
retrieving revision 1.13
diff -u -d -r1.12 -r1.13
--- class.phpmediadb_data_audios.php	12 Apr 2005 10:17:57 -0000	1.12
+++ class.phpmediadb_data_audios.php	12 Apr 2005 18:00:35 -0000	1.13
@@ -289,35 +289,19 @@
 	 * and false when the record doesn't exist
 	 *
 	 * @access public
-	 * @param Integer $id contains specified id for the sql statement
+	 * @param Integer $itemId contains specified id for the sql statement
 	 * @return Bool returns whether the specified record exists
 	 */
-	public function exist( $id )
+	public function exists( $itemId )
 	{
 		/* init */
 		$returnValue = false;
 		
-		try
-		{
-			$conn = $this->DATA->SQL->getConnection();
-			$stmt = $conn->prepareStatement(	'SELECT COUNT(*)
-												FROM Items
-												WHERE Items.ItemID = ?' );
-			$stmt->setString( 1, $id );
-			$rs = $stmt->executeQuery( ResultSet::FETCHMODE_NUM );
-			$rs->next();
-			
-			/* check if item exists */
-			if( $rs->get(1) >= 1 )
-				$returnValue = true;
-				
-			return $returnValue;
-		}
-		catch( Exception $exception )
-		{
-			/* handle exception and terminate script */
-			phpmediadb_exception::handleException( $exception );
-		}
+		/* delegate */
+		$returnValue = $this->DATA->ITEMS->exist( $itemId );
+
+		/* return value */
+		return $returnValue;
 	}
 
 //-----------------------------------------------------------------------------



From nobody at sheep.berlios.de  Tue Apr 12 20:48:35 2005
From: nobody at sheep.berlios.de (mblaschke)
Date: Tue, 12 Apr 2005 20:48:35 +0200
Subject: [phpmediadb-cvs] phpmediadb-cvs item-details.php,NONE,1.1
Message-ID: <200504121848.j3CImZm25598@bat.berlios.de>

Update of /cvsroot/phpmediadb/phpmediadb-cvs
In directory sheep:/tmp/cvs-serv9198

Added Files:
	item-details.php 
Log Message:
* Initial revision

--- NEW FILE: item-details.php ---
<?php
// phpMediaDB :: Licensed under GNU-GPL :: http://phpmediadb.berlios.de/
/* $Id: item-details.php,v 1.1 2005/04/12 18:48:33 mblaschke Exp $ */
/**
 * This file displays all details of an item
 * 
 * @author		Markus Blaschke <mblaschke at users.berlios.de>
 * @version		$Revision: 1.1 $
 * @package		phpmediadb_html
 * @subpackage	access_anonymous
 */
 
/* include main phpmediadb-project */
require_once( '_source/phpmediadb.php' );

/* create object */
$PHPMEDIADB	= new phpmediadb(); 

//--- EOF --- EOF --- EOF --- EOF --- EOF --- EOF --- EOF --- EOF --- EOF ---
?>


From nobody at sheep.berlios.de  Tue Apr 12 20:52:51 2005
From: nobody at sheep.berlios.de (mblaschke)
Date: Tue, 12 Apr 2005 20:52:51 +0200
Subject: [phpmediadb-cvs] phpmediadb-cvs/_source phpmediadb.php,1.9,1.10
Message-ID: <200504121852.j3CIqpm25679@bat.berlios.de>

Update of /cvsroot/phpmediadb/phpmediadb-cvs/_source
In directory sheep:/tmp/cvs-serv9479/_source

Modified Files:
	phpmediadb.php 
Log Message:
* Added tier.data/class.phpmediadb_data_items.php

Index: phpmediadb.php
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/_source/phpmediadb.php,v
retrieving revision 1.9
retrieving revision 1.10
diff -u -d -r1.9 -r1.10
--- phpmediadb.php	24 Mar 2005 17:12:26 -0000	1.9
+++ phpmediadb.php	12 Apr 2005 18:52:48 -0000	1.10
@@ -54,6 +54,7 @@
 	require_once( 'tier.data/class.phpmediadb_data_categories.php' );
 	require_once( 'tier.data/class.phpmediadb_data_codecs.php' );
 	require_once( 'tier.data/class.phpmediadb_data_formats.php' );
+	require_once( 'tier.data/class.phpmediadb_data_items.php' );
 	require_once( 'tier.data/class.phpmediadb_data_prints.php' );
 	require_once( 'tier.data/class.phpmediadb_data_sql.php' );
 	require_once( 'tier.data/class.phpmediadb_data_status.php' );



From nobody at sheep.berlios.de  Tue Apr 12 20:53:14 2005
From: nobody at sheep.berlios.de (mblaschke)
Date: Tue, 12 Apr 2005 20:53:14 +0200
Subject: [phpmediadb-cvs] phpmediadb-cvs/_source/tier.global class.phpmediadb_exception.php,1.4,1.5
Message-ID: <200504121853.j3CIrEm25712@bat.berlios.de>

Update of /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.global
In directory sheep:/tmp/cvs-serv9493/_source/tier.global

Modified Files:
	class.phpmediadb_exception.php 
Log Message:
* Added @static in comments

Index: class.phpmediadb_exception.php
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.global/class.phpmediadb_exception.php,v
retrieving revision 1.4
retrieving revision 1.5
diff -u -d -r1.4 -r1.5
--- class.phpmediadb_exception.php	9 Apr 2005 15:44:09 -0000	1.4
+++ class.phpmediadb_exception.php	12 Apr 2005 18:53:12 -0000	1.5
@@ -32,6 +32,7 @@
 	 * Handles a normal/general exception and terminate the script
 	 *
 	 * @access public
+	 * @static
 	 * @param exception $generalException Instanz of an exception
 	 */
 	public function handleException( $generalException )
@@ -47,6 +48,7 @@
 	 * Sends an errormessage (html) to the user
 	 *
 	 * @access public
+	 * @static
 	 * @param exception $exception Instanz of an exception
 	 */
 	public function showError( $exception )



From nobody at sheep.berlios.de  Tue Apr 12 20:54:31 2005
From: nobody at sheep.berlios.de (mblaschke)
Date: Tue, 12 Apr 2005 20:54:31 +0200
Subject: [phpmediadb-cvs] phpmediadb-cvs/_source/tier.configuration/templates body.item.audio.formular.tpl,1.5,1.6
Message-ID: <200504121854.j3CIsVm25726@bat.berlios.de>

Update of /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.configuration/templates
In directory sheep:/tmp/cvs-serv9543/_source/tier.configuration/templates

Modified Files:
	body.item.audio.formular.tpl 
Log Message:
* Added Empty-Option

Index: body.item.audio.formular.tpl
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.configuration/templates/body.item.audio.formular.tpl,v
retrieving revision 1.5
retrieving revision 1.6
diff -u -d -r1.5 -r1.6
--- body.item.audio.formular.tpl	6 Apr 2005 13:53:03 -0000	1.5
+++ body.item.audio.formular.tpl	12 Apr 2005 18:54:29 -0000	1.6
@@ -29,7 +29,7 @@
 			{if $INPUTERROR.flag.ItemMediaName eq "1" }<span class="phpmediadb-body-inputerror">{$I18N.ERROR_FLAG|default:"*"}</span>{/if}
 		</td>
 	</tr>
-	
+
 	<tr>
 		<td>{$I18N.MEDIA_IDENTIFICATION|default:"%MEDIA_IDENTIFICATION%"}</td>
 		<td>
@@ -45,7 +45,7 @@
 			{if $INPUTERROR.flag.ItemReleaseDate eq "1" }<span class="phpmediadb-body-inputerror">{$I18N.ERROR_FLAG|default:"*"}</span>{/if}
 		</td>
 	</tr>
-	
+
 	<tr>
 		<td>{$I18N.MEDIA_CATEGORY|default:"%MEDIA_CATEGORY%"}</td>
 		<td>
@@ -66,7 +66,7 @@
 			{if $INPUTERROR.flag.Categories eq "1" }<span class="phpmediadb-body-inputerror">{$I18N.ERROR_FLAG|default:"*"}</span>{/if}
 		</td>
 	</tr>
-	
+
 	<tr>
 		<td>{$I18N.MEDIA_MEDIASIZE|default:"%MEDIA_MEDIASIZE%"}</td>
 		<td>
@@ -74,11 +74,12 @@
 			{if $INPUTERROR.flag.ItemMediaSize eq "1" }<span class="phpmediadb-body-inputerror">{$I18N.ERROR_FLAG|default:"*"}</span>{/if}
 		</td>
 	</tr>
-	
+
 	<tr>
 		<td>{$I18N.MEDIA_FORMAT|default:"%MEDIA_FORMAT%"}</td>
 		<td>
 			<select name="itemdata[MediaFormatID]">
+				<option value="0">{$I18N.OPTION_EMPTY|default:"%OPTION_EMPTY%"}</option>
 {foreach from=$DATA.MEDIAFORMATS item=currentDataItem key=currentDataKey}
 	{if $currentDataItem.mediaformatid eq $ITEMDATA.MediaFormatID }
 				<option selected="true" value="{$currentDataItem.mediaformatid}">{$currentDataItem.mediaformatname}</option>
@@ -111,6 +112,7 @@
 		<td>{$I18N.MEDIA_AGERESTRICTION|default:"%MEDIA_AGERESTRICTION%"}</td>
 		<td>
 			<select name="itemdata[MediaAgeRestrictionID]">
+				<option value="0">{$I18N.OPTION_EMPTY|default:"%OPTION_EMPTY%"}</option>
 {foreach from=$DATA.AGERESTRICTIONS item=currentDataItem}
 	{if $currentDataItem.mediaagerestrictionid eq $ITEMDATA.MediaAgeRestrictionID }
 				<option selected="true" value="{$currentDataItem.mediaagerestrictionid}">{$currentDataItem.mediaagerestriction}</option>
@@ -127,6 +129,7 @@
 		<td>{$I18N.MEDIA_CODEC|default:"%MEDIA_CODEC%"}</td>
 		<td>
 			<select name="itemdata[MediaCodecID]">
+				<option value="0">{$I18N.OPTION_EMPTY|default:"%OPTION_EMPTY%"}</option>
 {foreach from=$DATA.CODECS item=currentDataItem}
 	{if $currentDataItem.mediacodecid eq $ITEMDATA.MediaCodecID }
 				<option selected="true" value="{$currentDataItem.mediacodecid}">{$currentDataItem.mediacodecname}</option>
@@ -146,7 +149,7 @@
 			{if $INPUTERROR.flag.ItemQuantity eq "1" }<span class="phpmediadb-body-inputerror">{$I18N.ERROR_FLAG|default:"*"}</span>{/if}
 		</td>
 	</tr>
-	
+
 	<tr>
 		<td>{$I18N.MEDIA_COMMENT|default:"%MEDIA_COMMENT%"}</td>
 		<td>
@@ -154,16 +157,16 @@
 			{if $INPUTERROR.flag.ItemComment eq "1" }<span class="phpmediadb-body-inputerror">{$I18N.ERROR_FLAG|default:"*"}</span>{/if}
 		</td>
 	</tr>
-	
+
 	<tr>
 		<td></td>
 		<td><input type="reset" value="{$I18N.FORM_RESET|default:"%FORM_RESET%"}" /> <input type="submit" name="buttonsave" value="{$I18N.FORM_SUBMIT|default:"%FORM_SUBMIT%"}"/></td>
 	</tr>
-	
+
 	<tr>
 		<td></td>
 	</tr>
-	
+
 	<tr>
 		<td></td>
 		<td>
@@ -171,7 +174,7 @@
 			{$I18N.MEDIA_CREATIONDATE|default:"%MEDIA_MODIFICATIONDATE%"}: {$ITEMDATA.ItemModificationDate|date_format:"%A, %B %e, %Y %H:%M:%S"|default:$I18N.NOT_SET|default:"%NOT_SET%"}
 		</td>
 	</tr>
-	
+
 {if $INPUTERROR.general eq "1"}
 	<tr>
 		<td colspan="2">



From nobody at sheep.berlios.de  Tue Apr 12 20:54:52 2005
From: nobody at sheep.berlios.de (mblaschke)
Date: Tue, 12 Apr 2005 20:54:52 +0200
Subject: [phpmediadb-cvs] phpmediadb-cvs/_source/tier.configuration/templates body.list.header.tpl,1.2,1.3
Message-ID: <200504121854.j3CIsqm25735@bat.berlios.de>

Update of /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.configuration/templates
In directory sheep:/tmp/cvs-serv9553/_source/tier.configuration/templates

Modified Files:
	body.list.header.tpl 
Log Message:
* Fixed XHTML-validation errors

Index: body.list.header.tpl
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.configuration/templates/body.list.header.tpl,v
retrieving revision 1.2
retrieving revision 1.3
diff -u -d -r1.2 -r1.3
--- body.list.header.tpl	8 Mar 2005 20:47:42 -0000	1.2
+++ body.list.header.tpl	12 Apr 2005 18:54:49 -0000	1.3
@@ -2,17 +2,26 @@
 	<table>
 	<tr>
 		<td class="phpmediadb-body-menu-item">
-			<a href="{$CONFIGURATION.ROOTPATH}list.php?list=audio" onFocus="javascript:if(this.blur)this.blur()">{$I18N.ITEM_AUDIO|default:"%ITEM_AUDIO%"}</a>
+			<a href="{$CONFIGURATION.ROOTPATH}list.php?list=audio" onfocus="javascript:if(this.blur)this.blur()">
+				<img src="{$CONFIGURATION.ROOTPATH}_layout/images/icons/item-audio-small.png" alt="{$I18N.ITEM_AUDIO|default:"%ITEM_AUDIO%"}"/>
+				{$I18N.ITEM_AUDIO|default:"%ITEM_AUDIO%"}
+			</a>
 		</td>
-		
+
 		<td class="phpmediadb-body-menu-item">
-			<a href="{$CONFIGURATION.ROOTPATH}list.php?list=video" onFocus="javascript:if(this.blur)this.blur()">{$I18N.ITEM_VIDEO|default:"%ITEM_VIDEO%"}</a>
+			<a href="{$CONFIGURATION.ROOTPATH}list.php?list=video" onfocus="javascript:if(this.blur)this.blur()">
+				<img src="{$CONFIGURATION.ROOTPATH}_layout/images/icons/item-video-small.png" alt="{$I18N.ITEM_VIDEO|default:"%ITEM_VIDEO%"}"/>
+				{$I18N.ITEM_VIDEO|default:"%ITEM_VIDEO%"}
+			</a>
 		</td>
 
 		<td class="phpmediadb-body-menu-item">
-			<a href="{$CONFIGURATION.ROOTPATH}list.php?list=print" onFocus="javascript:if(this.blur)this.blur()">{$I18N.ITEM_PRINT|default:"%ITEM_PRINT%"}</a>
+			<a href="{$CONFIGURATION.ROOTPATH}list.php?list=print" onfocus="javascript:if(this.blur)this.blur()">
+				<img src="{$CONFIGURATION.ROOTPATH}_layout/images/icons/item-print-small.png" alt="{$I18N.ITEM_PRINT|default:"%ITEM_PRINT%"}"/>
+				{$I18N.ITEM_PRINT|default:"%ITEM_PRINT%"}
+			</a>
 		</td>
-	
+
 	</tr>
 	</table>
-</div> 
\ No newline at end of file
+</div>
\ No newline at end of file



From nobody at sheep.berlios.de  Tue Apr 12 20:55:01 2005
From: nobody at sheep.berlios.de (mblaschke)
Date: Tue, 12 Apr 2005 20:55:01 +0200
Subject: [phpmediadb-cvs] phpmediadb-cvs/_source/tier.configuration/templates overall.menu.tpl,1.2,1.3
Message-ID: <200504121855.j3CIt1m25743@bat.berlios.de>

Update of /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.configuration/templates
In directory sheep:/tmp/cvs-serv9558/_source/tier.configuration/templates

Modified Files:
	overall.menu.tpl 
Log Message:
* Fixed XHTML-validation errors

Index: overall.menu.tpl
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.configuration/templates/overall.menu.tpl,v
retrieving revision 1.2
retrieving revision 1.3
diff -u -d -r1.2 -r1.3
--- overall.menu.tpl	5 Apr 2005 21:36:18 -0000	1.2
+++ overall.menu.tpl	12 Apr 2005 18:54:59 -0000	1.3
@@ -1,28 +1,28 @@
 <table>
 	<tr><th class="phpmediadb-menu-title">{$I18N.MENU_TITLE|default:"%MENU_TITLE%"}</th></tr>
 	<tr><td class="phpmediadb-menu-item" id="phpmediadb-menu-item-home">
-		<a href="{$CONFIGURATION.ROOTPATH}index.php" onFocus="javascript:if(this.blur)this.blur()">
+		<a href="{$CONFIGURATION.ROOTPATH}index.php" onfocus="javascript:if(this.blur)this.blur()">
 			<img src="{$CONFIGURATION.ROOTPATH}_layout/images/icons/nav-home.png" alt="{$I18N.MENU_HOME|default:"%MENU_HOME%"}" />
 			{$I18N.MENU_HOME|default:"%MENU_HOME%"}
 		</a>
 	</td></tr>
 	
 	<tr><td class="phpmediadb-menu-item" id="phpmediadb-menu-item-list">
-		<a href="{$CONFIGURATION.ROOTPATH}list.php" onFocus="javascript:if(this.blur)this.blur()">
+		<a href="{$CONFIGURATION.ROOTPATH}list.php" onfocus="javascript:if(this.blur)this.blur()">
 			<img src="{$CONFIGURATION.ROOTPATH}_layout/images/icons/nav-list.png" alt="{$I18N.MENU_LIST|default:"%MENU_LIST%"}" />
 			{$I18N.MENU_LIST|default:"%MENU_LIST%"}
 		</a>
 	</td></tr>
 	
 	<tr><td class="phpmediadb-menu-item" id="phpmediadb-menu-item-search">
-		<a href="{$CONFIGURATION.ROOTPATH}search.php" onFocus="javascript:if(this.blur)this.blur()">
+		<a href="{$CONFIGURATION.ROOTPATH}search.php" onfocus="javascript:if(this.blur)this.blur()">
 			<img src="{$CONFIGURATION.ROOTPATH}_layout/images/icons/nav-search.png" alt="{$I18N.MENU_SEARCH|default:"%MENU_SEARCH%"}" />
 			{$I18N.MENU_SEARCH|default:"%MENU_SEARCH%"}
 		</a>
 	</td></tr>
 	
 	<tr><td class="phpmediadb-menu-item" id="phpmediadb-menu-item-about">
-		<a href="{$CONFIGURATION.ROOTPATH}about.php" onFocus="javascript:if(this.blur)this.blur()">
+		<a href="{$CONFIGURATION.ROOTPATH}about.php" onfocus="javascript:if(this.blur)this.blur()">
 			<img src="{$CONFIGURATION.ROOTPATH}_layout/images/icons/nav-about.png" alt="{$I18N.MENU_ABOUT|default:"%MENU_ABOUT%"}" />
 			{$I18N.MENU_ABOUT|default:"%MENU_ABOUT%"}
 		</a>
@@ -30,7 +30,7 @@
 	<tr><td>&nbsp;</td></tr>
 	<tr><th class="phpmediadb-menu-title">{$I18N.MENU_ADMINISTRATION_TITLE|default:"%MENU_ADMINISTRATION_TITLE%"}</th></tr>
 	<tr><td class="phpmediadb-menu-item" id="phpmediadb-menu-item-additem">
-		<a href="{$CONFIGURATION.ROOTPATH}admin/item-add.php" onFocus="javascript:if(this.blur)this.blur()">
+		<a href="{$CONFIGURATION.ROOTPATH}admin/item-add.php" onfocus="javascript:if(this.blur)this.blur()">
 			<img src="{$CONFIGURATION.ROOTPATH}_layout/images/icons/nav-additem.png" alt="{$I18N.MENU_ADDITEM|default:"%MENU_ADDITEM%"}" />
 			{$I18N.MENU_ADDITEM|default:"%MENU_ADDITEM%"}
 		</a>



From nobody at sheep.berlios.de  Tue Apr 12 20:56:11 2005
From: nobody at sheep.berlios.de (mblaschke)
Date: Tue, 12 Apr 2005 20:56:11 +0200
Subject: [phpmediadb-cvs] phpmediadb-cvs/_source/tier.configuration/templates body.message.tpl,1.1,1.2
Message-ID: <200504121856.j3CIuBm25773@bat.berlios.de>

Update of /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.configuration/templates
In directory sheep:/tmp/cvs-serv9606/_source/tier.configuration/templates

Modified Files:
	body.message.tpl 
Log Message:
* Added TITLE, BODY and HYPERLINK_BACK

Index: body.message.tpl
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.configuration/templates/body.message.tpl,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- body.message.tpl	5 Apr 2005 21:36:05 -0000	1.1
+++ body.message.tpl	12 Apr 2005 18:56:09 -0000	1.2
@@ -1,3 +1,5 @@
 <div class="phpmediadb-body-message">
-	{$MESSAGE|default:"%MESSAGE%"}
+{if $MESSAGE.TITLE neq ""}<h1>{$MESSAGE.TITLE}</h1>{/if}
+	{$MESSAGE.BODY}
+{if $MESSAGE.HYPERLINK_BACK neq ""}<br /><br /><a href="{$MESSAGE.HYPERLINK_BACK|default:"index.php"}">{$I18N.HYPERLINK_BACK|default:"HYPERLINK_BACK"}</a>{/if}
 </div>



From nobody at sheep.berlios.de  Tue Apr 12 20:56:47 2005
From: nobody at sheep.berlios.de (mblaschke)
Date: Tue, 12 Apr 2005 20:56:47 +0200
Subject: [phpmediadb-cvs] phpmediadb-cvs/_source/tier.configuration/templates body.list.audio.tpl,1.3,1.4
Message-ID: <200504121856.j3CIulm25786@bat.berlios.de>

Update of /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.configuration/templates
In directory sheep:/tmp/cvs-serv9661/_source/tier.configuration/templates

Modified Files:
	body.list.audio.tpl 
Log Message:
* Added link to item-details.php

Index: body.list.audio.tpl
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.configuration/templates/body.list.audio.tpl,v
retrieving revision 1.3
retrieving revision 1.4
diff -u -d -r1.3 -r1.4
--- body.list.audio.tpl	10 Apr 2005 01:33:39 -0000	1.3
+++ body.list.audio.tpl	12 Apr 2005 18:56:45 -0000	1.4
@@ -7,7 +7,7 @@
 		</tr>
 {foreach from=$ITEMDATA item=currentDataItem}
 		<tr>
-			<td>{$currentDataItem.itemtitle}</td>
+			<td><a href="item-detail?itemid={$currentDataItem.itemid}">{$currentDataItem.itemtitle}</a></td>
 			<td>{$currentDataItem.itemreleasedate|default:$I18N.NOT_SET|default:"%NOT_SET%"}</td>
 			<td>
 				<a href="admin/item-mod.php?itemid={$currentDataItem.itemid}"><img src="{$CONFIGURATION.ROOTPATH}_layout/images/icons/action-modify.png" alt="{$I18N.ACTION_MODIFY|default:"%ACTION_MODIFY%"}" /></a>



From nobody at sheep.berlios.de  Tue Apr 12 20:57:06 2005
From: nobody at sheep.berlios.de (mblaschke)
Date: Tue, 12 Apr 2005 20:57:06 +0200
Subject: [phpmediadb-cvs] phpmediadb-cvs/_source/tier.configuration/templates body.item.deletequestion.tpl,NONE,1.1
Message-ID: <200504121857.j3CIv6m25792@bat.berlios.de>

Update of /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.configuration/templates
In directory sheep:/tmp/cvs-serv9672/_source/tier.configuration/templates

Added Files:
	body.item.deletequestion.tpl 
Log Message:
* Initial revision

--- NEW FILE: body.item.deletequestion.tpl ---
<form action="item-del.php" method="post">
<input type="hidden" name="itemid" value="{$ITEMID|default:"NULL"}" />
<input type="hidden" name="redirect" value="{$REDIECT}" />
<div class="phpmediadb-body-itemdelete">
	{$I18N.QUESTION_ITEMDELETE|default:"%QUESTION_ITEMDELETE%"}<br />
	<input type="submit" name="BUTTON_DELETE" value="{$I18N.BUTTON_ITEMDELETE|default:"%BUTTON_ITEMDELETE%"}" />
	<input type="submit" name="BUTTON_ABORT" value="{$I18N.BUTTON_ABORT|default:"%BUTTON_ABORT%"}" />
</div>
</form>


From nobody at sheep.berlios.de  Tue Apr 12 20:57:43 2005
From: nobody at sheep.berlios.de (mblaschke)
Date: Tue, 12 Apr 2005 20:57:43 +0200
Subject: [phpmediadb-cvs] phpmediadb-cvs/admin item-del.php,1.2,1.3
Message-ID: <200504121857.j3CIvhm25796@bat.berlios.de>

Update of /cvsroot/phpmediadb/phpmediadb-cvs/admin
In directory sheep:/tmp/cvs-serv9686/admin

Modified Files:
	item-del.php 
Log Message:
* Added whole functionallity

Index: item-del.php
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/admin/item-del.php,v
retrieving revision 1.2
retrieving revision 1.3
diff -u -d -r1.2 -r1.3
--- item-del.php	24 Mar 2005 17:12:17 -0000	1.2
+++ item-del.php	12 Apr 2005 18:57:40 -0000	1.3
@@ -13,5 +13,120 @@
 /* include main phpmediadb-project */
 require_once( '../_source/phpmediadb.php' );
 
+/* create object */
+$PHPMEDIADB	= new phpmediadb();
+
+//-----------------------------------------------------------------------------
+function itemdel_deleteItem( $itemId )
+{
+	global $PHPMEDIADB;
+	$status = $PHPMEDIADB->DATA->ITEMS->delete( $itemId );
+	
+	if( true === $status )
+	{
+		/* %MESSAGE_DELETION_SUCCESS% */
+		$messageBody = $PHPMEDIADB->PRESENTATION->I18N->translate( 'MESSAGE_DELETION_SUCCESS' );
+	}
+	else
+	{
+		/* %MESSAGE_DELETION_FAILED% */
+		$messageBody = $PHPMEDIADB->PRESENTATION->I18N->translate( 'MESSAGE_DELETION_FAILED' );
+	}
+	
+	/* set message */
+	@$PHPMEDIADB->PRESENTATION->CONTENTVARS->addNode( 'MESSAGE.BODY', $messageBody  );
+	
+	/* set redirect */
+	if( !empty( $_POST['redirect'] ) )
+		@$PHPMEDIADB->PRESENTATION->CONTENTVARS->addNode( 'MESSAGE.HYPERLINK_BACK', $_POST['redirect']  );
+	
+	$PHPMEDIADB->PRESENTATION->HTMLSERVICE->displayMain( 'body.message.tpl' );
+	die();
+}
+//-----------------------------------------------------------------------------
+function itemdel_showQuestion( $itemId )
+{
+	global $PHPMEDIADB;
+	
+	/* save itemid */
+	@$PHPMEDIADB->PRESENTATION->CONTENTVARS->addNode( 'ITEMID', $itemId  );
+	
+	/* save referer */
+	@$PHPMEDIADB->PRESENTATION->CONTENTVARS->addNode( 'REDIECT', $_SERVER['HTTP_REFERER'] );
+	
+	/* show site */
+	$PHPMEDIADB->PRESENTATION->HTMLSERVICE->displayMain( 'body.item.deletequestion.tpl' );
+	
+}
+//-----------------------------------------------------------------------------
+function itemdel_getItemId()
+{
+	/* init */
+	global $PHPMEDIADB;
+	$returnValue = NULL;
+	
+	/* get itemid */
+	switch( $_SERVER['REQUEST_METHOD'] )
+	{
+		case( 'GET' ):
+			$returnValue = $_GET['itemid'];
+		break;	
+	
+		case( 'POST' ):
+			$returnValue = $_POST['itemid'];
+		break;	
+	}
+	
+	/* check if itemid is numerical/valid */
+	if( !is_numeric( $returnValue ) )
+	{
+		/* %MESSAGE_ITEMID_NOTNUMERICAL% */
+		$message = $PHPMEDIADB->PRESENTATION->I18N->translate( 'MESSAGE_ITEMID_NOTNUMERICAL' );
+		@$PHPMEDIADB->PRESENTATION->CONTENTVARS->addNode( 'MESSAGE.BODY', $message  );
+		$PHPMEDIADB->PRESENTATION->HTMLSERVICE->displayMain( 'body.message.tpl' );
+		die();
+	}
+	
+	/* check if item exists */
+	if( !$PHPMEDIADB->DATA->ITEMS->exists( $returnValue ) )
+	{
+		/* %MESSAGE_ITEM_NOTEXISTENT% */
+		$message = $PHPMEDIADB->PRESENTATION->I18N->translate( 'MESSAGE_ITEM_NOTEXISTENT' );
+		@$PHPMEDIADB->PRESENTATION->CONTENTVARS->addNode( 'MESSAGE.BODY', $message  );
+		$PHPMEDIADB->PRESENTATION->HTMLSERVICE->displayMain( 'body.message.tpl' );
+		die();		
+	}
+	 
+	return $returnValue;	
+}
+//-----------------------------------------------------------------------------
+
+switch( $_SERVER['REQUEST_METHOD'] )
+{
+	case( 'GET' ):
+		$itemId = itemdel_getItemId();
+		itemdel_showQuestion( $itemId );
+	break;	
+	
+	case( 'POST' ):
+		$itemId = itemdel_getItemId();
+		if( isset( $_POST['BUTTON_DELETE'] ) )
+		{
+			itemdel_deleteItem( $itemId );
+		}
+		else
+		{
+			if( !empty( $_POST['redirect'] ) )
+				header( 'Location: ' . $_POST['redirect']  );
+			else
+				header( 'Location: ../index.php' );
+		}
+	break;	
+	
+	default:
+		header( 'Location: ../index.php' );
+	break;
+}
+
 //--- EOF --- EOF --- EOF --- EOF --- EOF --- EOF --- EOF --- EOF --- EOF ---
 ?>



From nobody at sheep.berlios.de  Tue Apr 12 20:58:16 2005
From: nobody at sheep.berlios.de (mblaschke)
Date: Tue, 12 Apr 2005 20:58:16 +0200
Subject: [phpmediadb-cvs] phpmediadb-cvs/admin item-session.php,1.10,1.11
Message-ID: <200504121858.j3CIwGm25838@bat.berlios.de>

Update of /cvsroot/phpmediadb/phpmediadb-cvs/admin
In directory sheep:/tmp/cvs-serv9737/admin

Modified Files:
	item-session.php 
Log Message:
* Changed names of global functions

Index: item-session.php
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/admin/item-session.php,v
retrieving revision 1.10
retrieving revision 1.11
diff -u -d -r1.10 -r1.11
--- item-session.php	6 Apr 2005 13:50:12 -0000	1.10
+++ item-session.php	12 Apr 2005 18:58:13 -0000	1.11
@@ -17,7 +17,7 @@
 $PHPMEDIADB	= new phpmediadb();
 
 //-----------------------------------------------------------------------------
-function itemShow( $sessionItem )
+function itemsession_itemShow( $sessionItem )
 {
 	global $PHPMEDIADB;
 	
@@ -70,7 +70,7 @@
 	}
 }
 //-----------------------------------------------------------------------------
-function itemGet()
+function itemsession_itemGet()
 {
 	global $PHPMEDIADB;
 	/* get session data first*/
@@ -86,7 +86,7 @@
 	}
 }
 //-----------------------------------------------------------------------------
-function itemSave( $sessionItem )
+function itemsession_itemSave( $sessionItem )
 {
 	global $PHPMEDIADB;
 	switch( $sessionItem['type'] )
@@ -103,7 +103,8 @@
 			else 
 				$status = $PHPMEDIADB->BUSINESS->AUDIOS->modify( $sessionItem['id'], $sessionItem['data'] );
 				
-			@$PHPMEDIADB->PRESENTATION->CONTENTVARS->addNode( 'MESSAGE', $PHPMEDIADB->PRESENTATION->I18N->translate( 'MESSAGE_SUCCESS_SAVE' ) );
+			/* %MESSAGE_SAVE_SUCCESS% */
+			@$PHPMEDIADB->PRESENTATION->CONTENTVARS->addNode( 'MESSAGE.BODY', $PHPMEDIADB->PRESENTATION->I18N->translate( 'MESSAGE_SAVE_SUCCESS' ) );
 			$PHPMEDIADB->PRESENTATION->HTMLSERVICE->displayMain( 'body.message.tpl' );
 			$PHPMEDIADB->PRESENTATION->SESSION->unregister( 'sessionitem' );
 			die();		
@@ -112,7 +113,7 @@
 		{
 			/* too bad, error occurred */
 			@$PHPMEDIADB->PRESENTATION->CONTENTVARS->addNode( 'INPUTERROR', $errorData );
-			itemShow( $sessionItem );
+			itemsession_itemShow( $sessionItem );
 			die();
 		}
 		break;
@@ -130,7 +131,8 @@
 			else 
 				$status = $PHPMEDIADB->BUSINESS->VIDEOS->modify( $sessionItem['id'], $sessionItem['data'] );
 				
-			@$PHPMEDIADB->PRESENTATION->CONTENTVARS->addNode( 'MESSAGE', $PHPMEDIADB->PRESENTATION->I18N->translate( 'MESSAGE_SUCCESS_SAVE' ) );
+			/* %MESSAGE_SAVE_SUCCESS% */
+			@$PHPMEDIADB->PRESENTATION->CONTENTVARS->addNode( 'MESSAGE.BODY', $PHPMEDIADB->PRESENTATION->I18N->translate( 'MESSAGE_SAVE_SUCCESS' ) );
 			$PHPMEDIADB->PRESENTATION->HTMLSERVICE->displayMain( 'body.message.tpl' );
 			$PHPMEDIADB->PRESENTATION->SESSION->unregister( 'sessionitem' );
 			die();		
@@ -139,7 +141,7 @@
 		{
 			/* too bad, error occurred */
 			@$PHPMEDIADB->PRESENTATION->CONTENTVARS->addNode( 'INPUTERROR', $errorData );
-			itemShow( $sessionItem );
+			itemsession_itemShow( $sessionItem );
 			die();
 		}
 		break;
@@ -156,8 +158,9 @@
 				$status = $PHPMEDIADB->BUSINESS->PRINTS->create( $sessionItem['data'] );
 			else 
 				$status = $PHPMEDIADB->BUSINESS->PRINTS->modify( $sessionItem['id'], $sessionItem['data'] );
-				
-			@$PHPMEDIADB->PRESENTATION->CONTENTVARS->addNode( 'MESSAGE', $PHPMEDIADB->PRESENTATION->I18N->translate( 'MESSAGE_SUCCESS_SAVE' ) );
+			
+			/* %MESSAGE_SAVE_SUCCESS% */
+			@$PHPMEDIADB->PRESENTATION->CONTENTVARS->addNode( 'MESSAGE.BODY', $PHPMEDIADB->PRESENTATION->I18N->translate( 'MESSAGE_SAVE_SUCCESS' ) );
 			$PHPMEDIADB->PRESENTATION->HTMLSERVICE->displayMain( 'body.message.tpl' );
 			$PHPMEDIADB->PRESENTATION->SESSION->unregister( 'sessionitem' );
 			die();		
@@ -166,7 +169,7 @@
 		{
 			/* too bad, error occurred */
 			@$PHPMEDIADB->PRESENTATION->CONTENTVARS->addNode( 'INPUTERROR', $errorData );
-			itemShow( $sessionItem );
+			itemsession_itemShow( $sessionItem );
 			die();
 		}
 		break;
@@ -175,7 +178,7 @@
 
 //-----------------------------------------------------------------------------
 
-$sessionItem = itemGet();
+$sessionItem = itemsession_itemGet();
 if( isset( $_POST['buttonsave'] ) )
 {
 	/* set itemdata to sessionItem */
@@ -183,12 +186,12 @@
 	$PHPMEDIADB->PRESENTATION->SESSION->register( 'sessionitem' ,$sessionItem );
 
 	/* try to save */
-	itemSave( $sessionItem );
+	itemsession_itemSave( $sessionItem );
 }
 else
 {
 	/* only show */
-	itemShow( $sessionItem );
+	itemsession_itemShow( $sessionItem );
 }
 
 //--- EOF --- EOF --- EOF --- EOF --- EOF --- EOF --- EOF --- EOF --- EOF ---



From nobody at sheep.berlios.de  Tue Apr 12 20:59:16 2005
From: nobody at sheep.berlios.de (mblaschke)
Date: Tue, 12 Apr 2005 20:59:16 +0200
Subject: [phpmediadb-cvs] phpmediadb-cvs error.php,NONE,1.1
Message-ID: <200504121859.j3CIxGm25880@bat.berlios.de>

Update of /cvsroot/phpmediadb/phpmediadb-cvs
In directory sheep:/tmp/cvs-serv9751

Added Files:
	error.php 
Log Message:
* Initial revision

--- NEW FILE: error.php ---
<?php
// phpMediaDB :: Licensed under GNU-GPL :: http://phpmediadb.berlios.de/
/* $Id: error.php,v 1.1 2005/04/12 18:59:14 mblaschke Exp $ */
/**
 * This file displays an error-message
 * 
 * @author		Markus Blaschke <mblaschke at users.berlios.de>
 * @version		$Revision: 1.1 $
 * @package		phpmediadb_html
 * @subpackage	access_anonymous
 */
 
/* include main phpmediadb-project */
require_once( '_source/phpmediadb.php' );

/* create object and init */
$PHPMEDIADB	= new phpmediadb();
$message	= NULL;
 
 /* HTTP Errors */
switch( $_GET['http'] )
{
	case('401');
		/* get %HTTP_ERROR_401_TITLE% */
		$messageTitle = $PHPMEDIADB->PRESENTATION->I18N->translate( 'HTTP_ERROR_401_TITLE' );

		/* get %HTTP_ERROR_401_BODY% */
		$messageBody = $PHPMEDIADB->PRESENTATION->I18N->translate( 'HTTP_ERROR_401_BODY' );
	break;	
 	
	case('403');
		/* get %HTTP_ERROR_403_TITLE% */
		$messageTitle = $PHPMEDIADB->PRESENTATION->I18N->translate( 'HTTP_ERROR_403_TITLE' );

		/* get %HTTP_ERROR_403_BODY% */
		$messageBody = $PHPMEDIADB->PRESENTATION->I18N->translate( 'HTTP_ERROR_403_BODY' );
	break;	

	case('404');
		/* get %HTTP_ERROR_404_TITLE% */
		$messageTitle = $PHPMEDIADB->PRESENTATION->I18N->translate( 'HTTP_ERROR_404_TITLE' );

		/* get %HTTP_ERROR_404_BODY% */
		$messageBody = $PHPMEDIADB->PRESENTATION->I18N->translate( 'HTTP_ERROR_404_BODY' );
	break;	
	
	case('500');
		/* get %HTTP_ERROR_500_TITLE% */
		$messageTitle = $PHPMEDIADB->PRESENTATION->I18N->translate( 'HTTP_ERROR_500_TITLE' );

		/* get %HTTP_ERROR_500_BODY% */
		$messageBody = $PHPMEDIADB->PRESENTATION->I18N->translate( 'HTTP_ERROR_500_BODY' );
	break;	
 	
	default:
		/* get %HTTP_ERROR_UNKNOWN_TITLE% */
		$messageTitle = $PHPMEDIADB->PRESENTATION->I18N->translate( 'HTTP_ERROR_UNKNOWN_TITLE' );

		/* get %HTTP_ERROR_UNKNOWN_BODY% */
		$messageBody = $PHPMEDIADB->PRESENTATION->I18N->translate( 'HTTP_ERROR_UNKNOWN_BODY' );
	break;	
}
 
/* assign message */
@$PHPMEDIADB->PRESENTATION->CONTENTVARS->addNode( 'MESSAGE.TITLE', $messageTitle );
@$PHPMEDIADB->PRESENTATION->CONTENTVARS->addNode( 'MESSAGE.BODY', $messageBody );
 
/* display message */
$PHPMEDIADB->PRESENTATION->HTMLSERVICE->displayMain( 'body.message.tpl' );

//--- EOF --- EOF --- EOF --- EOF --- EOF --- EOF --- EOF --- EOF --- EOF ---
?>


From nobody at sheep.berlios.de  Tue Apr 12 21:05:42 2005
From: nobody at sheep.berlios.de (mblaschke)
Date: Tue, 12 Apr 2005 21:05:42 +0200
Subject: [phpmediadb-cvs] phpmediadb-cvs error.php,1.1,1.2
Message-ID: <200504121905.j3CJ5gm26016@bat.berlios.de>

Update of /cvsroot/phpmediadb/phpmediadb-cvs
In directory sheep:/tmp/cvs-serv10019

Modified Files:
	error.php 
Log Message:
* Removed unused variable

Index: error.php
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/error.php,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- error.php	12 Apr 2005 18:59:14 -0000	1.1
+++ error.php	12 Apr 2005 19:05:40 -0000	1.2
@@ -15,7 +15,6 @@
 
 /* create object and init */
 $PHPMEDIADB	= new phpmediadb();
-$message	= NULL;
  
  /* HTTP Errors */
 switch( $_GET['http'] )



From nobody at sheep.berlios.de  Tue Apr 12 21:12:20 2005
From: nobody at sheep.berlios.de (mblaschke)
Date: Tue, 12 Apr 2005 21:12:20 +0200
Subject: [phpmediadb-cvs] phpmediadb-cvs/_source/tier.data class.phpmediadb_data_items.php,1.3,1.4
Message-ID: <200504121912.j3CJCKm26185@bat.berlios.de>

Update of /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.data
In directory sheep:/tmp/cvs-serv10321/_source/tier.data

Modified Files:
	class.phpmediadb_data_items.php 
Log Message:
* Added method phpmediadb_data_items::get
* Added method phpmediadb_data_items::getList
* Added method phpmediadb_data_items::create
* Added method phpmediadb_data_items::modify

Index: class.phpmediadb_data_items.php
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.data/class.phpmediadb_data_items.php,v
retrieving revision 1.3
retrieving revision 1.4
diff -u -d -r1.3 -r1.4
--- class.phpmediadb_data_items.php	12 Apr 2005 17:59:54 -0000	1.3
+++ class.phpmediadb_data_items.php	12 Apr 2005 19:12:17 -0000	1.4
@@ -61,6 +61,152 @@
 	}
 //-----------------------------------------------------------------------------
 	/**
+	 * This function returns a specified record from the table AudioDatas
+	 * and all required data from the other tables
+	 *
+	 * @access public
+	 * @param Integer $id contains specified id for the sql statement
+	 * @return array returns the results of database query
+	 */
+	public function get( $id )
+	{
+		/* init */
+		$returnValue = NULL;
+		
+		switch( $this->getItemType( $id ) )
+		{
+		case(PHPMEDIADB_ITEM_AUDIO):
+			/* delegate */
+			$returnValue = $this->DATA->AUDIOS->get( $id );
+		break;
+	
+		case(PHPMEDIADB_ITEM_VIDEO):
+			/* delegate */
+			$returnValue = $this->DATA->VIDEOS->get( $id );
+		break;
+	
+		case(PHPMEDIADB_ITEM_PRINT):
+			/* delegate */
+			$returnValue = $this->DATA->PRINTS->get( $id );
+		break;
+		}
+		
+		/* return value */
+		return $returnValue;
+	}
+
+//-----------------------------------------------------------------------------
+	/**
+	 * This function returns all records from the table AudioDatas
+	 * and all required data from the other tables
+	 *
+	 * @access public
+	 * @param integer $itemType Type of item
+	 * @return array returns the results of database query
+	 */
+	public function getList( $itemType )
+	{
+		/* init */
+		$returnValue = NULL;
+		
+		switch( $itemType )
+		{
+		case(PHPMEDIADB_ITEM_AUDIO):
+			/* delegate */
+			$returnValue = $this->DATA->AUDIOS->getList();
+		break;
+	
+		case(PHPMEDIADB_ITEM_VIDEO):
+			/* delegate */
+			$returnValue = $this->DATA->VIDEOS->getList();
+		break;
+	
+		case(PHPMEDIADB_ITEM_PRINT):
+			/* delegate */
+			$returnValue = $this->DATA->PRINTS->getList();
+		break;
+		}
+		
+		/* return value */
+		return $returnValue;
+	}
+	
+//-----------------------------------------------------------------------------
+/**
+	 * This function creates a new record in the table AudioDatas
+	 * and all required data in the other tables
+	 *
+	 * @access public
+	 * @param array $data contains all required data for the sql statement
+	 * @param integer $itemType Type of item
+	 * @return Integer returns id from the last created record
+	 */
+	public function create( $data, $itemType )
+	{
+		/* init */
+		$returnValue = NULL;
+		
+		switch( $itemType )
+		{
+		case(PHPMEDIADB_ITEM_AUDIO):
+			/* delegate */
+			$returnValue = $this->DATA->AUDIOS->create( $data );
+		break;
+	
+		case(PHPMEDIADB_ITEM_VIDEO):
+			/* delegate */
+			$returnValue = $this->DATA->VIDEOS->create( $data );
+		break;
+	
+		case(PHPMEDIADB_ITEM_PRINT):
+			/* delegate */
+			$returnValue = $this->DATA->PRINTS->create( $data );
+		break;
+		}
+		
+		/* return value */
+		return $returnValue;
+	}
+	
+//-----------------------------------------------------------------------------
+	/**
+	 * This function modifies a specified record from the table AudioDatas
+	 * and all required data from the other tables
+	 *
+	 * @access public
+	 * @param Integer $id contains specified id for the sql statement
+	 * @param array $data contains all required data for the sql statement
+	 * @return bool Status of transaction
+	 */
+	public function modify( $id, $data )
+	{
+		/* init */
+		$returnValue = NULL;
+		
+		switch( $itemType )
+		{
+		case(PHPMEDIADB_ITEM_AUDIO):
+			/* delegate */
+			$returnValue = $this->DATA->AUDIOS->modify( $id, $data );
+		break;
+	
+		case(PHPMEDIADB_ITEM_VIDEO):
+			/* delegate */
+			$returnValue = $this->DATA->VIDEOS->modify( $id, $data );
+		break;
+	
+		case(PHPMEDIADB_ITEM_PRINT):
+			/* delegate */
+			$returnValue = $this->DATA->PRINTS->modify( $id, $data );
+		break;
+		}
+		
+		/* return value */
+		return $returnValue;
+	}
+	
+//-----------------------------------------------------------------------------
+	/**
 	 * This function deletes a specified record from the table AudioDatas
 	 * and all depending data from the other tables
 	 *



From nobody at sheep.berlios.de  Tue Apr 12 21:20:14 2005
From: nobody at sheep.berlios.de (mblaschke)
Date: Tue, 12 Apr 2005 21:20:14 +0200
Subject: [phpmediadb-cvs] phpmediadb-cvs/_source/tier.configuration/templates body.list.audio.tpl,1.4,1.5
Message-ID: <200504121920.j3CJKEm26369@bat.berlios.de>

Update of /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.configuration/templates
In directory sheep:/tmp/cvs-serv10778/_source/tier.configuration/templates

Modified Files:
	body.list.audio.tpl 
Log Message:
* Fixed typo in item-details-hyperlink

Index: body.list.audio.tpl
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.configuration/templates/body.list.audio.tpl,v
retrieving revision 1.4
retrieving revision 1.5
diff -u -d -r1.4 -r1.5
--- body.list.audio.tpl	12 Apr 2005 18:56:45 -0000	1.4
+++ body.list.audio.tpl	12 Apr 2005 19:20:11 -0000	1.5
@@ -7,7 +7,7 @@
 		</tr>
 {foreach from=$ITEMDATA item=currentDataItem}
 		<tr>
-			<td><a href="item-detail?itemid={$currentDataItem.itemid}">{$currentDataItem.itemtitle}</a></td>
+			<td><a href="item-details.php?itemid={$currentDataItem.itemid}">{$currentDataItem.itemtitle}</a></td>
 			<td>{$currentDataItem.itemreleasedate|default:$I18N.NOT_SET|default:"%NOT_SET%"}</td>
 			<td>
 				<a href="admin/item-mod.php?itemid={$currentDataItem.itemid}"><img src="{$CONFIGURATION.ROOTPATH}_layout/images/icons/action-modify.png" alt="{$I18N.ACTION_MODIFY|default:"%ACTION_MODIFY%"}" /></a>



From nobody at sheep.berlios.de  Tue Apr 12 22:16:30 2005
From: nobody at sheep.berlios.de (mblaschke)
Date: Tue, 12 Apr 2005 22:16:30 +0200
Subject: [phpmediadb-cvs] phpmediadb-cvs/install create-tables.sql,1.3,1.4
Message-ID: <200504122016.j3CKGUm27457@bat.berlios.de>

Update of /cvsroot/phpmediadb/phpmediadb-cvs/install
In directory sheep:/tmp/cvs-serv26037/install

Modified Files:
	create-tables.sql 
Log Message:
* Version bump erm-model.xml Revision 1.18

Index: create-tables.sql
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/install/create-tables.sql,v
retrieving revision 1.3
retrieving revision 1.4
diff -u -d -r1.3 -r1.4
--- create-tables.sql	6 Apr 2005 13:58:25 -0000	1.3
+++ create-tables.sql	12 Apr 2005 20:16:27 -0000	1.4
@@ -4,11 +4,7 @@
 CREATE TABLE AudioDatas (
   AudioDataID INTEGER UNSIGNED NOT NULL AUTO_INCREMENT,
   ItemID INTEGER UNSIGNED NOT NULL,
-  TrackID INTEGER UNSIGNED NOT NULL,
-  LanguageID INTEGER UNSIGNED NOT NULL,
   PRIMARY KEY(AudioDataID),
-  INDEX AudioDatas_FKIndex1(LanguageID),
-  INDEX AudioDatas_FKIndex2(TrackID),
   INDEX AudioDatas_FKIndex3(ItemID)
 );
 
@@ -36,11 +32,10 @@
 
 CREATE TABLE Items (
   ItemID INTEGER UNSIGNED NOT NULL AUTO_INCREMENT,
-  PublisherID INTEGER UNSIGNED NOT NULL,
-  MediaAgeRestrictionID INTEGER UNSIGNED NOT NULL,
-  MediaCodecID INTEGER UNSIGNED NOT NULL,
-  MediaFormatID INTEGER UNSIGNED NOT NULL,
-  ItemPicturesID INTEGER UNSIGNED NOT NULL,
+  MediaAgeRestrictionID INTEGER UNSIGNED,
+  MediaCodecID INTEGER UNSIGNED,
+  MediaFormatID INTEGER UNSIGNED,
+  ItemPicturesID INTEGER UNSIGNED,
   ItemTitle VARCHAR(255) NOT NULL,
   ItemOriginalTitle VARCHAR(255) NOT NULL,
   ItemReleaseDate VARCHAR(255) NOT NULL,
@@ -51,13 +46,13 @@
   ItemQuantity VARCHAR(255) NOT NULL,
   ItemIdentifier VARCHAR(255) NOT NULL,
   ItemTypeID INTEGER UNSIGNED NOT NULL,
+  ItemPublisher VARCHAR(255) NOT NULL, 
   PRIMARY KEY(ItemID),
   INDEX Items_FKIndex1(ItemTypeID),
   INDEX Items_FKIndex2(ItemPicturesID),
   INDEX Items_FKIndex3(MediaFormatID),
   INDEX Items_FKIndex4(MediaCodecID),
-  INDEX Items_FKIndex5(MediaAgeRestrictionID),
-  INDEX Items_FKIndex6(PublisherID)
+  INDEX Items_FKIndex5(MediaAgeRestrictionID)
 );
 
 CREATE TABLE ItemTypes (
@@ -66,13 +61,6 @@
   PRIMARY KEY(ItemTypeID)
 );
 
-CREATE TABLE Languages (
-  LanguageID INTEGER UNSIGNED NOT NULL AUTO_INCREMENT,
-  LanguageName VARCHAR(255) NOT NULL,
-  LanguageCode VARCHAR(255) NOT NULL,
-  PRIMARY KEY(LanguageID)
-);
-
 CREATE TABLE MediaAgeRestrictions (
   MediaAgeRestrictionID INTEGER UNSIGNED NOT NULL AUTO_INCREMENT,
   MediaAgeRestriction VARCHAR(255) NOT NULL,
@@ -95,89 +83,17 @@
   INDEX MediaFormats_FKIndex1(ItemTypeID)
 );
 
-CREATE TABLE MediaStatus (
-  MediaStatusID INTEGER UNSIGNED NOT NULL AUTO_INCREMENT,
-  MediaStatus VARCHAR(255) NOT NULL,
-  PRIMARY KEY(MediaStatusID)
-);
-
-CREATE TABLE PersonActors (
-  PersonActorID INTEGER UNSIGNED NOT NULL AUTO_INCREMENT,
-  ItemID INTEGER UNSIGNED NOT NULL,
-  PersonID INTEGER UNSIGNED NOT NULL,
-  PRIMARY KEY(PersonActorID),
-  INDEX PersonActors_FKIndex1(PersonID),
-  INDEX PersonActors_FKIndex2(ItemID)
-);
-
-CREATE TABLE PersonAuthors (
-  PersonAuthorID INTEGER UNSIGNED NOT NULL AUTO_INCREMENT,
-  ItemID INTEGER UNSIGNED NOT NULL,
-  PersonID INTEGER UNSIGNED NOT NULL,
-  PRIMARY KEY(PersonAuthorID),
-  INDEX PersonAuthors_FKIndex1(PersonID),
-  INDEX PersonAuthors_FKIndex2(ItemID)
-);
-
-CREATE TABLE PersonDirectors (
-  PersonDirectorID INTEGER UNSIGNED NOT NULL AUTO_INCREMENT,
-  ItemID INTEGER UNSIGNED NOT NULL,
-  PersonID INTEGER UNSIGNED NOT NULL,
-  PRIMARY KEY(PersonDirectorID),
-  INDEX PersonDirectors_FKIndex1(PersonID),
-  INDEX PersonDirectors_FKIndex2(ItemID)
-);
-
-CREATE TABLE Persons (
-  PersonID INTEGER UNSIGNED NOT NULL AUTO_INCREMENT,
-  PersonFirstName VARCHAR(255) NOT NULL,
-  PersonLastName VARCHAR(255) NOT NULL,
-  PRIMARY KEY(PersonID)
-);
-
 CREATE TABLE PrintDatas (
   PrintDataID INTEGER UNSIGNED NOT NULL AUTO_INCREMENT,
   ItemID INTEGER UNSIGNED NOT NULL,
-  LanguageID INTEGER UNSIGNED NOT NULL,
   PRIMARY KEY(PrintDataID),
-  INDEX PrintDatas_FKIndex1(LanguageID),
   INDEX PrintDatas_FKIndex2(ItemID)
 );
 
-CREATE TABLE Publishers (
-  PublisherID INTEGER UNSIGNED NOT NULL AUTO_INCREMENT,
-  PublisherName VARCHAR(255) NOT NULL,
-  PRIMARY KEY(PublisherID)
-);
-
-CREATE TABLE Tracks (
-  TrackID INTEGER UNSIGNED NOT NULL AUTO_INCREMENT,
-  TrackName VARCHAR(255) NOT NULL,
-  TrackArtist VARCHAR(255) NOT NULL,
-  TrackLength INTEGER UNSIGNED NOT NULL,
-  PRIMARY KEY(TrackID)
-);
-
-CREATE TABLE TrackSounds (
-  TrackSoundID INTEGER UNSIGNED NOT NULL AUTO_INCREMENT,
-  LanguageID INTEGER UNSIGNED NOT NULL,
-  PRIMARY KEY(TrackSoundID),
-  INDEX TrackSounds_FKIndex1(LanguageID)
-);
-
-CREATE TABLE TrackSubtitles (
-  LanguageSubtitle INTEGER UNSIGNED NOT NULL AUTO_INCREMENT,
-  LanguageID INTEGER UNSIGNED NOT NULL,
-  PRIMARY KEY(LanguageSubtitle),
-  INDEX TrackSubtitles_FKIndex1(LanguageID)
-);
-
 CREATE TABLE VideoDatas (
   VideoDataID INTEGER UNSIGNED NOT NULL AUTO_INCREMENT,
   ItemID INTEGER UNSIGNED NOT NULL,
-  LanguageID INTEGER UNSIGNED NOT NULL,
   PRIMARY KEY(VideoDataID),
-  INDEX VideoDatas_FKIndex1(LanguageID),
   INDEX VideoDatas_FKIndex2(ItemID)
 );
 



From nobody at sheep.berlios.de  Tue Apr 12 22:17:01 2005
From: nobody at sheep.berlios.de (mblaschke)
Date: Tue, 12 Apr 2005 22:17:01 +0200
Subject: [phpmediadb-cvs] phpmediadb-cvs/install insert-data.sql,1.5,1.6
Message-ID: <200504122017.j3CKH1m27471@bat.berlios.de>

Update of /cvsroot/phpmediadb/phpmediadb-cvs/install
In directory sheep:/tmp/cvs-serv29627/install

Modified Files:
	insert-data.sql 
Log Message:
* Fixed i18n support

Index: insert-data.sql
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/install/insert-data.sql,v
retrieving revision 1.5
retrieving revision 1.6
diff -u -d -r1.5 -r1.6
--- insert-data.sql	6 Apr 2005 13:58:40 -0000	1.5
+++ insert-data.sql	12 Apr 2005 20:16:58 -0000	1.6
@@ -6,154 +6,155 @@
 --
 
 
-INSERT INTO `Categories` (`CategoryID`, `ItemTypeID`, `CategoryName`) VALUES (1, 1, 'Blues'),
-(2, 1, 'Classic Rock'),
-(3, 1, 'Country'),
-(4, 1, 'Dance'),
-(5, 1, 'Disco'),
-(6, 1, 'Funk'),
-(7, 1, 'Grunge'),
-(8, 1, 'Hip-Hop'),
-(9, 1, 'Jazz'),
-(10, 1, 'Metal'),
-(11, 1, 'New Age'),
-(12, 1, 'Oldies'),
-(13, 1, 'Other'),
-(14, 1, 'Pop'),
-(15, 1, 'R&B'),
-(16, 1, 'Rap'),
-(17, 1, 'Reggae'),
-(18, 1, 'Rock'),
-(19, 1, 'Techno'),
-(20, 1, 'Industrial'),
-(21, 1, 'Alternative'),
-(22, 1, 'Ska'),
-(23, 1, 'Death Metal'),
-(24, 1, 'Pranks'),
-(25, 1, 'Soundtrack'),
-(26, 1, 'Euro-Techno'),
-(27, 1, 'Ambient'),
-(28, 1, 'Trip-Hop'),
-(29, 1, 'Vocal'),
-(30, 1, 'Jazz+Funk'),
-(31, 1, 'Fusion'),
-(32, 1, 'Trance'),
-(33, 1, 'Classical'),
-(34, 1, 'Instrumental'),
-(35, 1, 'Acid'),
-(36, 1, 'House'),
-(37, 1, 'Game'),
-(38, 1, 'Sound Clip'),
-(39, 1, 'Gospel'),
-(40, 1, 'Noise'),
-(41, 1, 'AlternRock'),
-(42, 1, 'Bass'),
-(43, 1, 'Soul'),
-(44, 1, 'Punk'),
-(45, 1, 'Space'),
-(46, 1, 'Meditative'),
-(47, 1, 'Instrumental Pop'),
-(48, 1, 'Instrumental Rock'),
-(49, 1, 'Ethnic'),
-(50, 1, 'Gothic'),
-(51, 1, 'Darkwave'),
-(52, 1, 'Techno-Industrial'),
-(53, 1, 'Electronic'),
-(54, 1, 'Pop-Folk'),
-(55, 1, 'Eurodance'),
-(56, 1, 'Dream'),
-(57, 1, 'Southern Rock'),
-(58, 1, 'Comedy'),
-(59, 1, 'Cult'),
-(60, 1, 'Gangsta'),
-(61, 1, 'Top 40'),
-(62, 1, 'Christian Rap'),
-(63, 1, 'Pop/Funk'),
-(64, 1, 'Jungle'),
-(65, 1, 'Native American'),
-(66, 1, 'Cabaret'),
-(67, 1, 'New Wave'),
-(68, 1, 'Psychadelic'),
-(69, 1, 'Rave'),
-(70, 1, 'Showtunes'),
-(71, 1, 'Trailer'),
-(72, 1, 'Lo-Fi'),
-(73, 1, 'Tribal'),
-(74, 1, 'Acid Punk'),
-(75, 1, 'Acid Jazz'),
-(76, 1, 'Polka'),
-(77, 1, 'Retro'),
-(78, 1, 'Musical'),
-(79, 1, 'Rock & Roll'),
-(80, 1, 'Hard Rock'),
-(81, 1, 'Folk'),
-(82, 1, 'Folk-Rock'),
-(83, 1, 'National Folk'),
-(84, 1, 'Swing'),
-(85, 1, 'Fast Fusion'),
-(86, 1, 'Bebob'),
-(87, 1, 'Latin'),
-(88, 1, 'Revival'),
-(89, 1, 'Celtic'),
-(90, 1, 'Bluegrass'),
-(91, 1, 'Avantgarde'),
-(92, 1, 'Gothic Rock'),
-(93, 1, 'Progressive Rock'),
-(94, 1, 'Psychedelic Rock'),
-(95, 1, 'Symphonic Rock'),
-(96, 1, 'Slow Rock'),
-(97, 1, 'Big Band'),
-(98, 1, 'Chorus'),
-(99, 1, 'Easy Listening'),
-(100, 1, 'Acoustic'),
-(101, 1, 'Humour'),
-(102, 1, 'Speech'),
-(103, 1, 'Chanson'),
-(104, 1, 'Opera'),
-(105, 1, 'Chamber Music'),
-(106, 1, 'Sonata'),
-(107, 1, 'Symphony'),
-(108, 1, 'Booty Bass'),
-(109, 1, 'Primus'),
-(110, 1, 'Porn Groove'),
-(111, 1, 'Satire'),
-(112, 1, 'Slow Jam'),
-(113, 1, 'Club'),
-(114, 1, 'Tango'),
-(115, 1, 'Samba'),
-(116, 1, 'Folklore'),
-(117, 1, 'Ballad'),
-(118, 1, 'Power Ballad'),
-(119, 1, 'Rhythmic Soul'),
-(120, 1, 'Freestyle'),
-(121, 1, 'Duet'),
-(122, 1, 'Punk Rock'),
-(123, 1, 'Drum Solo'),
-(124, 1, 'Acapella'),
-(125, 1, 'Euro-House'),
-(126, 1, 'Dance Hall'),
-(127, 1, 'Goa'),
-(128, 1, 'Drum & Bass'),
-(129, 1, 'Club-House'),
-(130, 1, 'Hardcore'),
-(131, 1, 'Terror'),
-(132, 1, 'Indie'),
-(133, 1, 'BritPop'),
-(134, 1, 'Negerpunk'),
-(135, 1, 'Polsk Punk'),
-(136, 1, 'Beat'),
-(137, 1, 'Christian Gangsta Rap'),
-(138, 1, 'Heavy Metal'),
-(139, 1, 'Black Metal'),
-(140, 1, 'Crossover'),
-(141, 1, 'Contemporary Christian'),
-(142, 1, 'Christian Rock'),
-(143, 1, 'Merengue'),
-(144, 1, 'Salsa'),
-(145, 1, 'Trash Metal'),
-(146, 1, 'Anime'),
-(147, 1, 'Jpop'),
-(148, 1, 'Synthpop'),
+INSERT INTO `Categories` (`CategoryID`, `ItemTypeID`, `CategoryName`) VALUES
+(1, 1, 'Category_Blues'),
+(2, 1, 'Category_Classic-Rock'),
+(3, 1, 'Category_Country'),
+(4, 1, 'Category_Dance'),
+(5, 1, 'Category_Disco'),
+(6, 1, 'Category_Funk'),
+(7, 1, 'Category_Grunge'),
+(8, 1, 'Category_Hip-Hop'),
+(9, 1, 'Category_Jazz'),
+(10, 1, 'Category_Metal'),
+(11, 1, 'Category_New-Age'),
+(12, 1, 'Category_Oldies'),
+(13, 1, 'Category_Other'),
+(14, 1, 'Category_Pop'),
+(15, 1, 'Category_R&B'),
+(16, 1, 'Category_Rap'),
+(17, 1, 'Category_Reggae'),
+(18, 1, 'Category_Rock'),
+(19, 1, 'Category_Techno'),
+(20, 1, 'Category_Industrial'),
+(21, 1, 'Category_Alternative'),
+(22, 1, 'Category_Ska'),
+(23, 1, 'Category_Death-Metal'),
+(24, 1, 'Category_Pranks'),
+(25, 1, 'Category_Soundtrack'),
+(26, 1, 'Category_Euro-Techno'),
+(27, 1, 'Category_Ambient'),
+(28, 1, 'Category_Trip-Hop'),
+(29, 1, 'Category_Vocal'),
+(30, 1, 'Category_Jazz+Funk'),
+(31, 1, 'Category_Fusion'),
+(32, 1, 'Category_Trance'),
+(33, 1, 'Category_Classical'),
+(34, 1, 'Category_Instrumental'),
+(35, 1, 'Category_Acid'),
+(36, 1, 'Category_House'),
+(37, 1, 'Category_Game'),
+(38, 1, 'Category_Sound_Clip'),
+(39, 1, 'Category_Gospel'),
+(40, 1, 'Category_Noise'),
+(41, 1, 'Category_AlternRock'),
+(42, 1, 'Category_Bass'),
+(43, 1, 'Category_Soul'),
+(44, 1, 'Category_Punk'),
+(45, 1, 'Category_Space'),
+(46, 1, 'Category_Meditative'),
+(47, 1, 'Category_Instrumental-Pop'),
+(48, 1, 'Category_Instrumental-Rock'),
+(49, 1, 'Category_Ethnic'),
+(50, 1, 'Category_Gothic'),
+(51, 1, 'Category_Darkwave'),
+(52, 1, 'Category_Techno-Industrial'),
+(53, 1, 'Category_Electronic'),
+(54, 1, 'Category_Pop-Folk'),
+(55, 1, 'Category_Eurodance'),
+(56, 1, 'Category_Dream'),
+(57, 1, 'Category_Southern_Rock'),
+(58, 1, 'Category_Comedy'),
+(59, 1, 'Category_Cult'),
+(60, 1, 'Category_Gangsta'),
+(61, 1, 'Category_Top-40'),
+(62, 1, 'Category_Christian-Rap'),
+(63, 1, 'Category_Pop/Funk'),
+(64, 1, 'Category_Jungle'),
+(65, 1, 'Category_Native-American'),
+(66, 1, 'Category_Cabaret'),
+(67, 1, 'Category_New-Wave'),
+(68, 1, 'Category_Psychadelic'),
+(69, 1, 'Category_Rave'),
+(70, 1, 'Category_Showtunes'),
+(71, 1, 'Category_Trailer'),
+(72, 1, 'Category_Lo-Fi'),
+(73, 1, 'Category_Tribal'),
+(74, 1, 'Category_Acid-Punk'),
+(75, 1, 'Category_Acid-Jazz'),
+(76, 1, 'Category_Polka'),
+(77, 1, 'Category_Retro'),
+(78, 1, 'Category_Musical'),
+(79, 1, 'Category_Rock&Roll'),
+(80, 1, 'Category_Hard-Rock'),
+(81, 1, 'Category_Folk'),
+(82, 1, 'Category_Folk-Rock'),
+(83, 1, 'Category_National-Folk'),
+(84, 1, 'Category_Swing'),
+(85, 1, 'Category_Fast-Fusion'),
+(86, 1, 'Category_Bebob'),
+(87, 1, 'Category_Latin'),
+(88, 1, 'Category_Revival'),
+(89, 1, 'Category_Celtic'),
+(90, 1, 'Category_Bluegrass'),
+(91, 1, 'Category_Avantgarde'),
+(92, 1, 'Category_Gothic-Rock'),
+(93, 1, 'Category_Progressive-Rock'),
+(94, 1, 'Category_Psychedelic-Rock'),
+(95, 1, 'Category_Symphonic-Rock'),
+(96, 1, 'Category_Slow-Rock'),
+(97, 1, 'Category_Big-Band'),
+(98, 1, 'Category_Chorus'),
+(99, 1, 'Category_Easy-Listening'),
+(100, 1, 'Category_Acoustic'),
+(101, 1, 'Category_Humour'),
+(102, 1, 'Category_Speech'),
+(103, 1, 'Category_Chanson'),
+(104, 1, 'Category_Opera'),
+(105, 1, 'Category_Chamber-Music'),
+(106, 1, 'Category_Sonata'),
+(107, 1, 'Category_Symphony'),
+(108, 1, 'Category_Booty-Bass'),
+(109, 1, 'Category_Primus'),
+(110, 1, 'Category_Porn-Groove'),
+(111, 1, 'Category_Satire'),
+(112, 1, 'Category_Slow-Jam'),
+(113, 1, 'Category_Club'),
+(114, 1, 'Category_Tango'),
+(115, 1, 'Category_Samba'),
+(116, 1, 'Category_Folklore'),
+(117, 1, 'Category_Ballad'),
+(118, 1, 'Category_Power-Ballad'),
+(119, 1, 'Category_Rhythmic-Soul'),
+(120, 1, 'Category_Freestyle'),
+(121, 1, 'Category_Duet'),
+(122, 1, 'Category_Punk-Rock'),
+(123, 1, 'Category_Drum-Solo'),
+(124, 1, 'Category_Acapella'),
+(125, 1, 'Category_Euro-House'),
+(126, 1, 'Category_Dance-Hall'),
+(127, 1, 'Category_Goa'),
+(128, 1, 'Category_Drum&Bass'),
+(129, 1, 'Category_Club-House'),
+(130, 1, 'Category_Hardcore'),
+(131, 1, 'Category_Terror'),
+(132, 1, 'Category_Indie'),
+(133, 1, 'Category_BritPop'),
+(134, 1, 'Category_Negerpunk'),
+(135, 1, 'Category_Polsk-Punk'),
+(136, 1, 'Category_Beat'),
+(137, 1, 'Category_Christian-Gangsta-Rap'),
+(138, 1, 'Category_Heavy-Metal'),
+(139, 1, 'Category_Black-Metal'),
+(140, 1, 'Category_Crossover'),
+(141, 1, 'Category_Contemporary-Christian'),
+(142, 1, 'Category_Christian-Rock'),
+(143, 1, 'Category_Merengue'),
+(144, 1, 'Category_Salsa'),
+(145, 1, 'Category_Trash-Metal'),
+(146, 1, 'Category_Anime'),
+(147, 1, 'Category_Jpop'),
+(148, 1, 'Category_Synthpop'),
 (149, 2, 'Category_Action'),
 (150, 2, 'Category_Adventure'),
 (151, 2, 'Category_Animation'),
@@ -179,7 +180,7 @@
 -- Daten f?r Tabelle `itemtypes`
 --
 
-INSERT INTO `ItemTypes` (`ItemTypeID`, `ItemTypeCode`) VALUES 
+INSERT INTO `ItemTypes` (`ItemTypeID`, `ItemTypeCode`) VALUES
 (1, 'AUDIO'),
 (2, 'VIDEO'),
 (3, 'PRINT');
@@ -188,7 +189,7 @@
 -- Daten f?r Tabelle `mediaagerestrictions`
 --
 
-INSERT INTO `MediaAgeRestrictions` (`MediaAgeRestrictionID`, `MediaAgeRestriction`) VALUES 
+INSERT INTO `MediaAgeRestrictions` (`MediaAgeRestrictionID`, `MediaAgeRestriction`) VALUES
 (1, 'AgeRestriction_Free'),
 (2, 'AgeRestriction_6Years'),
 (3, 'AgeRestriction_12Years'),
@@ -199,7 +200,7 @@
 -- Daten f?r Tabelle `mediacodecs`
 --
 
-INSERT INTO `MediaCodecs` (`MediaCodecID`, `ItemTypeID`, `MediaCodecName`) VALUES 
+INSERT INTO `MediaCodecs` (`MediaCodecID`, `ItemTypeID`, `MediaCodecName`) VALUES
 (1, 1, 'Codec_MP3'),
 (2, 1, 'Codec_Vorbis'),
 (3, 1, 'Codec_WAVE'),
@@ -225,7 +226,7 @@
 -- Daten f?r Tabelle `mediaformats`
 --
 
-INSERT INTO `MediaFormats` (`MediaFormatID`, `ItemTypeID`, `MediaFormatName`) VALUES 
+INSERT INTO `MediaFormats` (`MediaFormatID`, `ItemTypeID`, `MediaFormatName`) VALUES
 (1, 1, 'Format_File'),
 (2, 1, 'Format_AudioCD'),
 (3, 1, 'Format_AudioDVD'),



From nobody at sheep.berlios.de  Tue Apr 12 22:48:49 2005
From: nobody at sheep.berlios.de (mblaschke)
Date: Tue, 12 Apr 2005 22:48:49 +0200
Subject: [phpmediadb-cvs] phpmediadb-cvs/install create-tables.sql,1.4,1.5
Message-ID: <200504122048.j3CKmnm28203@bat.berlios.de>

Update of /cvsroot/phpmediadb/phpmediadb-cvs/install
In directory sheep:/tmp/cvs-serv13299/install

Modified Files:
	create-tables.sql 
Log Message:
* Changed Items attributes - can now be null

Index: create-tables.sql
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/install/create-tables.sql,v
retrieving revision 1.4
retrieving revision 1.5
diff -u -d -r1.4 -r1.5
--- create-tables.sql	12 Apr 2005 20:16:27 -0000	1.4
+++ create-tables.sql	12 Apr 2005 20:48:46 -0000	1.5
@@ -36,17 +36,17 @@
   MediaCodecID INTEGER UNSIGNED,
   MediaFormatID INTEGER UNSIGNED,
   ItemPicturesID INTEGER UNSIGNED,
-  ItemTitle VARCHAR(255) NOT NULL,
-  ItemOriginalTitle VARCHAR(255) NOT NULL,
-  ItemReleaseDate VARCHAR(255) NOT NULL,
-  ItemMediaName VARCHAR(255) NOT NULL,
-  ItemCreationDate TIMESTAMP NOT NULL,
-  ItemModificationDate TIMESTAMP NOT NULL,
-  ItemComment BLOB NOT NULL,
-  ItemQuantity VARCHAR(255) NOT NULL,
-  ItemIdentifier VARCHAR(255) NOT NULL,
+  ItemTitle VARCHAR(255),
+  ItemOriginalTitle VARCHAR(255),
+  ItemReleaseDate VARCHAR(255),
+  ItemMediaName VARCHAR(255),
+  ItemCreationDate TIMESTAMP,
+  ItemModificationDate TIMESTAMP,
+  ItemComment BLOB,
+  ItemQuantity VARCHAR(255),
+  ItemIdentifier VARCHAR(255),
   ItemTypeID INTEGER UNSIGNED NOT NULL,
-  ItemPublisher VARCHAR(255) NOT NULL, 
+  ItemPublisher VARCHAR(255), 
   PRIMARY KEY(ItemID),
   INDEX Items_FKIndex1(ItemTypeID),
   INDEX Items_FKIndex2(ItemPicturesID),



From nobody at sheep.berlios.de  Tue Apr 12 22:49:22 2005
From: nobody at sheep.berlios.de (mblaschke)
Date: Tue, 12 Apr 2005 22:49:22 +0200
Subject: [phpmediadb-cvs] phpmediadb-cvs/_source/tier.global class.phpmediadb_exception.php,1.5,1.6
Message-ID: <200504122049.j3CKnMm28240@bat.berlios.de>

Update of /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.global
In directory sheep:/tmp/cvs-serv14966/_source/tier.global

Modified Files:
	class.phpmediadb_exception.php 
Log Message:
* Changed colors of phpmediadb_exception::showError

Index: class.phpmediadb_exception.php
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.global/class.phpmediadb_exception.php,v
retrieving revision 1.5
retrieving revision 1.6
diff -u -d -r1.5 -r1.6
--- class.phpmediadb_exception.php	12 Apr 2005 18:53:12 -0000	1.5
+++ class.phpmediadb_exception.php	12 Apr 2005 20:49:19 -0000	1.6
@@ -66,8 +66,8 @@
 <!--
 	body { font-size:12px; font-family:monospace; }
 	h1 { font-size:18px; color:red; }
-	.phpmediadb-body-exception { background-color:#EEEEEE; border:1px dashed grey; margin-bottom:10px; padding:5px; }
-	.phpmediadb-body-exception-code { background-color:#FFFFCC; border:1px dotted grey; margin:10px; padding:5px; }
+	.phpmediadb-body-exception { background-color:#FFFFCC; border:1px dashed grey; margin-bottom:10px; padding:5px; }
+	.phpmediadb-body-exception-code { background-color:#FAFAFA; border:1px dotted grey; margin:10px; padding:5px; }
 	.phpmediadb-body-exception-copyright { text-align:right; }
 -->
 	</style>



From nobody at sheep.berlios.de  Tue Apr 12 22:53:28 2005
From: nobody at sheep.berlios.de (mblaschke)
Date: Tue, 12 Apr 2005 22:53:28 +0200
Subject: [phpmediadb-cvs] phpmediadb-cvs/_source/tier.configuration config.business.php,1.7,1.8
Message-ID: <200504122053.j3CKrSm28312@bat.berlios.de>

Update of /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.configuration
In directory sheep:/tmp/cvs-serv17561/_source/tier.configuration

Modified Files:
	config.business.php 
Log Message:
* Fixed check of ItemPublisher

Index: config.business.php
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.configuration/config.business.php,v
retrieving revision 1.7
retrieving revision 1.8
diff -u -d -r1.7 -r1.8
--- config.business.php	6 Apr 2005 13:58:55 -0000	1.7
+++ config.business.php	12 Apr 2005 20:53:26 -0000	1.8
@@ -24,7 +24,7 @@
 $phpMediaDbConfig['BUSINESS']['input-regex'][PHPMEDIADB_ITEM_AUDIO]['Categories']				= '^([[:digit:]]+)?$';
 $phpMediaDbConfig['BUSINESS']['input-regex'][PHPMEDIADB_ITEM_AUDIO]['ItemMediaSize']			= '^(([[:digit:]]+([[:punct:]]{1}[[:digit:]]+)))?$';
 $phpMediaDbConfig['BUSINESS']['input-regex'][PHPMEDIADB_ITEM_AUDIO]['MediaFormatID']			= '^([[:digit:]]+)?$';
-$phpMediaDbConfig['BUSINESS']['input-regex'][PHPMEDIADB_ITEM_AUDIO]['PublisherName']			= '^(.{1,255})?$';
+$phpMediaDbConfig['BUSINESS']['input-regex'][PHPMEDIADB_ITEM_AUDIO]['ItemPublisher']			= '^(.{1,255})?$';
 $phpMediaDbConfig['BUSINESS']['input-regex'][PHPMEDIADB_ITEM_AUDIO]['MediaAgeRestrictionID']	= '^([[:digit:]]+)?$';
 $phpMediaDbConfig['BUSINESS']['input-regex'][PHPMEDIADB_ITEM_AUDIO]['MediaCodecID']				= '^([[:digit:]]+)?$';
 $phpMediaDbConfig['BUSINESS']['input-regex'][PHPMEDIADB_ITEM_AUDIO]['ItemQuantity']				= '^(.{1,255})?$';
@@ -35,7 +35,7 @@
 $phpMediaDbConfig['BUSINESS']['input-size'][PHPMEDIADB_ITEM_AUDIO]['ItemIdentification']		= 255;
 $phpMediaDbConfig['BUSINESS']['input-size'][PHPMEDIADB_ITEM_AUDIO]['ItemReleaseDate']			= 4;
 $phpMediaDbConfig['BUSINESS']['input-size'][PHPMEDIADB_ITEM_AUDIO]['ItemMediaSize']				= 255;
-$phpMediaDbConfig['BUSINESS']['input-size'][PHPMEDIADB_ITEM_AUDIO]['PublisherName']				= 255;
+$phpMediaDbConfig['BUSINESS']['input-size'][PHPMEDIADB_ITEM_AUDIO]['ItemPublisher']				= 255;
 $phpMediaDbConfig['BUSINESS']['input-size'][PHPMEDIADB_ITEM_AUDIO]['ItemQuantity']				= 255;
 
 //--- EOF --- EOF --- EOF --- EOF --- EOF --- EOF --- EOF --- EOF --- EOF ---



From nobody at sheep.berlios.de  Tue Apr 12 22:53:40 2005
From: nobody at sheep.berlios.de (mblaschke)
Date: Tue, 12 Apr 2005 22:53:40 +0200
Subject: [phpmediadb-cvs] phpmediadb-cvs/_source/tier.configuration/templates body.item.audio.formular.tpl,1.6,1.7
Message-ID: <200504122053.j3CKrem28323@bat.berlios.de>

Update of /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.configuration/templates
In directory sheep:/tmp/cvs-serv17582/_source/tier.configuration/templates

Modified Files:
	body.item.audio.formular.tpl 
Log Message:
* Fixed ItemPublisher

Index: body.item.audio.formular.tpl
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.configuration/templates/body.item.audio.formular.tpl,v
retrieving revision 1.6
retrieving revision 1.7
diff -u -d -r1.6 -r1.7
--- body.item.audio.formular.tpl	12 Apr 2005 18:54:29 -0000	1.6
+++ body.item.audio.formular.tpl	12 Apr 2005 20:53:37 -0000	1.7
@@ -103,7 +103,7 @@
 	<tr>
 		<td>{$I18N.MEDIA_PUBLISHER|default:"%MEDIA_PUBLISHER%"}</td>
 		<td>
-			<input type="text" name="itemdata[PublisherName]" maxlength="{$INPUTSIZE.PublisherName|default:"255"}" value="{$ITEMDATA.PublisherName}" />
+			<input type="text" name="itemdata[ItemPublisher]" maxlength="{$INPUTSIZE.ItemPublisher|default:"255"}" value="{$ITEMDATA.ItemPublisher}" />
 			{if $INPUTERROR.flag.PublisherName eq "1" }<span class="phpmediadb-body-inputerror">{$I18N.ERROR_FLAG|default:"*"}</span>{/if}
 		</td>
 	</tr>



From nobody at sheep.berlios.de  Tue Apr 12 22:53:53 2005
From: nobody at sheep.berlios.de (mblaschke)
Date: Tue, 12 Apr 2005 22:53:53 +0200
Subject: [phpmediadb-cvs] phpmediadb-cvs/_source/tier.business class.phpmediadb_business_audios.php,1.7,1.8
Message-ID: <200504122053.j3CKrrm28328@bat.berlios.de>

Update of /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.business
In directory sheep:/tmp/cvs-serv17590/_source/tier.business

Modified Files:
	class.phpmediadb_business_audios.php 
Log Message:


Index: class.phpmediadb_business_audios.php
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.business/class.phpmediadb_business_audios.php,v
retrieving revision 1.7
retrieving revision 1.8
diff -u -d -r1.7 -r1.8
--- class.phpmediadb_business_audios.php	10 Apr 2005 01:34:45 -0000	1.7
+++ class.phpmediadb_business_audios.php	12 Apr 2005 20:53:51 -0000	1.8
@@ -88,6 +88,7 @@
 		$returnValue['MediaAgeRestrictionID']	= '';
 		$returnValue['MediaCodecID']			= '';
 		$returnValue['ItemQuantity']			= '';
+		$returnValue['ItemPublisher']			= '';
 		$returnValue['ItemCreationDate']		= NULL;
 		$returnValue['ItemModificationDate']	= NULL;
 			



From nobody at sheep.berlios.de  Wed Apr 13 13:42:41 2005
From: nobody at sheep.berlios.de (bruf)
Date: Wed, 13 Apr 2005 13:42:41 +0200
Subject: [phpmediadb-cvs] phpmediadb-cvs/install create-tables.sql,1.5,1.6
Message-ID: <200504131142.j3DBgfm20761@bat.berlios.de>

Update of /cvsroot/phpmediadb/phpmediadb-cvs/install
In directory sheep:/tmp/cvs-serv5939/install

Modified Files:
	create-tables.sql 
Log Message:
* Removed table

Index: create-tables.sql
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/install/create-tables.sql,v
retrieving revision 1.5
retrieving revision 1.6
diff -u -d -r1.5 -r1.6
--- create-tables.sql	12 Apr 2005 20:48:46 -0000	1.5
+++ create-tables.sql	13 Apr 2005 11:42:33 -0000	1.6
@@ -37,16 +37,16 @@
   MediaFormatID INTEGER UNSIGNED,
   ItemPicturesID INTEGER UNSIGNED,
   ItemTitle VARCHAR(255),
-  ItemOriginalTitle VARCHAR(255),
-  ItemReleaseDate VARCHAR(255),
-  ItemMediaName VARCHAR(255),
+  ItemOriginalTitle VARCHAR(255) NOT NULL,
+  ItemReleaseDate VARCHAR(255) NOT NULL,
+  ItemMediaName VARCHAR(255) NOT NULL,
   ItemCreationDate TIMESTAMP,
   ItemModificationDate TIMESTAMP,
-  ItemComment BLOB,
-  ItemQuantity VARCHAR(255),
-  ItemIdentifier VARCHAR(255),
+  ItemComment BLOB NOT NULL,
+  ItemQuantity VARCHAR(255) NOT NULL,
+  ItemIdentifier VARCHAR(255) NOT NULL,
   ItemTypeID INTEGER UNSIGNED NOT NULL,
-  ItemPublisher VARCHAR(255), 
+  ItemPublisher VARCHAR(255) NOT NULL, 
   PRIMARY KEY(ItemID),
   INDEX Items_FKIndex1(ItemTypeID),
   INDEX Items_FKIndex2(ItemPicturesID),



From nobody at sheep.berlios.de  Wed Apr 13 13:43:21 2005
From: nobody at sheep.berlios.de (bruf)
Date: Wed, 13 Apr 2005 13:43:21 +0200
Subject: [phpmediadb-cvs] phpmediadb-cvs/install insert-data.sql,1.6,1.7
Message-ID: <200504131143.j3DBhLm20783@bat.berlios.de>

Update of /cvsroot/phpmediadb/phpmediadb-cvs/install
In directory sheep:/tmp/cvs-serv6675/install

Modified Files:
	insert-data.sql 
Log Message:
* Updated some insert data

Index: insert-data.sql
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/install/insert-data.sql,v
retrieving revision 1.6
retrieving revision 1.7
diff -u -d -r1.6 -r1.7
--- insert-data.sql	12 Apr 2005 20:16:58 -0000	1.6
+++ insert-data.sql	13 Apr 2005 11:43:17 -0000	1.7
@@ -44,7 +44,7 @@
 (35, 1, 'Category_Acid'),
 (36, 1, 'Category_House'),
 (37, 1, 'Category_Game'),
-(38, 1, 'Category_Sound_Clip'),
+(38, 1, 'Category_Sound-Clip'),
 (39, 1, 'Category_Gospel'),
 (40, 1, 'Category_Noise'),
 (41, 1, 'Category_AlternRock'),
@@ -63,7 +63,7 @@
 (54, 1, 'Category_Pop-Folk'),
 (55, 1, 'Category_Eurodance'),
 (56, 1, 'Category_Dream'),
-(57, 1, 'Category_Southern_Rock'),
+(57, 1, 'Category_Southern-Rock'),
 (58, 1, 'Category_Comedy'),
 (59, 1, 'Category_Cult'),
 (60, 1, 'Category_Gangsta'),



From nobody at sheep.berlios.de  Wed Apr 13 13:46:26 2005
From: nobody at sheep.berlios.de (bruf)
Date: Wed, 13 Apr 2005 13:46:26 +0200
Subject: [phpmediadb-cvs] phpmediadb-cvs/admin item-del.php,1.3,1.4
Message-ID: <200504131146.j3DBkQm20849@bat.berlios.de>

Update of /cvsroot/phpmediadb/phpmediadb-cvs/admin
In directory sheep:/tmp/cvs-serv7000/admin

Modified Files:
	item-del.php 
Log Message:
* Adapted methods from the data layer to the buisness layer

Index: item-del.php
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/admin/item-del.php,v
retrieving revision 1.3
retrieving revision 1.4
diff -u -d -r1.3 -r1.4
--- item-del.php	12 Apr 2005 18:57:40 -0000	1.3
+++ item-del.php	13 Apr 2005 11:46:19 -0000	1.4
@@ -20,7 +20,7 @@
 function itemdel_deleteItem( $itemId )
 {
 	global $PHPMEDIADB;
-	$status = $PHPMEDIADB->DATA->ITEMS->delete( $itemId );
+	$status = $PHPMEDIADB->BUSINESS->ITEMS->delete( $itemId );
 	
 	if( true === $status )
 	{
@@ -88,7 +88,7 @@
 	}
 	
 	/* check if item exists */
-	if( !$PHPMEDIADB->DATA->ITEMS->exists( $returnValue ) )
+	if( !$PHPMEDIADB->BUSINESS->ITEMS->exists( $returnValue ) )
 	{
 		/* %MESSAGE_ITEM_NOTEXISTENT% */
 		$message = $PHPMEDIADB->PRESENTATION->I18N->translate( 'MESSAGE_ITEM_NOTEXISTENT' );



From nobody at sheep.berlios.de  Wed Apr 13 13:46:36 2005
From: nobody at sheep.berlios.de (bruf)
Date: Wed, 13 Apr 2005 13:46:36 +0200
Subject: [phpmediadb-cvs] phpmediadb-cvs/admin item-mod.php,1.2,1.3
Message-ID: <200504131146.j3DBkam20859@bat.berlios.de>

Update of /cvsroot/phpmediadb/phpmediadb-cvs/admin
In directory sheep:/tmp/cvs-serv7035/admin

Modified Files:
	item-mod.php 
Log Message:
* Adapted methods from the data layer to the buisness layer

Index: item-mod.php
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/admin/item-mod.php,v
retrieving revision 1.2
retrieving revision 1.3
diff -u -d -r1.2 -r1.3
--- item-mod.php	24 Mar 2005 17:12:17 -0000	1.2
+++ item-mod.php	13 Apr 2005 11:46:33 -0000	1.3
@@ -13,5 +13,53 @@
 /* include main phpmediadb-project */
 require_once( '../_source/phpmediadb.php' );
 
+/* create object */
+$PHPMEDIADB	= new phpmediadb(); 
+
+//-----------------------------------------------------------------------------
+function itemmod_getItemId()
+{
+	/* init */
+	global $PHPMEDIADB;
+	$itemID = $_GET['itemid'];
+
+	/* check if itemid is numerical/valid */
+	if( !is_numeric( $itemID ) )
+	{
+		/* %MESSAGE_ITEMID_NOTNUMERICAL% */
+		$message = $PHPMEDIADB->PRESENTATION->I18N->translate( 'MESSAGE_ITEMID_NOTNUMERICAL' );
+		@$PHPMEDIADB->PRESENTATION->CONTENTVARS->addNode( 'MESSAGE.BODY', $message  );
+		$PHPMEDIADB->PRESENTATION->HTMLSERVICE->displayMain( 'body.message.tpl' );
+		die();
+	}
+	
+	/* check if item exists */
+	if( !$PHPMEDIADB->BUSINESS->ITEMS->exists( $itemID ) )
+	{
+		/* %MESSAGE_ITEM_NOTEXISTENT% */
+		$message = $PHPMEDIADB->PRESENTATION->I18N->translate( 'MESSAGE_ITEM_NOTEXISTENT' );
+		@$PHPMEDIADB->PRESENTATION->CONTENTVARS->addNode( 'MESSAGE.BODY', $message  );
+		$PHPMEDIADB->PRESENTATION->HTMLSERVICE->displayMain( 'body.message.tpl' );
+		die();		
+	}
+	 
+	return $itemID;	
+}
+//-----------------------------------------------------------------------------
+
+/* get itemdata */
+$itemId	= itemmod_getItemId();
+$data	= $PHPMEDIADB->BUSINESS->ITEMS->get( $itemId );
+	
+/* create session-item */
+$sessionItem = array();
+$sessionItem['type'] = $data['itemtypeid'];
+$sessionItem['id']	 = $data['itemid'];
+$sessionItem['data'] = $data;
+$PHPMEDIADB->PRESENTATION->SESSION->register( 'sessionitem' ,$sessionItem );
+
+/* redirect */
+header( 'Location: item-session.php' );
+	
 //--- EOF --- EOF --- EOF --- EOF --- EOF --- EOF --- EOF --- EOF --- EOF ---
 ?>



From nobody at sheep.berlios.de  Wed Apr 13 13:46:45 2005
From: nobody at sheep.berlios.de (bruf)
Date: Wed, 13 Apr 2005 13:46:45 +0200
Subject: [phpmediadb-cvs] phpmediadb-cvs/admin item-session.php,1.11,1.12
Message-ID: <200504131146.j3DBkjm20866@bat.berlios.de>

Update of /cvsroot/phpmediadb/phpmediadb-cvs/admin
In directory sheep:/tmp/cvs-serv7083/admin

Modified Files:
	item-session.php 
Log Message:
* Adapted methods from the data layer to the buisness layer

Index: item-session.php
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/admin/item-session.php,v
retrieving revision 1.11
retrieving revision 1.12
diff -u -d -r1.11 -r1.12
--- item-session.php	12 Apr 2005 18:58:13 -0000	1.11
+++ item-session.php	13 Apr 2005 11:46:43 -0000	1.12
@@ -30,13 +30,13 @@
 	$formats			= $PHPMEDIADB->BUSINESS->FORMATS->getListByItemType( $sessionItem['type'] );
 	$ageRestrictions	= $PHPMEDIADB->BUSINESS->AGERESTRICTIONS->getList();
 	$codecs				= $PHPMEDIADB->BUSINESS->CODECS->getListByItemType( $sessionItem['type'] );
-	
+
 	/* translate data */
 	$categories			= $PHPMEDIADB->BUSINESS->CATEGORIES->translate( $categories );
 	$formats			= $PHPMEDIADB->BUSINESS->FORMATS->translate( $formats );
 	$ageRestrictions	= $PHPMEDIADB->BUSINESS->AGERESTRICTIONS->translate( $ageRestrictions );
 	$codecs				= $PHPMEDIADB->BUSINESS->CODECS->translate( $codecs );
-
+	
 	/* assign database-vars */
 	@$PHPMEDIADB->PRESENTATION->CONTENTVARS->addNode( 'DATA.CATEGORIES', $categories );
 	@$PHPMEDIADB->PRESENTATION->CONTENTVARS->addNode( 'DATA.MEDIAFORMATS', $formats );
@@ -179,6 +179,7 @@
 //-----------------------------------------------------------------------------
 
 $sessionItem = itemsession_itemGet();
+
 if( isset( $_POST['buttonsave'] ) )
 {
 	/* set itemdata to sessionItem */



From nobody at sheep.berlios.de  Wed Apr 13 13:48:15 2005
From: nobody at sheep.berlios.de (bruf)
Date: Wed, 13 Apr 2005 13:48:15 +0200
Subject: [phpmediadb-cvs] phpmediadb-cvs/_source/tier.business class.phpmediadb_business_audios.php,1.8,1.9
Message-ID: <200504131148.j3DBmFm20892@bat.berlios.de>

Update of /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.business
In directory sheep:/tmp/cvs-serv7168/_source/tier.business

Modified Files:
	class.phpmediadb_business_audios.php 
Log Message:
* Fixed syntax mistaces
* Adapted to the reworked data methods

Index: class.phpmediadb_business_audios.php
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.business/class.phpmediadb_business_audios.php,v
retrieving revision 1.8
retrieving revision 1.9
diff -u -d -r1.8 -r1.9
--- class.phpmediadb_business_audios.php	12 Apr 2005 20:53:51 -0000	1.8
+++ class.phpmediadb_business_audios.php	13 Apr 2005 11:48:11 -0000	1.9
@@ -152,9 +152,9 @@
 		$itemId = $this->DATA->AUDIOS->create( $data );
 		
 		/* link item with categories */
-		if( is_array( $data['Categories'] ) )
+		if( is_array( $data['categories'] ) )
 		{
-			foreach( $data['Categories'] as $categoryId )
+			foreach( $data['categories'] as $categoryId )
 				$this->BUSINESS->CATEGORIES->addLink( $itemId, $categoryId );
 		}
 
@@ -179,6 +179,17 @@
 		
 		/* delegate */
 		$returnValue = $this->DATA->AUDIOS->modify( $id, $data );
+		
+		/* delete categorylinks */
+		$this->BUSINESS->CATEGORIES->removeAllLinks( $id );
+		
+		/* reassign new categories */
+		if( is_array( $data['categories'] ) )
+		{
+			foreach( $data['categories'] as $categoryId )
+				$this->BUSINESS->CATEGORIES->addLink( $id, $categoryId );
+		}
+
 		
 		/* return data */
 		return $returnValue;



From nobody at sheep.berlios.de  Wed Apr 13 13:48:32 2005
From: nobody at sheep.berlios.de (bruf)
Date: Wed, 13 Apr 2005 13:48:32 +0200
Subject: [phpmediadb-cvs] phpmediadb-cvs/_source/tier.business class.phpmediadb_business_categories.php,1.8,1.9
Message-ID: <200504131148.j3DBmWm20901@bat.berlios.de>

Update of /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.business
In directory sheep:/tmp/cvs-serv7215/_source/tier.business

Modified Files:
	class.phpmediadb_business_categories.php 
Log Message:
* Fixed syntax mistaces
* Adapted to the reworked data methods

Index: class.phpmediadb_business_categories.php
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.business/class.phpmediadb_business_categories.php,v
retrieving revision 1.8
retrieving revision 1.9
diff -u -d -r1.8 -r1.9
--- class.phpmediadb_business_categories.php	9 Apr 2005 19:13:10 -0000	1.8
+++ class.phpmediadb_business_categories.php	13 Apr 2005 11:48:29 -0000	1.9
@@ -212,9 +212,13 @@
 	 */
 	public function translate( $data )
 	{	
+
 		/* translate database data */
-		foreach( $data as $key => $value )
-			$data[$key]['categoryname'] = $this->PHPMEDIADB->PRESENTATION->I18N->translate( $data[$key]['categoryname'] );
+		if( is_array( $data ) )
+		{
+			foreach( $data as $key => $value )
+				$data[$key]['categoryname'] = $this->PHPMEDIADB->PRESENTATION->I18N->translate( $data[$key]['categoryname'] );
+		}
 		
 		/* return data */
 		return $data;
@@ -230,8 +234,14 @@
 	 */
 	public function addLink( $itemId, $categoryId )
 	{
+		/* init */
+		$returnValue = false;
+		
 		/* delegate */
 		$returnValue = $this->DATA->CATEGORIES->addLink( $itemId, $categoryId );
+		
+		/* return data */
+		return $returnValue;
 	}
 
 //-----------------------------------------------------------------------------
@@ -243,8 +253,33 @@
 	 */
 	public function removeAllLinks( $itemId )
 	{
+		/* init */
+		$returnValue = false;
+		
 		/* delegate */
 		$returnValue = $this->DATA->CATEGORIES->removeAllLinks( $itemId );
+		
+		/* return data */
+		return $returnValue;
+	}
+//-----------------------------------------------------------------------------
+	/**
+	 * This function returns the list of  the parameters ItemID and CategoryID
+	 * from the table Categories_has_Items
+	 *
+	 * @access public
+	 * @param Integer $itemId contains specified id for the sql statement
+	 */
+	public function getLinkList( $itemId )
+	{
+		/* init */
+		$returnValue = false;
+		
+		/* delegate */
+		$returnValue = $this->DATA->CATEGORIES->getLinkList( $itemId );
+		
+		/* return data */
+		return $returnValue;		
 	}
 	
 //-----------------------------------------------------------------------------



From nobody at sheep.berlios.de  Wed Apr 13 13:48:45 2005
From: nobody at sheep.berlios.de (bruf)
Date: Wed, 13 Apr 2005 13:48:45 +0200
Subject: [phpmediadb-cvs] phpmediadb-cvs/_source/tier.business class.phpmediadb_business.php,1.9,1.10
Message-ID: <200504131148.j3DBmjm20905@bat.berlios.de>

Update of /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.business
In directory sheep:/tmp/cvs-serv7268/_source/tier.business

Modified Files:
	class.phpmediadb_business.php 
Log Message:
* Fixed syntax mistaces
* Adapted to the reworked data methods

Index: class.phpmediadb_business.php
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.business/class.phpmediadb_business.php,v
retrieving revision 1.9
retrieving revision 1.10
diff -u -d -r1.9 -r1.10
--- class.phpmediadb_business.php	24 Mar 2005 17:13:26 -0000	1.9
+++ class.phpmediadb_business.php	13 Apr 2005 11:48:41 -0000	1.10
@@ -71,6 +71,15 @@
 	public $FORMATS = null;
 	
 	/**
+	 * Reference to class phpmediadb_data_items
+	 *
+	 * @access public
+	 * @see phpmediadb_data_formats
+	 * @var phpmediadb_data_formats
+	 */
+	public $ITEMS = null;
+	
+	/**
 	 * Reference to class phpmediadb_business_inspector
 	 *
 	 * @access public
@@ -131,6 +140,7 @@
 		$this->CATEGORIES		= new phpmediadb_business_categories( $this );
 		$this->CODECS			= new phpmediadb_business_codecs( $this );
 		$this->FORMATS			= new phpmediadb_business_formats( $this );
+		$this->ITEMS			= new phpmediadb_business_items( $this );
 		$this->INSPECTOR		= new phpmediadb_business_inspector( $this );
 		$this->PRINTS			= new phpmediadb_business_prints( $this );
 		$this->VIDEOS			= new phpmediadb_business_prints( $this );



From nobody at sheep.berlios.de  Wed Apr 13 13:49:54 2005
From: nobody at sheep.berlios.de (bruf)
Date: Wed, 13 Apr 2005 13:49:54 +0200
Subject: [phpmediadb-cvs] phpmediadb-cvs/_source/tier.business class.phpmediadb_business_items.php,NONE,1.1
Message-ID: <200504131149.j3DBnsm20928@bat.berlios.de>

Update of /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.business
In directory sheep:/tmp/cvs-serv7422/_source/tier.business

Added Files:
	class.phpmediadb_business_items.php 
Log Message:
* Initial revision
* Fixed syntax mistaces
* Adapted to the reworked data methods

--- NEW FILE: class.phpmediadb_business_items.php ---
<?php
// phpMediaDB :: Licensed under GNU-GPL :: http://phpmediadb.berlios.de/
/* $Id: class.phpmediadb_business_items.php,v 1.1 2005/04/13 11:49:51 bruf Exp $ */

/**
 * This is the class that manages all database activities for the items
 *
 * @author		Markus Blaschke <mblaschke at users.berlios.de>
 * @version		$Revision: 1.1 $
 * @package		phpmediadb
 * @subpackage	business
 */
class phpmediadb_business_items
{
	// --- ATTRIBUTES ---

	/**
	 * Reference to class phpmediadb
	 *
	 * @access protected
	 * @see phpmediadb
	 * @var phpmediadb
	 */
	protected $PHPMEDIADB = null;

	/**
	 * Reference to class phpmediadb_business
	 *
	 * @access protected
	 * @see phpmediadb_business
	 * @var phpmediadb_business
	 */
	protected $BUSINESS = null;
	
	/**
	 * Reference to class phpmediadb_data
	 *
	 * @access protected
	 * @see phpmediadb_data
	 * @var phpmediadb_data
	 */
	protected $DATA = null;
	
	// --- OPERATIONS ---
//-----------------------------------------------------------------------------
	/**
	 * The constructor __construct initalizes the Class.
	 *
	 * @access public
	 * @author phpMediaDB Team - http://phpmediadb.berlios.de/
	 * @param phpmediadb_business $sender Reference to parent class
	 */
	public function __construct( $sender )
	{
		/* init */
    	 
		/* assign parent */
		$this->BUSINESS		= $sender;
		$this->PHPMEDIADB	= $sender->PHPMEDIADB;
		$this->DATA			= $sender->PHPMEDIADB->DATA;
	}
  
//-----------------------------------------------------------------------------
	/**
	 * The destructor __destruct is responsible for closing all open files,
	 * etc.
	 *
	 * @access public
	 */
	public function __destruct()
	{
		/* nothing to do yet */
	}
//-----------------------------------------------------------------------------
	/**
	 * This function returns a specified record from the table AudioDatas
	 * and all required data from the other tables
	 *
	 * @access public
	 * @param Integer $id contains specified id for the sql statement
	 * @return array returns the results of database query
	 */
	public function get( $id )
	{
		/* init */
		$returnValue = NULL;
		
		/* get item */
		$returnValue = $this->DATA->ITEMS->get( $id );
		
		/* only first item */
		$returnValue = $returnValue[0];
		
		/* get categories */
		$categories = $this->BUSINESS->CATEGORIES->getLinkList( $returnValue['itemid'] ); 
		
		/* assign category-ids */
		if( is_array( $categories ) )
		{
			foreach( $categories as $key => $value )
				$returnValue['categories'][] = $value['categoryid'];
		}

			
		/* return value */
		return $returnValue;
	}

//-----------------------------------------------------------------------------
	/**
	 * This function returns all records from the table AudioDatas
	 * and all required data from the other tables
	 *
	 * @access public
	 * @param integer $itemType Type of item
	 * @return array returns the results of database query
	 */
	public function getList( $itemType )
	{
		/* init */
		$returnValue = NULL;
		
		/* delegate */
		$returnValue = $this->DATA->ITEMS->getList( $itemType );
		
		/* return value */
		return $returnValue;
	}
	
//-----------------------------------------------------------------------------
/**
	 * This function creates a new record in the table AudioDatas
	 * and all required data in the other tables
	 *
	 * @access public
	 * @param array $data contains all required data for the sql statement
	 * @param integer $itemType Type of item
	 * @return Integer returns id from the last created record
	 */
	public function create( $data, $itemType )
	{
		/* init */
		$returnValue = NULL;

		/* delegate */
		$returnValue = $this->DATA->ITEMS->create( $data, $itemType );
		
		/* return value */
		return $returnValue;
	}
	
//-----------------------------------------------------------------------------
	/**
	 * This function modifies a specified record from the table AudioDatas
	 * and all required data from the other tables
	 *
	 * @access public
	 * @param Integer $id contains specified id for the sql statement
	 * @param array $data contains all required data for the sql statement
	 * @return bool Status of transaction
	 */
	public function modify( $id, $data )
	{
		/* init */
		$returnValue = NULL;
		
		/* delegate */
		$returnValue = $this->DATA->ITEMS->modify( $id, $data );
		
		/* return value */
		return $returnValue;
	}
	
//-----------------------------------------------------------------------------
	/**
	 * This function deletes a specified record from the table AudioDatas
	 * and all depending data from the other tables
	 *
	 * @access public
	 * @param Integer $id contains specified id for the sql statement
	 * @return bool Status of transaction
	 */
	public function delete( $id )
	{
		/* init */
		$returnValue = NULL;
		
		/* delegate */
		$returnValue = $this->DATA->ITEMS->delete( $id );
		
		/* return value */
		return $returnValue;
	}
	
//-----------------------------------------------------------------------------
	/**
	 * This function returns true when the record exists
	 * and false when the record doesn't exist
	 *
	 * @access public
	 * @param Integer $itemId contains specified id for the sql statement
	 * @return Bool returns whether the specified record exists
	 */
	public function exists( $itemId )
	{
		/* init */
		$returnValue = false;
		
		/* delegate */
		$returnValue = $this->DATA->ITEMS->exists( $itemId );
		
		return $returnValue;
	}
	
//-----------------------------------------------------------------------------
	/**
	 * This function returns the ItemType from a specified ItemID
	 *
	 * @access public
	 * @param Integer $id contains specified id for the sql statement
	 * @return integer returns the results of database query
	 */
	public function getItemType( $id )
	{
		/* init */
		$returnValue = false;
		
		/* delegate */
		$returnValue = $this->DATA->ITEMS->getItemType( $id );
		
		return $returnValue;
	}

//-----------------------------------------------------------------------------
} /* end of class phpmediadb_business_items */
//--- EOF --- EOF --- EOF --- EOF --- EOF --- EOF --- EOF --- EOF --- EOF ---
?>


From nobody at sheep.berlios.de  Wed Apr 13 13:50:18 2005
From: nobody at sheep.berlios.de (bruf)
Date: Wed, 13 Apr 2005 13:50:18 +0200
Subject: [phpmediadb-cvs] phpmediadb-cvs/_source/tier.configuration/i18n i18n.de.php,1.6,1.7
Message-ID: <200504131150.j3DBoIm20936@bat.berlios.de>

Update of /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.configuration/i18n
In directory sheep:/tmp/cvs-serv7789/_source/tier.configuration/i18n

Modified Files:
	i18n.de.php 
Log Message:
* Added some translations
* Fixed some translations

Index: i18n.de.php
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.configuration/i18n/i18n.de.php,v
retrieving revision 1.6
retrieving revision 1.7
diff -u -d -r1.6 -r1.7
--- i18n.de.php	12 Apr 2005 10:17:06 -0000	1.6
+++ i18n.de.php	13 Apr 2005 11:50:15 -0000	1.7
@@ -103,7 +103,7 @@
 /* Categories */
 
 	$i18n['Category_Blues']							= 'Blues';
-	$i18n['Category_Classic Rock']					= 'Klassischer Rock';
+	$i18n['Category_Classic-Rock']					= 'Klassischer Rock';
 	$i18n['Category_Country']						= 'Country';
 	$i18n['Category_Dance']							= 'Dance';
 	$i18n['Category_Disco']							= 'Disco';
@@ -112,7 +112,7 @@
 	$i18n['Category_Hip-Hop']						= 'Hip-Hop';
 	$i18n['Category_Jazz']							= 'Jazz';
 	$i18n['Category_Metal']							= 'Metal';
-	$i18n['Category_New Age']						= 'New Age';
+	$i18n['Category_New-Age']						= 'New Age';
 	$i18n['Category_Oldies']						= 'Oldies';
 	$i18n['Category_Other']							= 'Andere';
 	$i18n['Category_Pop']							= 'Pop';
@@ -124,7 +124,7 @@
 	$i18n['Category_Industrial']					= 'Industrial';
 	$i18n['Category_Alternative']					= 'Alternative';
 //	$i18n['Category_Ska']							= 'Ska';
-	$i18n['Category_Death Metal']					= 'Death Metal';
+	$i18n['Category_Death-Metal']					= 'Death Metal';
 	$i18n['Category_Pranks']						= 'Pranks';
 	$i18n['Category_Soundtrack']					= 'Soundtrack';
 	$i18n['Category_Euro-Techno']					= 'Euro-Techno';
@@ -139,7 +139,7 @@
 	$i18n['Category_Acid']							= 'Acid';
 	$i18n['Category_House']							= 'House';
 	$i18n['Category_Game']							= 'Game';
-	$i18n['Category_Sound Clip']					= 'Sound Clip';
+	$i18n['Category_Sound-Clip']					= 'Sound Clip';
 	$i18n['Category_Gospel']						= 'Gospel';
 	$i18n['Category_Noise']							= 'Noise';
 	$i18n['Category_AlternRock']					= 'AlternRock';
@@ -148,8 +148,8 @@
 	$i18n['Category_Punk']							= 'Punk';
 	$i18n['Category_Space']							= 'Space';
 	$i18n['Category_Meditative']					= 'Meditativ';
-	$i18n['Category_Instrumental Pop']				= 'Instrumental Pop';
-	$i18n['Category_Instrumental Rock']				= 'Instrumental Rock';
+	$i18n['Category_Instrumental-Pop']				= 'Instrumental Pop';
+	$i18n['Category_Instrumental-Rock']				= 'Instrumental Rock';
 	$i18n['Category_Ethnic']						= 'Ethnic';
 	$i18n['Category_Gothic']						= 'Gothic';
 	$i18n['Category_Darkwave']						= 'Darkwave';
@@ -158,15 +158,15 @@
 	$i18n['Category_Pop-Folk']						= 'Pop-Folk';
 	$i18n['Category_Eurodance']						= 'Eurodance';
 	$i18n['Category_Dream']							= 'Dream';
-	$i18n['Category_Southern Rock']					= 'S?dl?ndischer Rock';
+	$i18n['Category_Southern-Rock']					= 'S?dl?ndischer Rock';
 	$i18n['Category_Comedy']						= 'Comedy';
 	$i18n['Category_Cult']							= 'Kult';
 	$i18n['Category_Gangsta']						= 'Gangsta';
-	$i18n['Category_Top 40']						= 'Top 40';
-//	$i18n['Category_Christian Rap']					= 'Christian Rap';
+	$i18n['Category_Top-40']						= 'Top 40';
+//	$i18n['Category_Christian-Rap']					= 'Christian Rap';
 	$i18n['Category_Pop/Funk']						= 'Pop/Funk';
 	$i18n['Category_Jungle']						= 'Jungle';
-	$i18n['Category_Native American']				= 'Native American';
+	$i18n['Category_Native-American']				= 'Native American';
 	$i18n['Category_Cabaret']						= 'Cabaret';
 	$i18n['Category_New Wave']						= 'New Wave';
 	$i18n['Category_Psychadelic']					= 'Psychadelic';
@@ -175,78 +175,78 @@
 	$i18n['Category_Trailer']						= 'Trailer';
 	$i18n['Category_Lo-Fi']							= 'Lo-Fi';
 	$i18n['Category_Tribal']						= 'Tribal';
-	$i18n['Category_Acid Punk']						= 'Acid Punk';
-	$i18n['Category_Acid Jazz']						= 'Acid Jazz';
+	$i18n['Category_Acid-Punk']						= 'Acid Punk';
+	$i18n['Category_Acid-Jazz']						= 'Acid Jazz';
 	$i18n['Category_Polka']							= 'Polka';
 	$i18n['Category_Retro']							= 'Retro';
 	$i18n['Category_Musical']						= 'Musical';
-	$i18n['Category_Rock & Roll']					= 'Rock & Roll';
-	$i18n['Category_Hard Rock']						= 'Hard Rock';
+	$i18n['Category_Rock&Roll']						= 'Rock & Roll';
+	$i18n['Category_Hard-Rock']						= 'Hard Rock';
 	$i18n['Category_Folk']							= 'Folk';
 	$i18n['Category_Folk-Rock']						= 'Folk-Rock';
-	$i18n['Category_National Folk']					= 'National Folk';
+	$i18n['Category_National-Folk']					= 'National Folk';
 	$i18n['Category_Swing']							= 'Swing';
-	$i18n['Category_Fast Fusion']					= 'Fast Fusion';
+	$i18n['Category_Fast-Fusion']					= 'Fast Fusion';
 	$i18n['Category_Bebob']							= 'Bebob';
 	$i18n['Category_Latin']							= 'Latin';
 	$i18n['Category_Revival']						= 'Revival';
 	$i18n['Category_Celtic']						= 'Celtic';
 	$i18n['Category_Bluegrass']						= 'Bluegrass';
 	$i18n['Category_Avantgarde']					= 'Avantgarde';
-	$i18n['Category_Gothic Rock']					= 'Gothic Rock';
-	$i18n['Category_Progressive Rock']				= 'Progressive Rock';
-	$i18n['Category_Psychedelic Rock']				= 'Psychedelic Rock';
-	$i18n['Category_Symphonic Rock']				= 'Symphonic Rock';
-	$i18n['Category_Slow Rock']						= 'Slow Rock';
-	$i18n['Category_Big Band']						= 'Big Band';
+	$i18n['Category_Gothic-Rock']					= 'Gothic Rock';
+	$i18n['Category_Progressive-Rock']				= 'Progressive Rock';
+	$i18n['Category_Psychedelic-Rock']				= 'Psychedelic Rock';
+	$i18n['Category_Symphonic-Rock']				= 'Symphonic Rock';
+	$i18n['Category_Slow-Rock']						= 'Slow Rock';
+	$i18n['Category_Big-Band']						= 'Big Band';
 	$i18n['Category_Chorus']						= 'Chorus';
-	$i18n['Category_Easy Listening']				= 'Easy Listening';
+	$i18n['Category_Easy-Listening']				= 'Easy Listening';
 	$i18n['Category_Acoustic']						= 'Akustisch';
 	$i18n['Category_Humour']						= 'Humor';
 	$i18n['Category_Speech']						= 'Sprache';
 	$i18n['Category_Chanson']						= 'Chanson';
 	$i18n['Category_Opera']							= 'Oper';
-	$i18n['Category_Chamber Music']					= 'Kammermusik';
+	$i18n['Category_Chamber-Music']					= 'Kammermusik';
 	$i18n['Category_Sonata']						= 'Sonate';
 	$i18n['Category_Symphony']						= 'Symphonie';
-	$i18n['Category_Booty Bass']					= 'Booty Bass';
+	$i18n['Category_Booty-Bass']					= 'Booty Bass';
 	$i18n['Category_Primus']						= 'Priums';
-//	$i18n['Category_Porn Groove']					= 'Porn Groove';
+//	$i18n['Category_Porn-Groove']					= 'Porn Groove';
 	$i18n['Category_Satire']						= 'Satire';
-	$i18n['Category_Slow Jam']						= 'Slow Jam';
+	$i18n['Category_Slow-Jam']						= 'Slow Jam';
 	$i18n['Category_Club']							= 'Club';
 	$i18n['Category_Tango']							= 'Tango';
 	$i18n['Category_Samba']							= 'Samba';
 	$i18n['Category_Folklore']						= 'Folklore';
 	$i18n['Category_Ballad']						= 'Ballade';
-	$i18n['Category_Power Ballad']					= 'Power Ballade';
-	$i18n['Category_Rhythmic Soul']					= 'Rhythmischer Soul';
+	$i18n['Category_Power-Ballad']					= 'Power Ballade';
+	$i18n['Category_Rhythmic-Soul']					= 'Rhythmischer Soul';
 	$i18n['Category_Freestyle']						= 'Freestyle';
 	$i18n['Category_Duet']							= 'Duett';
-	$i18n['Category_Punk Rock']						= 'Punk Rock';
-	$i18n['Category_Drum Solo']						= 'Drum Solo';
+	$i18n['Category_Punk-Rock']						= 'Punk Rock';
+	$i18n['Category_Drum-Solo']						= 'Drum Solo';
 	$i18n['Category_Acapella']						= 'Acapella';
 	$i18n['Category_Euro-House']					= 'Euro-House';
-	$i18n['Category_Dance Hall']					= 'Dance Hall';
-//	$i18n['Category_Goa']							= 'Goa';
-	$i18n['Category_Drum & Bass']					= 'Drum & Bass';
+	$i18n['Category_Dance-Hall']					= 'Dance Hall';
+	$i18n['Category_Goa']							= 'Goa';
+	$i18n['Category_Drum&Bass']						= 'Drum & Bass';
 	$i18n['Category_Club-House']					= 'Club-House';
 	$i18n['Category_Hardcore']						= 'Hardcore';
 	$i18n['Category_Terror']						= 'Terror';
 	$i18n['Category_Indie']							= 'Indie';
 	$i18n['Category_BritPop']						= 'BritPop';
 //	$i18n['Category_Negerpunk']						= 'Negerpunk';
-	$i18n['Category_Polsk Punk']					= 'Polsk Punk';
+	$i18n['Category_Polsk-Punk']					= 'Polsk Punk';
 	$i18n['Category_Beat']							= 'Beat';
-//	$i18n['Category_Christian Gangsta Rap']			= 'Christin Gangsta Rap';
-	$i18n['Category_Heavy Metal']					= 'Heavy Metal';
-	$i18n['Category_Black Metal']					= 'Black Metal';
+//	$i18n['Category_Christian-Gangsta Rap']			= 'Christin Gangsta Rap';
+	$i18n['Category_Heavy-Metal']					= 'Heavy Metal';
+	$i18n['Category_Black-Metal']					= 'Black Metal';
 	$i18n['Category_Crossover']						= 'Crossover';
-//	$i18n['Category_Contemporary Christian']		= 'Contemporary Christian';
-//	$i18n['Category_Christian Rock']				= 'Christian Rock';
+//	$i18n['Category_Contemporary-Christian']		= 'Contemporary Christian';
+//	$i18n['Category_Christian-Rock']				= 'Christian Rock';
 	$i18n['Category_Merengue']						= 'Merengue';
 	$i18n['Category_Salsa']							= 'Salsa';
-	$i18n['Category_Trash Metal']					= 'Trash Metal';
+	$i18n['Category_Trash-Metal']					= 'Trash Metal';
 	$i18n['Category_Anime']							= 'Anime';
 	$i18n['Category_Jpop']							= 'Jpop';
 	$i18n['Category_Synthpop']						= 'Synthpop';



From nobody at sheep.berlios.de  Wed Apr 13 13:50:52 2005
From: nobody at sheep.berlios.de (bruf)
Date: Wed, 13 Apr 2005 13:50:52 +0200
Subject: [phpmediadb-cvs] phpmediadb-cvs/_source/tier.configuration/templates body.item.audio.formular.tpl,1.7,1.8
Message-ID: <200504131150.j3DBoqm20940@bat.berlios.de>

Update of /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.configuration/templates
In directory sheep:/tmp/cvs-serv8480/_source/tier.configuration/templates

Modified Files:
	body.item.audio.formular.tpl 
Log Message:
* Fixed syntax mistaces

Index: body.item.audio.formular.tpl
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.configuration/templates/body.item.audio.formular.tpl,v
retrieving revision 1.7
retrieving revision 1.8
diff -u -d -r1.7 -r1.8
--- body.item.audio.formular.tpl	12 Apr 2005 20:53:37 -0000	1.7
+++ body.item.audio.formular.tpl	13 Apr 2005 11:50:49 -0000	1.8
@@ -7,52 +7,52 @@
 		<col/>
 	</colgroup>
 	<tr>
-		<td>{$I18N.MEDIA_TITLE|default:"%MEDIA_TITLE%"}</td>
+		<td>{$I18N.MEDIA_AUDIO_TITLE|default:"%MEDIA_AUDIO_TITLE%"}</td>
 		<td>
-			<input type="text" name="itemdata[ItemTitle]" maxlength="{$INPUTSIZE.ItemTitle|default:"255"}" value="{$ITEMDATA.ItemTitle}" />
-			{if $INPUTERROR.flag.ItemTitle eq "1" }<span class="phpmediadb-body-inputerror">{$I18N.ERROR_FLAG|default:"*"}</span>{/if}
+			<input type="text" name="itemdata[itemtitle]" maxlength="{$INPUTSIZE.itemtitle|default:"255"}" value="{$ITEMDATA.itemtitle}" />
+			{if $INPUTERROR.flag.itemtitle eq "1" }<span class="phpmediadb-body-inputerror">{$I18N.ERROR_FLAG|default:"*"}</span>{/if}
 		</td>
 	</tr>
 
 	<tr>
-		<td>{$I18N.MEDIA_ORIGINALTITLE|default:"%MEDIA_ORIGINALTITLE%"}</td>
+		<td>{$I18N.MEDIA_AUDIO_ORIGINALTITLE|default:"%MEDIA_AUDIO_ORIGINALTITLE%"}</td>
 		<td>
-			<input type="text" name="itemdata[ItemOriginalTitle]" maxlength="{$INPUTSIZE.ItemOriginalTitle|default:"255"}" value="{$ITEMDATA.ItemOriginalTitle}" />
-			{if $INPUTERROR.flag.ItemOriginalTitle eq "1" }<span class="phpmediadb-body-inputerror">{$I18N.ERROR_FLAG|default:"*"}</span>{/if}
+			<input type="text" name="itemdata[itemoriginaltitle]" maxlength="{$INPUTSIZE.itemoriginaltitle|default:"255"}" value="{$ITEMDATA.itemoriginaltitle}" />
+			{if $INPUTERROR.flag.itemoriginaltitle eq "1" }<span class="phpmediadb-body-inputerror">{$I18N.ERROR_FLAG|default:"*"}</span>{/if}
 		</td>
 	</tr>
 
 	<tr>
-		<td>{$I18N.MEDIA_MEDIANAME|default:"%MEDIA_MEDIANAME%"}</td>
+		<td>{$I18N.MEDIA_AUDIO_MEDIANAME|default:"%MEDIA_AUDIO_MEDIANAME%"}</td>
 		<td>
-			<input type="text" name="itemdata[ItemMediaName]" maxlength="{$INPUTSIZE.ItemMediaName|default:"255"}" value="{$ITEMDATA.ItemMediaName}" />
-			{if $INPUTERROR.flag.ItemMediaName eq "1" }<span class="phpmediadb-body-inputerror">{$I18N.ERROR_FLAG|default:"*"}</span>{/if}
+			<input type="text" name="itemdata[itemmedianame]" maxlength="{$INPUTSIZE.itemmedianame|default:"255"}" value="{$ITEMDATA.itemmedianame}" />
+			{if $INPUTERROR.flag.itemmedianame eq "1" }<span class="phpmediadb-body-inputerror">{$I18N.ERROR_FLAG|default:"*"}</span>{/if}
 		</td>
 	</tr>
 
 	<tr>
-		<td>{$I18N.MEDIA_IDENTIFICATION|default:"%MEDIA_IDENTIFICATION%"}</td>
+		<td>{$I18N.MEDIA_AUDIO_IDENTIFICATION|default:"%MEDIA_AUDIO_IDENTIFICATION%"}</td>
 		<td>
-			<input type="text" name="itemdata[ItemIdentifier]" maxlength="{$INPUTSIZE.ItemIdentifier|default:"255"}" value="{$ITEMDATA.ItemIdentifier}" />
-			{if $INPUTERROR.flag.ItemIdentifier eq "1" }<span class="phpmediadb-body-inputerror">{$I18N.ERROR_FLAG|default:"*"}</span>{/if}
+			<input type="text" name="itemdata[itemidentifier]" maxlength="{$INPUTSIZE.itemidentifier|default:"255"}" value="{$ITEMDATA.itemidentifier}" />
+			{if $INPUTERROR.flag.itemidentifier eq "1" }<span class="phpmediadb-body-inputerror">{$I18N.ERROR_FLAG|default:"*"}</span>{/if}
 		</td>
 	</tr>
 
 	<tr>
-		<td>{$I18N.MEDIA_RELEASEYEAR|default:"%MEDIA_RELEASEYEAR%"}</td>
+		<td>{$I18N.MEDIA_AUDIO_RELEASEYEAR|default:"%MEDIA_AUDIO_RELEASEYEAR%"}</td>
 		<td>
-			<input type="text" name="itemdata[ItemReleaseDate]" maxlength="{$INPUTSIZE.ItemReleaseDate|default:"4"}" value="{$ITEMDATA.ItemReleaseDate}" />
-			{if $INPUTERROR.flag.ItemReleaseDate eq "1" }<span class="phpmediadb-body-inputerror">{$I18N.ERROR_FLAG|default:"*"}</span>{/if}
+			<input type="text" name="itemdata[itemreleasedate]" maxlength="{$INPUTSIZE.itemreleasedate|default:"4"}" value="{$ITEMDATA.itemreleasedate}" />
+			{if $INPUTERROR.flag.itemreleasedate eq "1" }<span class="phpmediadb-body-inputerror">{$I18N.ERROR_FLAG|default:"*"}</span>{/if}
 		</td>
 	</tr>
 
 	<tr>
-		<td>{$I18N.MEDIA_CATEGORY|default:"%MEDIA_CATEGORY%"}</td>
+		<td>{$I18N.MEDIA_AUDIO_CATEGORY|default:"%MEDIA_AUDIO_CATEGORY%"}</td>
 		<td>
-			<select name="itemdata[Categories][]" size="5" multiple="true">
+			<select name="itemdata[categories][]" size="5" multiple="true">
 {foreach from=$DATA.CATEGORIES item=currentDataItem}
 {assign var="TEMP" value="0"}
-	{foreach from=$ITEMDATA.Categories item=currentItemItem}
+	{foreach from=$ITEMDATA.categories item=currentItemItem}
 			{if $currentItemItem eq $currentDataItem.categoryid }
 				{assign var="TEMP" value="1"}
 				<option selected="true" value="{$currentDataItem.categoryid}">{$currentDataItem.categoryname}</option>
@@ -63,25 +63,25 @@
 			{/if}
 {/foreach}
 			</select>
-			{if $INPUTERROR.flag.Categories eq "1" }<span class="phpmediadb-body-inputerror">{$I18N.ERROR_FLAG|default:"*"}</span>{/if}
+			{if $INPUTERROR.flag.categories eq "1" }<span class="phpmediadb-body-inputerror">{$I18N.ERROR_FLAG|default:"*"}</span>{/if}
 		</td>
 	</tr>
 
 	<tr>
-		<td>{$I18N.MEDIA_MEDIASIZE|default:"%MEDIA_MEDIASIZE%"}</td>
+		<td>{$I18N.MEDIA_AUDIO_MEDIASIZE|default:"%MEDIA_AUDIO_MEDIASIZE%"}</td>
 		<td>
-			<input type="text" name="itemdata[ItemMediaSize]" maxlength="{$INPUTSIZE.ItemMediaSize|default:"255"}" value="{$ITEMDATA.ItemMediaSize}" />
-			{if $INPUTERROR.flag.ItemMediaSize eq "1" }<span class="phpmediadb-body-inputerror">{$I18N.ERROR_FLAG|default:"*"}</span>{/if}
+			<input type="text" name="itemdata[itemmediasize]" maxlength="{$INPUTSIZE.itemmediasize|default:"255"}" value="{$ITEMDATA.itemmediasize}" />
+			{if $INPUTERROR.flag.itemmediasize eq "1" }<span class="phpmediadb-body-inputerror">{$I18N.ERROR_FLAG|default:"*"}</span>{/if}
 		</td>
 	</tr>
 
 	<tr>
-		<td>{$I18N.MEDIA_FORMAT|default:"%MEDIA_FORMAT%"}</td>
+		<td>{$I18N.MEDIA_AUDIO_FORMAT|default:"%MEDIA_AUDIO_FORMAT%"}</td>
 		<td>
-			<select name="itemdata[MediaFormatID]">
+			<select name="itemdata[mediaformatid]">
 				<option value="0">{$I18N.OPTION_EMPTY|default:"%OPTION_EMPTY%"}</option>
 {foreach from=$DATA.MEDIAFORMATS item=currentDataItem key=currentDataKey}
-	{if $currentDataItem.mediaformatid eq $ITEMDATA.MediaFormatID }
+	{if $currentDataItem.mediaformatid eq $ITEMDATA.mediaformatid }
 				<option selected="true" value="{$currentDataItem.mediaformatid}">{$currentDataItem.mediaformatname}</option>
 	{else}
 				<option value="{$currentDataItem.mediaformatid}">{$currentDataItem.mediaformatname}</option>
@@ -93,68 +93,68 @@
 	</tr>
 
 	<tr>
-		<td>{$I18N.MEDIA_IMAGE|default:"%MEDIA_IMAGE%"}</td>
+		<td>{$I18N.MEDIA_AUDIO_IMAGE|default:"%MEDIA_AUDIO_IMAGE%"}</td>
 		<td>
 			<img src="getbinary.php?itemid={$ITEMDATA.ID}" /><br />
-			<input type="file" name="itemdata[BinaryData]" />
+			<input type="file" name="itemdata[binarydata]" />
 		</td>
 	</tr>
 
 	<tr>
-		<td>{$I18N.MEDIA_PUBLISHER|default:"%MEDIA_PUBLISHER%"}</td>
+		<td>{$I18N.MEDIA_AUDIO_PUBLISHER|default:"%MEDIA_AUDIO_PUBLISHER%"}</td>
 		<td>
-			<input type="text" name="itemdata[ItemPublisher]" maxlength="{$INPUTSIZE.ItemPublisher|default:"255"}" value="{$ITEMDATA.ItemPublisher}" />
-			{if $INPUTERROR.flag.PublisherName eq "1" }<span class="phpmediadb-body-inputerror">{$I18N.ERROR_FLAG|default:"*"}</span>{/if}
+			<input type="text" name="itemdata[itempublisher]" maxlength="{$INPUTSIZE.itempublisher|default:"255"}" value="{$ITEMDATA.itempublisher}" />
+			{if $INPUTERROR.flag.itempublisher eq "1" }<span class="phpmediadb-body-inputerror">{$I18N.ERROR_FLAG|default:"*"}</span>{/if}
 		</td>
 	</tr>
 
 	<tr>
-		<td>{$I18N.MEDIA_AGERESTRICTION|default:"%MEDIA_AGERESTRICTION%"}</td>
+		<td>{$I18N.MEDIA_AUDIO_AGERESTRICTION|default:"%MEDIA_AUDIO_AGERESTRICTION%"}</td>
 		<td>
-			<select name="itemdata[MediaAgeRestrictionID]">
+			<select name="itemdata[mediaagerestrictionid]">
 				<option value="0">{$I18N.OPTION_EMPTY|default:"%OPTION_EMPTY%"}</option>
 {foreach from=$DATA.AGERESTRICTIONS item=currentDataItem}
-	{if $currentDataItem.mediaagerestrictionid eq $ITEMDATA.MediaAgeRestrictionID }
+	{if $currentDataItem.mediaagerestrictionid eq $ITEMDATA.mediaagerestrictionid }
 				<option selected="true" value="{$currentDataItem.mediaagerestrictionid}">{$currentDataItem.mediaagerestriction}</option>
 	{else}
 				<option value="{$currentDataItem.mediaagerestrictionid}">{$currentDataItem.mediaagerestriction}</option>
 	{/if}
 {/foreach}
 			</select>
-			{if $INPUTERROR.flag.MediaAgeRestrictionID eq "1" }<span class="phpmediadb-body-inputerror">{$I18N.ERROR_FLAG|default:"*"}</span>{/if}
+			{if $INPUTERROR.flag.mediaagerestrictionid eq "1" }<span class="phpmediadb-body-inputerror">{$I18N.ERROR_FLAG|default:"*"}</span>{/if}
 		</td>
 	</tr>
 
 	<tr>
-		<td>{$I18N.MEDIA_CODEC|default:"%MEDIA_CODEC%"}</td>
+		<td>{$I18N.MEDIA_AUDIO_CODEC|default:"%MEDIA_AUDIO_CODEC%"}</td>
 		<td>
-			<select name="itemdata[MediaCodecID]">
+			<select name="itemdata[mediacodecid]">
 				<option value="0">{$I18N.OPTION_EMPTY|default:"%OPTION_EMPTY%"}</option>
 {foreach from=$DATA.CODECS item=currentDataItem}
-	{if $currentDataItem.mediacodecid eq $ITEMDATA.MediaCodecID }
+	{if $currentDataItem.mediacodecid eq $ITEMDATA.mediacodecid }
 				<option selected="true" value="{$currentDataItem.mediacodecid}">{$currentDataItem.mediacodecname}</option>
 	{else}
 				<option value="{$currentDataItem.mediacodecid}">{$currentDataItem.mediacodecname}</option>
 	{/if}
 {/foreach}
 			</select>
-			{if $INPUTERROR.flag.MediaCodecID eq "1" }<span class="phpmediadb-body-inputerror">{$I18N.ERROR_FLAG|default:"*"}</span>{/if}
+			{if $INPUTERROR.flag.mediacodecid eq "1" }<span class="phpmediadb-body-inputerror">{$I18N.ERROR_FLAG|default:"*"}</span>{/if}
 		</td>
 	</tr>
 
 	<tr>
-		<td>{$I18N.MEDIA_QUANTITY|default:"%MEDIA_QUANTITY%"}</td>
+		<td>{$I18N.MEDIA_AUDIO_QUANTITY|default:"%MEDIA_AUDIO_QUANTITY%"}</td>
 		<td>
-			<input type="text" name="itemdata[ItemQuantity]" maxlength="{$INPUTSIZE.ItemQuantity|default:"255"}" value="{$ITEMDATA.ItemQuantity}" />
-			{if $INPUTERROR.flag.ItemQuantity eq "1" }<span class="phpmediadb-body-inputerror">{$I18N.ERROR_FLAG|default:"*"}</span>{/if}
+			<input type="text" name="itemdata[itemquantity]" maxlength="{$INPUTSIZE.itemquantity|default:"255"}" value="{$ITEMDATA.itemquantity}" />
+			{if $INPUTERROR.flag.itemquantity eq "1" }<span class="phpmediadb-body-inputerror">{$I18N.ERROR_FLAG|default:"*"}</span>{/if}
 		</td>
 	</tr>
 
 	<tr>
-		<td>{$I18N.MEDIA_COMMENT|default:"%MEDIA_COMMENT%"}</td>
+		<td>{$I18N.MEDIA_AUDIO_COMMENT|default:"%MEDIA_AUDIO_COMMENT%"}</td>
 		<td>
-			<textarea name="itemdata[ItemComment]" cols="40" rows="10">{$ITEMDATA.ItemComment}</textarea>
-			{if $INPUTERROR.flag.ItemComment eq "1" }<span class="phpmediadb-body-inputerror">{$I18N.ERROR_FLAG|default:"*"}</span>{/if}
+			<textarea name="itemdata[itemcomment]" cols="40" rows="10">{$ITEMDATA.itemcomment}</textarea>
+			{if $INPUTERROR.flag.itemcomment eq "1" }<span class="phpmediadb-body-inputerror">{$I18N.ERROR_FLAG|default:"*"}</span>{/if}
 		</td>
 	</tr>
 
@@ -171,7 +171,7 @@
 		<td></td>
 		<td>
 			{$I18N.MEDIA_CREATIONDATE|default:"%MEDIA_CREATIONDATE%"}: {$ITEMDATA.ItemCreationDate|date_format:"%A, %B %e, %Y %H:%M:%S"|default:$I18N.NOT_SET|default:"%NOT_SET%"} <br />
-			{$I18N.MEDIA_CREATIONDATE|default:"%MEDIA_MODIFICATIONDATE%"}: {$ITEMDATA.ItemModificationDate|date_format:"%A, %B %e, %Y %H:%M:%S"|default:$I18N.NOT_SET|default:"%NOT_SET%"}
+			{$I18N.MEDIA_MODIFICATIONDATE|default:"%MEDIA_MODIFICATIONDATE%"}: {$ITEMDATA.ItemModificationDate|date_format:"%A, %B %e, %Y %H:%M:%S"|default:$I18N.NOT_SET|default:"%NOT_SET%"}
 		</td>
 	</tr>
 



From nobody at sheep.berlios.de  Wed Apr 13 13:51:07 2005
From: nobody at sheep.berlios.de (bruf)
Date: Wed, 13 Apr 2005 13:51:07 +0200
Subject: [phpmediadb-cvs] phpmediadb-cvs/_source/tier.configuration/templates body.item.video.formular.tpl,1.2,1.3
Message-ID: <200504131151.j3DBp7m20946@bat.berlios.de>

Update of /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.configuration/templates
In directory sheep:/tmp/cvs-serv8783/_source/tier.configuration/templates

Modified Files:
	body.item.video.formular.tpl 
Log Message:
* Fixed syntax mistaces

Index: body.item.video.formular.tpl
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.configuration/templates/body.item.video.formular.tpl,v
retrieving revision 1.2
retrieving revision 1.3
diff -u -d -r1.2 -r1.3
--- body.item.video.formular.tpl	6 Apr 2005 13:53:22 -0000	1.2
+++ body.item.video.formular.tpl	13 Apr 2005 11:51:02 -0000	1.3
@@ -9,7 +9,7 @@
 	<tr>
 		<td>{$I18N.MEDIA_TITLE|default:"%MEDIA_TITLE%"}</td>
 		<td>
-			<input type="text" name="itemdata[ItemTitle]" maxlength="{$INPUTSIZE.ItemTitle|default:"255"}" value="{$ITEMDATA.ItemTitle}" />
+			<input type="text" name="itemdata[itemtitle]" maxlength="{$INPUTSIZE.itemtitle|default:"255"}" value="{$ITEMDATA.itemtitle}" />
 			{if $INPUTERROR.flag.ItemTitle eq "1" }<span class="phpmediadb-body-inputerror">{$I18N.ERROR_FLAG|default:"*"}</span>{/if}
 		</td>
 	</tr>
@@ -17,16 +17,16 @@
 	<tr>
 		<td>{$I18N.MEDIA_ORIGINALTITLE|default:"%MEDIA_ORIGINALTITLE%"}</td>
 		<td>
-			<input type="text" name="itemdata[ItemOriginalTitle]" maxlength="{$INPUTSIZE.ItemOriginalTitle|default:"255"}" value="{$ITEMDATA.ItemOriginalTitle}" />
-			{if $INPUTERROR.flag.ItemOriginalTitle eq "1" }<span class="phpmediadb-body-inputerror">{$I18N.ERROR_FLAG|default:"*"}</span>{/if}
+			<input type="text" name="itemdata[itemoriginaltitle]" maxlength="{$INPUTSIZE.itemoriginaltitle|default:"255"}" value="{$ITEMDATA.itemoriginaltitle}" />
+			{if $INPUTERROR.flag.Itemoriginaltitle eq "1" }<span class="phpmediadb-body-inputerror">{$I18N.ERROR_FLAG|default:"*"}</span>{/if}
 		</td>
 	</tr>
 
 	<tr>
 		<td>{$I18N.MEDIA_MEDIANAME|default:"%MEDIA_MEDIANAME%"}</td>
 		<td>
-			<input type="text" name="itemdata[ItemMediaName]" maxlength="{$INPUTSIZE.ItemMediaName|default:"255"}" value="{$ITEMDATA.ItemMediaName}" />
-			{if $INPUTERROR.flag.ItemMediaName eq "1" }<span class="phpmediadb-body-inputerror">{$I18N.ERROR_FLAG|default:"*"}</span>{/if}
+			<input type="text" name="itemdata[ItemMediaName]" maxlength="{$INPUTSIZE.itemmedianame|default:"255"}" value="{$ITEMDATA.itemmedianame}" />
+			{if $INPUTERROR.flag.itemmedianame eq "1" }<span class="phpmediadb-body-inputerror">{$I18N.ERROR_FLAG|default:"*"}</span>{/if}
 		</td>
 	</tr>
 	



From nobody at sheep.berlios.de  Wed Apr 13 13:52:14 2005
From: nobody at sheep.berlios.de (bruf)
Date: Wed, 13 Apr 2005 13:52:14 +0200
Subject: [phpmediadb-cvs] phpmediadb-cvs/_source/tier.data class.phpmediadb_data_agerestrictions.php,1.12,1.13
Message-ID: <200504131152.j3DBqEm20973@bat.berlios.de>

Update of /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.data
In directory sheep:/tmp/cvs-serv10688/_source/tier.data

Modified Files:
	class.phpmediadb_data_agerestrictions.php 
Log Message:
* Fixed syntax mistakes
* Reworked SQL statements

Index: class.phpmediadb_data_agerestrictions.php
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.data/class.phpmediadb_data_agerestrictions.php,v
retrieving revision 1.12
retrieving revision 1.13
diff -u -d -r1.12 -r1.13
--- class.phpmediadb_data_agerestrictions.php	9 Apr 2005 23:56:00 -0000	1.12
+++ class.phpmediadb_data_agerestrictions.php	13 Apr 2005 11:52:08 -0000	1.13
@@ -126,7 +126,7 @@
 			$this->DATA->SQL->openTransaction( $conn );
 			$stmt = $conn->prepareStatement(	'INSERT INTO MediaAgeRestrictions
 												( MediaAgeRestriction ) VALUES( ? )' );
-			$stmt->setString( 1, $data['MediaAgeRestriction'] );
+			$stmt->setString( 1, $data['mediaagerestriction'] );
 			$stmt->executeUpdate();
 			$this->DATA->SQL->commitTransaction( $conn );
 			return $this->DATA->SQL->getLastInsert();
@@ -158,7 +158,7 @@
 			$stmt = $conn->prepareStatement(	'UPDATE MediaAgeRestrictions
 												SET MediaAgeRestrictions.MediaAgeRestriction = ?
 												WHERE MediaAgeRestrictions.MediaAgeRestrictionID = ?' );
-			$stmt->setString( 1, $data['MediaAgeRestriction'] );
+			$stmt->setString( 1, $data['mediaagerestriction'] );
 			$stmt->setString( 2, $id );
 			$stmt->executeUpdate();
 			$this->DATA->SQL->commitTransaction( $conn );



From nobody at sheep.berlios.de  Wed Apr 13 13:52:24 2005
From: nobody at sheep.berlios.de (bruf)
Date: Wed, 13 Apr 2005 13:52:24 +0200
Subject: [phpmediadb-cvs] phpmediadb-cvs/_source/tier.data class.phpmediadb_data_audios.php,1.13,1.14
Message-ID: <200504131152.j3DBqOm20980@bat.berlios.de>

Update of /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.data
In directory sheep:/tmp/cvs-serv10816/_source/tier.data

Modified Files:
	class.phpmediadb_data_audios.php 
Log Message:
* Fixed syntax mistakes
* Reworked SQL statements

Index: class.phpmediadb_data_audios.php
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.data/class.phpmediadb_data_audios.php,v
retrieving revision 1.13
retrieving revision 1.14
diff -u -d -r1.13 -r1.14
--- class.phpmediadb_data_audios.php	12 Apr 2005 18:00:35 -0000	1.13
+++ class.phpmediadb_data_audios.php	13 Apr 2005 11:52:22 -0000	1.14
@@ -74,8 +74,9 @@
 		try
 		{
 			$conn = $this->DATA->SQL->getConnection();
-			$stmt = $conn->prepareStatement(	'SELECT Items.*, ItemTypes.*, MediaCodecs.*, MediaFormats.*, MediaAgeRestrictions.* ,BinaryDatas.ItemPicturesID
+			$stmt = $conn->prepareStatement(	'SELECT Items.*, AudioDatas.*, ItemTypes.*, MediaCodecs.MediaCodecName, MediaFormats.MediaFormatName, MediaAgeRestrictions.MediaAgeRestriction ,BinaryDatas.ItemPicturesID
 													FROM Items
+													LEFT JOIN AudioDatas ON AudioDatas.ItemID=Items.ItemID
 													LEFT JOIN ItemTypes ON ItemTypes.ItemTypeID=Items.ItemTypeID
 													LEFT JOIN MediaCodecs ON MediaCodecs.MediaCodecID=Items.MediaCodecID
 													LEFT JOIN MediaFormats ON MediaFormats.MediaFormatID=Items.MediaFormatID
@@ -107,13 +108,16 @@
 		try
 		{
 			$conn = $this->DATA->SQL->getConnection();
-			$stmt = $conn->prepareStatement(	'SELECT Items.*, ItemTypes.*, MediaCodecs.*, MediaFormats.*, MediaAgeRestrictions.* ,BinaryDatas.ItemPicturesID
+			$stmt = $conn->prepareStatement(	'SELECT Items.*, AudioDatas.*, ItemTypes.*, MediaCodecs.MediaCodecName, MediaFormats.MediaFormatName, MediaAgeRestrictions.MediaAgeRestriction ,BinaryDatas.ItemPicturesID
 													FROM Items
+													LEFT JOIN AudioDatas ON AudioDatas.ItemID=Items.ItemID
 													LEFT JOIN ItemTypes ON ItemTypes.ItemTypeID=Items.ItemTypeID
 													LEFT JOIN MediaCodecs ON MediaCodecs.MediaCodecID=Items.MediaCodecID
 													LEFT JOIN MediaFormats ON MediaFormats.MediaFormatID=Items.MediaFormatID
 													LEFT JOIN MediaAgeRestrictions ON MediaAgeRestrictions.MediaAgeRestrictionID=Items.MediaAgeRestrictionID
-													LEFT JOIN BinaryDatas ON  BinaryDatas.ItemPicturesID=Items.ItemPicturesID' );
+													LEFT JOIN BinaryDatas ON  BinaryDatas.ItemPicturesID=Items.ItemPicturesID
+													WHERE Items.ItemTypeID = ?' );
+			$stmt->setString( 1, PHPMEDIADB_ITEM_AUDIO );
 			$rs = $stmt->executeQuery();
 			
 			return $this->DATA->SQL->generateDataArray( $rs );
@@ -136,6 +140,12 @@
 	 */
 	public function create( $data )
 	{
+		
+		/*
+		  INDEX Items_FKIndex3(MediaFormatID),
+  INDEX Items_FKIndex4(MediaCodecID),
+  INDEX Items_FKIndex5(MediaAgeRestrictionID)
+		*/
 		try
 		{
 			$conn = $this->DATA->SQL->getConnection();
@@ -143,17 +153,20 @@
 			$stmt = $conn->prepareStatement(	'INSERT INTO Items
 												( ItemTitle, ItemOriginalTitle, ItemReleaseDate, ItemMediaName, ItemCreationDate,
 												ItemModificationDate, ItemComment, ItemQuantity, ItemIdentifier, ItemTypeID,
-												ItemPublisher )
-												VALUES( ?, ?, ?, ?, now(), now(), ?, ?, ?, ?, ? )' );
-			$stmt->setString( 1, $data['ItemTitle'] );
-			$stmt->setString( 2, $data['ItemOriginalTitle'] );
-			$stmt->setString( 3, $data['ItemReleaseDate'] );
-			$stmt->setString( 4, $data['ItemMediaName'] );
-			$stmt->setString( 5, $data['ItemComment'] );
-			$stmt->setString( 6, $data['ItemQuantity'] );
-			$stmt->setString( 7, $data['ItemIdentifier'] );
+												ItemPublisher, MediaCodecID,MediaFormatID,MediaAgeRestrictionID )
+												VALUES( ?, ?, ?, ?, now(), now(), ?, ?, ?, ?, ?, ?, ?, ? )' );
+			$stmt->setString( 1, $data['itemtitle'] );
+			$stmt->setString( 2, $data['itemoriginaltitle'] );
+			$stmt->setString( 3, $data['itemreleasedate'] );
+			$stmt->setString( 4, $data['itemmedianame'] );
+			$stmt->setString( 5, $data['itemcomment'] );
+			$stmt->setString( 6, $data['itemquantity'] );
+			$stmt->setString( 7, $data['itemidentifier'] );
 			$stmt->setString( 8, PHPMEDIADB_ITEM_AUDIO );
-			$stmt->setString( 9, $data['ItemPublisher'] );
+			$stmt->setString( 9, $data['itempublisher'] );
+			$stmt->setString( 10, $data['mediacodecid'] );
+			$stmt->setString( 11, $data['mediaformatid'] );
+			$stmt->setString( 12, $data['mediaagerestrictionid'] );
 			$stmt->executeUpdate();
 		
 			$id = $this->DATA->SQL->getLastInsert( $conn );
@@ -190,47 +203,33 @@
 		{
 			$conn = $this->DATA->SQL->getConnection();
 			$this->DATA->SQL->openTransaction( $conn );
-			$stmt = $conn->prepareStatement(	'UPDATE AudioDatas,
-												Items,
-												ItemTypes,
-												MediaCodecs,
-												MediaFormats,
-												MediaAgeRestrictions,
-												BinaryDatas
-												SET Items.ItemTitle = ?,
-												Items.ItemOriginalTitle = ?,
-												Items.ItemReleaseDate = ?,
-												Items.ItemMediaName = ?,
-												Items.ItemModificationDate = now(),
-												Items.ItemComment = ?,
-												Items.ItemQuantity = ?,
-												Items.ItemIdentifier = ?,
-												Items.MediaCodecID = ?,
-												Items.MediaFormatID = ?,
-												Items.MediaAgeRestrictionID = ?,
-												Items.MediaStatusID = ?,
-												Items.ItemPicturesID = ?;
-												Items.ItemPublisher = ?
-												WHERE Items.ItemID = ?
-												AND AudioDatas.ItemID = Items.ItemID
-												AND Items.ItemTypeID = ItemTypes.ItemTypeID
-												AND Items.MediaCodecID = MediaCodecs.MediaCodecID
-												AND Items.MediaFormatID = MediaFormats.MediaFormatID
-												AND Items.MediaAgeRestrictionID = MediaAgeRestrictions.MediaAgeRestrictionID
-												AND Items.ItemPicturesID = BinaryDatas.ItemPicturesID' );
-			$stmt->setString( 1, $data['ItemTitle'] );
-			$stmt->setString( 2, $data['ItemOriginalTitle'] );
-			$stmt->setString( 3, $data['ItemReleaseDate'] );
-			$stmt->setString( 4, $data['ItemMediaName'] );
-			$stmt->setString( 5, $data['ItemComment'] );
-			$stmt->setString( 6, $data['ItemQuantity'] );
-			$stmt->setString( 7, $data['ItemIdentifier'] );
-			$stmt->setString( 9, $data['MediaCodecID'] );
-			$stmt->setString( 10, $data['MediaFormatID'] );
-			$stmt->setString( 11, $data['MediaAgeRestrictionID'] );
-			$stmt->setString( 12, $data['ItemPicturesID'] );
-			$stmt->setString( 13, $data['ItemPublisher'] );
-			$stmt->setString( 14, $id );
+			$stmt = $conn->prepareStatement(	'Update Items
+													LEFT JOIN AudioDatas ON AudioDatas.ItemID=Items.ItemID
+													SET Items.ItemTitle = ?,
+													Items.ItemOriginalTitle = ?,
+													Items.ItemReleaseDate = ?,
+													Items.ItemMediaName = ?,
+													Items.ItemModificationDate = now(),
+													Items.ItemComment = ?,
+													Items.ItemQuantity = ?,
+													Items.ItemIdentifier = ?,
+													Items.MediaCodecID = ?,
+													Items.MediaFormatID = ?,
+													Items.MediaAgeRestrictionID = ?,
+													Items.ItemPublisher = ?
+													WHERE Items.ItemID = ?' );
+			$stmt->setString( 1, $data['itemtitle'] );
+			$stmt->setString( 2, $data['itemoriginaltitle'] );
+			$stmt->setString( 3, $data['itemreleasedate'] );
+			$stmt->setString( 4, $data['itemmedianame'] );
+			$stmt->setString( 5, $data['itemcomment'] );
+			$stmt->setString( 6, $data['itemquantity'] );
+			$stmt->setString( 7, $data['itemidentifier'] );
+			$stmt->setString( 8, $data['mediacodecid'] );
+			$stmt->setString( 9, $data['mediaformatid'] );
+			$stmt->setString( 10, $data['mediaagerestrictionid'] );
+			$stmt->setString( 11, $data['itempublisher'] );
+			$stmt->setString( 12, $id );
 			$stmt->executeUpdate();
 			$this->DATA->SQL->commitTransaction( $conn );
 		}
@@ -262,13 +261,15 @@
 			$conn = $this->DATA->SQL->getConnection();
 			$this->DATA->SQL->openTransaction( $conn );
 			$stmt = $conn->prepareStatement(	'DELETE AudioDatas, Items, BinaryDatas, Categories_has_Items
-												FROM AudioDatas, Items, BinaryDatas, Categories_has_Items
-												WHERE Items.ItemID = ?
-												AND AudioDatas.ItemID = Items.ItemID
-												AND Items.ItemPicturesID = BinaryDatas.ItemPicturesID
-												AND Items.ItemID = Categories_has_Items.ItemID' );
+													FROM Items
+													LEFT JOIN AudioDatas ON AudioDatas.ItemID=Items.ItemID
+													LEFT JOIN Categories_has_Items ON Categories_has_Items.ItemID=Items.ItemID
+													LEFT JOIN BinaryDatas ON  BinaryDatas.ItemPicturesID=Items.ItemPicturesID
+													WHERE Items.ItemID = ?' );
 			$stmt->setString( 1, $id );
-			$stmt->executeUpdate();
+			$rs = $stmt->executeUpdate();
+			
+			
 			$this->DATA->SQL->commitTransaction( $conn );
 		}
 		catch( Exception $exception )
@@ -292,13 +293,13 @@
 	 * @param Integer $itemId contains specified id for the sql statement
 	 * @return Bool returns whether the specified record exists
 	 */
-	public function exists( $itemId )
+	public function exists( $id )
 	{
 		/* init */
 		$returnValue = false;
 		
 		/* delegate */
-		$returnValue = $this->DATA->ITEMS->exist( $itemId );
+		$returnValue = $this->DATA->ITEMS->exist( $id );
 
 		/* return value */
 		return $returnValue;



From nobody at sheep.berlios.de  Wed Apr 13 13:53:14 2005
From: nobody at sheep.berlios.de (bruf)
Date: Wed, 13 Apr 2005 13:53:14 +0200
Subject: [phpmediadb-cvs] phpmediadb-cvs/_source/tier.data class.phpmediadb_data_categories.php,1.11,1.12
Message-ID: <200504131153.j3DBrEm20999@bat.berlios.de>

Update of /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.data
In directory sheep:/tmp/cvs-serv11511/_source/tier.data

Modified Files:
	class.phpmediadb_data_categories.php 
Log Message:
* Fixed syntax mistakes
* Reworked SQL statements

Index: class.phpmediadb_data_categories.php
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.data/class.phpmediadb_data_categories.php,v
retrieving revision 1.11
retrieving revision 1.12
diff -u -d -r1.11 -r1.12
--- class.phpmediadb_data_categories.php	10 Apr 2005 00:01:32 -0000	1.11
+++ class.phpmediadb_data_categories.php	13 Apr 2005 11:53:10 -0000	1.12
@@ -154,8 +154,8 @@
 			$conn = $this->DATA->SQL->getConnection();
 			$stmt = $conn->prepareStatement(	'INSERT INTO Categories
 												( ItemTypeID, CategoryName ) VALUES( ?, ? )' );
-			$stmt->setString( 1, $data['ItemTypeID'] );
-			$stmt->setString( 2, $data['CategoryName'] );
+			$stmt->setString( 1, $data['itemtypeid'] );
+			$stmt->setString( 2, $data['categoryname'] );
 			$stmt->executeUpdate();
 			$this->DATA->SQL->commitTransaction( $conn );
 			return $this->DATA->SQL->getLastInsert( $conn );
@@ -187,7 +187,7 @@
 			$stmt = $conn->prepareStatement(	'UPDATE Categories
 												SET Categories.CategoryName = ?
 												WHERE Categories.CategoryID = ?' );
-			$stmt->setString( 1, $data['CategoryName'] );
+			$stmt->setString( 1, $data['categoryname'] );
 			$stmt->setString( 2, $id );
 			$stmt->executeUpdate();
 			$this->DATA->SQL->commitTransaction( $conn );
@@ -328,6 +328,35 @@
 			phpmediadb_exception::handleException( $exception );
 		}
 	}
+	
+//-----------------------------------------------------------------------------
+	/**
+	 * This function returns the list of  the parameters ItemID and CategoryID
+	 * from the table Categories_has_Items
+	 *
+	 * @access public
+	 * @param Integer $itemId contains specified id for the sql statement
+	 */
+	public function getLinkList( $itemId )
+	{
+		try
+		{
+			$conn = $this->DATA->SQL->getConnection();
+			$stmt = $conn->prepareStatement(	'SELECT Categories_has_Items.*, Categories.* FROM Categories_has_Items
+													LEFT JOIN Categories ON Categories.CategoryID=Categories_has_Items.CategoryID
+													WHERE Categories_has_Items.ItemID = ?' );
+			$stmt->setString( 1, $itemId );
+			$rs = $stmt->executeQuery();
+			
+			return $this->DATA->SQL->generateDataArray( $rs );
+		}
+		catch( Exception $exception )
+		{
+			/* handle exception and terminate script */
+			phpmediadb_exception::handleException( $exception );
+		}
+	}
+	
 
 //-----------------------------------------------------------------------------
 } /* end of class phpmediadb_data_categories */



From nobody at sheep.berlios.de  Wed Apr 13 13:53:23 2005
From: nobody at sheep.berlios.de (bruf)
Date: Wed, 13 Apr 2005 13:53:23 +0200
Subject: [phpmediadb-cvs] phpmediadb-cvs/_source/tier.data class.phpmediadb_data_codecs.php,1.15,1.16
Message-ID: <200504131153.j3DBrNm21011@bat.berlios.de>

Update of /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.data
In directory sheep:/tmp/cvs-serv11792/_source/tier.data

Modified Files:
	class.phpmediadb_data_codecs.php 
Log Message:
* Fixed syntax mistakes
* Reworked SQL statements

Index: class.phpmediadb_data_codecs.php
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.data/class.phpmediadb_data_codecs.php,v
retrieving revision 1.15
retrieving revision 1.16
diff -u -d -r1.15 -r1.16
--- class.phpmediadb_data_codecs.php	9 Apr 2005 23:56:01 -0000	1.15
+++ class.phpmediadb_data_codecs.php	13 Apr 2005 11:53:21 -0000	1.16
@@ -157,9 +157,9 @@
 			$stmt = $conn->prepareStatement(	'INSERT INTO MediaCodecs
 												( MediaCodecName, MediaCodecBitrate, ItemTypeID )
 												VALUES( ?, ?, ? )' );
-			$stmt->setString( 1, $data['MediaCodecName'] );
-			$stmt->setString( 2, $data['MediaCodecBitrate'] );
-			$stmt->setString( 3, $data['ItemTypeID'] );
+			$stmt->setString( 1, $data['mediacodecname'] );
+			$stmt->setString( 2, $data['mediacodecbitrate'] );
+			$stmt->setString( 3, $data['itemtypeid'] );
 			$stmt->executeUpdate();
 			$this->DATA->SQL->commitTransaction( $conn );
 			return $this->DATA->SQL->getLastInsert( $conn );
@@ -193,10 +193,10 @@
 												MediaCodecs.MediaCodecBitrate = ?,
 												MediaCodecs.ItemTypeID = ?
 												WHERE MediaCodecs.MediaCodecID = ?' );
-			$stmt->setString( 1, $data['MediaCodecName'] );
-			$stmt->setString( 2, $data['MediaCodecBitrate'] );
-			$stmt->setString( 3, $data['ItemTypeID'] );
-			$stmt->setString( 4, $data['MediaCodecID'] );
+			$stmt->setString( 1, $data['mediacodecname'] );
+			$stmt->setString( 2, $data['mediacodecbitrate'] );
+			$stmt->setString( 3, $data['itemtypeid'] );
+			$stmt->setString( 4, $id );
 			$stmt->executeUpdate();
 			$this->DATA->SQL->commitTransaction( $conn );
 		}



From nobody at sheep.berlios.de  Wed Apr 13 13:53:33 2005
From: nobody at sheep.berlios.de (bruf)
Date: Wed, 13 Apr 2005 13:53:33 +0200
Subject: [phpmediadb-cvs] phpmediadb-cvs/_source/tier.data class.phpmediadb_data_formats.php,1.15,1.16
Message-ID: <200504131153.j3DBrXm21015@bat.berlios.de>

Update of /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.data
In directory sheep:/tmp/cvs-serv11982/_source/tier.data

Modified Files:
	class.phpmediadb_data_formats.php 
Log Message:
* Fixed syntax mistakes
* Reworked SQL statements

Index: class.phpmediadb_data_formats.php
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.data/class.phpmediadb_data_formats.php,v
retrieving revision 1.15
retrieving revision 1.16
diff -u -d -r1.15 -r1.16
--- class.phpmediadb_data_formats.php	9 Apr 2005 23:56:01 -0000	1.15
+++ class.phpmediadb_data_formats.php	13 Apr 2005 11:53:31 -0000	1.16
@@ -156,8 +156,8 @@
 			$stmt = $conn->prepareStatement(	'INSERT INTO MediaFormats
 												( MediaFormatName, ItemTypeID )
 												VALUES( ?, ? )' );
-			$stmt->setString( 1, $data['MediaFormatName'] );
-			$stmt->setString( 2, $data['ItemTypeID'] );
+			$stmt->setString( 1, $data['mediaformatname'] );
+			$stmt->setString( 2, $data['itemtypeid'] );
 			$stmt->executeUpdate();
 			$this->DATA->SQL->commitTransaction( $conn );
 			return $this->DATA->SQL->getLastInsert( $conn );
@@ -190,9 +190,9 @@
 												SET MediaFormats.MediaFormatName = ?,
 												MediaFormats.ItemTypeID = ?
 												WHERE MediaFormats.MediaFormatID = ?' );
-			$stmt->setString( 1, $data['MediaFormatName'] );
-			$stmt->setString( 2, $data['ItemTypeID'] );
-			$stmt->setString( 3, $data['MediaFormatID'] );
+			$stmt->setString( 1, $data['mediaformatname'] );
+			$stmt->setString( 2, $data['itemtypeid'] );
+			$stmt->setString( 3, $id );
 			$stmt->executeUpdate();
 			$this->DATA->SQL->commitTransaction( $conn );
 		}



From nobody at sheep.berlios.de  Wed Apr 13 13:53:43 2005
From: nobody at sheep.berlios.de (bruf)
Date: Wed, 13 Apr 2005 13:53:43 +0200
Subject: [phpmediadb-cvs] phpmediadb-cvs/_source/tier.data class.phpmediadb_data_prints.php,1.13,1.14
Message-ID: <200504131153.j3DBrhm21019@bat.berlios.de>

Update of /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.data
In directory sheep:/tmp/cvs-serv12355/_source/tier.data

Modified Files:
	class.phpmediadb_data_prints.php 
Log Message:
* Fixed syntax mistakes
* Reworked SQL statements

Index: class.phpmediadb_data_prints.php
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.data/class.phpmediadb_data_prints.php,v
retrieving revision 1.13
retrieving revision 1.14
diff -u -d -r1.13 -r1.14
--- class.phpmediadb_data_prints.php	12 Apr 2005 10:18:41 -0000	1.13
+++ class.phpmediadb_data_prints.php	13 Apr 2005 11:53:40 -0000	1.14
@@ -112,7 +112,9 @@
 													LEFT JOIN MediaCodecs ON MediaCodecs.MediaCodecID=Items.MediaCodecID
 													LEFT JOIN MediaFormats ON MediaFormats.MediaFormatID=Items.MediaFormatID
 													LEFT JOIN MediaAgeRestrictions ON MediaAgeRestrictions.MediaAgeRestrictionID=Items.MediaAgeRestrictionID
-													LEFT JOIN BinaryDatas ON  BinaryDatas.ItemPicturesID=Items.ItemPicturesID' );
+													LEFT JOIN BinaryDatas ON  BinaryDatas.ItemPicturesID=Items.ItemPicturesID
+													WHERE Items.ItemTypeID = ?' );
+			$stmt->setString( 1, PHPMEDIADB_ITEM_PRINT );
 			$rs = $stmt->executeQuery();
 			
 			return $this->DATA->SQL->generateDataArray( $rs );
@@ -142,17 +144,20 @@
 			$stmt = $conn->prepareStatement(	'INSERT INTO Items
 												( ItemTitle, ItemOriginalTitle, ItemReleaseDate, ItemMediaName, ItemCreationDate,
 												ItemModificationDate, ItemComment, ItemQuantity, ItemIdentifier, ItemTypeID,
-												ItemPublisher )
-												VALUES( ?, ?, ?, ?, now(), now(), ?, ?, ?, ?, ? )' );
-			$stmt->setString( 1, $data['ItemTitle'] );
-			$stmt->setString( 2, $data['ItemOriginalTitle'] );
-			$stmt->setString( 3, $data['ItemReleaseDate'] );
-			$stmt->setString( 4, $data['ItemMediaName'] );
-			$stmt->setString( 5, $data['ItemComment'] );
-			$stmt->setString( 6, $data['ItemQuantity'] );
-			$stmt->setString( 7, $data['ItemIdentifier'] );
-			$stmt->setString( 8, PHPMEDIAD_ITEM_PRINT );
-			$stmt->setString( 9, $data['ItemPublisher'] );
+												ItemPublisher, MediaCodecID,MediaFormatID,MediaAgeRestrictionID )
+												VALUES( ?, ?, ?, ?, now(), now(), ?, ?, ?, ?, ?, ?, ?, ? )' );
+			$stmt->setString( 1, $data['itemtitle'] );
+			$stmt->setString( 2, $data['itemoriginaltitle'] );
+			$stmt->setString( 3, $data['itemreleasedate'] );
+			$stmt->setString( 4, $data['itemmedianame'] );
+			$stmt->setString( 5, $data['itemcomment'] );
+			$stmt->setString( 6, $data['itemquantity'] );
+			$stmt->setString( 7, $data['itemidentifier'] );
+			$stmt->setString( 8, PHPMEDIADB_ITEM_PRINT );
+			$stmt->setString( 9, $data['itempublisher'] );
+			$stmt->setString( 10, $data['mediacodecid'] );
+			$stmt->setString( 11, $data['mediaformatid'] );
+			$stmt->setString( 12, $data['mediaagerestrictionid'] );
 			$stmt->executeUpdate();
 			
 			$id = $this->DATA->SQL->getLastInsert( $conn );
@@ -188,49 +193,33 @@
 		{
 			$conn = $this->DATA->SQL->getConnection();
 			$this->DATA->SQL->openTransaction( $conn );
-			$stmt = $conn->prepareStatement(	'UPDATE PrintDatas,
-												Items,
-												ItemTypes,
-												MediaCodecs,
-												MediaFormats,
-												MediaAgeRestrictions,
-												BinaryDatas
-												SET Items.ItemTitle = ?,
-												Items.ItemOriginalTitle = ?,
-												Items.ItemReleaseDate = ?,
-												Items.ItemMediaName = ?,
-												Items.ItemModificationDate = now(),
-												Items.ItemComment = ?,
-												Items.ItemQuantity = ?,
-												Items.ItemIdentifier = ?,
-												Items.ItemTypeID = ?,
-												Items.MediaCodecID = ?,
-												Items.MediaFormatID = ?,
-												Items.MediaAgeRestrictionID = ?,
-												Items.MediaStatusID = ?,
-												Items.ItemPicturesID = ?,
-												Items.ItemPublisher = ?
-												WHERE Items.ItemID = ?
-												AND PrintDatas.ItemID = Items.ItemID
-												AND Items.ItemTypeID = ItemTypes.ItemTypeID
-												AND Items.MediaCodecID = MediaCodecs.MediaCodecID
-												AND Items.MediaFormatID = MediaFormats.MediaFormatID
-												AND Items.MediaAgeRestrictionID = MediaAgeRestrictions.MediaAgeRestrictionID
-												AND Items.ItemPicturesID = BinaryDatas.ItemPicturesID' );
-			$stmt->setString( 1, $data['ItemTitle'] );
-			$stmt->setString( 2, $data['ItemOriginalTitle'] );
-			$stmt->setString( 3, $data['ItemReleaseDate'] );
-			$stmt->setString( 4, $data['ItemMediaName'] );
-			$stmt->setString( 5, $data['ItemComment'] );
-			$stmt->setString( 6, $data['ItemQuantity'] );
-			$stmt->setString( 7, $data['ItemIdentifier'] );
-			$stmt->setString( 8, $data['ItemTypeID'] );
-			$stmt->setString( 9, $data['MediaCodecID'] );
-			$stmt->setString( 10, $data['MediaFormatID'] );
-			$stmt->setString( 11, $data['MediaAgeRestrictionID'] );
-			$stmt->setString( 12, $data['ItemPicturesID'] );
-			$stmt->setString( 13, $data['ItemPublisher'] );
-			$stmt->setString( 14, $id );
+			$stmt = $conn->prepareStatement(	'Update Items
+													LEFT JOIN PrintDatas ON PrintDatas.ItemID=Items.ItemID
+													SET Items.ItemTitle = ?,
+													Items.ItemOriginalTitle = ?,
+													Items.ItemReleaseDate = ?,
+													Items.ItemMediaName = ?,
+													Items.ItemModificationDate = now(),
+													Items.ItemComment = ?,
+													Items.ItemQuantity = ?,
+													Items.ItemIdentifier = ?,
+													Items.MediaCodecID = ?,
+													Items.MediaFormatID = ?,
+													Items.MediaAgeRestrictionID = ?,
+													Items.ItemPublisher = ?
+													WHERE Items.ItemID = ?' );
+			$stmt->setString( 1, $data['itemtitle'] );
+			$stmt->setString( 2, $data['itemoriginaltitle'] );
+			$stmt->setString( 3, $data['itemreleasedate'] );
+			$stmt->setString( 4, $data['itemmedianame'] );
+			$stmt->setString( 5, $data['itemcomment'] );
+			$stmt->setString( 6, $data['itemquantity'] );
+			$stmt->setString( 7, $data['itemidentifier'] );
+			$stmt->setString( 8, $data['mediacodecid'] );
+			$stmt->setString( 9, $data['mediaformatid'] );
+			$stmt->setString( 10, $data['mediaagerestrictionid'] );
+			$stmt->setString( 11, $data['itempublisher'] );
+			$stmt->setString( 12, $id );
 			$stmt->executeUpdate();
 			$this->DATA->SQL->commitTransaction( $conn );
 		}
@@ -259,11 +248,11 @@
 			$conn = $this->DATA->SQL->getConnection();
 			$this->DATA->SQL->openTransaction( $conn );
 			$stmt = $conn->prepareStatement(	'DELETE PrintDatas, Items, BinaryDatas, Categories_has_Items
-												FROM PrintDatas, Items, BinaryDatas, Categories_has_Items
-												WHERE Items.ItemID = ?
-												AND PrintDatas.ItemID = Items.ItemID
-												AND Items.ItemPicturesID = BinaryDatas.ItemPicturesID
-												AND Items.ItemID = Categories_has_Items.ItemID' );
+													FROM Items
+													LEFT JOIN PrintDatas ON PrintDatas.ItemID=Items.ItemID
+													LEFT JOIN Categories_has_Items ON Categories_has_Items.ItemID=Items.ItemID
+													LEFT JOIN BinaryDatas ON  BinaryDatas.ItemPicturesID=Items.ItemPicturesID
+													WHERE Items.ItemID = ?' );
 			$stmt->setString( 1, $id );
 			$stmt->executeUpdate();
 			$this->DATA->SQL->commitTransaction( $conn );



From nobody at sheep.berlios.de  Wed Apr 13 13:54:04 2005
From: nobody at sheep.berlios.de (bruf)
Date: Wed, 13 Apr 2005 13:54:04 +0200
Subject: [phpmediadb-cvs] phpmediadb-cvs/_source/tier.data class.phpmediadb_data_status.php,1.12,1.13
Message-ID: <200504131154.j3DBs4m21025@bat.berlios.de>

Update of /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.data
In directory sheep:/tmp/cvs-serv12999/_source/tier.data

Modified Files:
	class.phpmediadb_data_status.php 
Log Message:
* Fixed syntax mistakes
* Reworked SQL statements

Index: class.phpmediadb_data_status.php
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.data/class.phpmediadb_data_status.php,v
retrieving revision 1.12
retrieving revision 1.13
diff -u -d -r1.12 -r1.13
--- class.phpmediadb_data_status.php	9 Apr 2005 23:56:01 -0000	1.12
+++ class.phpmediadb_data_status.php	13 Apr 2005 11:54:01 -0000	1.13
@@ -75,7 +75,7 @@
 			$stmt = $conn->prepareStatement(	'SELECT *
 												FROM MediaStatus
 												WHERE MediaStatus.MediaStatusID = ?' );
-			$stmt->setString( 1, $MediaStatusID );
+			$stmt->setString( 1, $id );
 			$rs = $stmt->executeQuery();
 			
 			return $this->DATA->SQL->generateDataArray( $rs );
@@ -129,9 +129,9 @@
 			$stmt = $conn->prepareStatement(	'INSERT INTO MediaStatus
 												( MediaStatus, MediaStatusOwner, MediaStatusHolder )
 												VALUES( ?, ?, ? )' );
-			$stmt->setString( 1, $data['MediaStatus'] );
-			$stmt->setString( 2, $data['MediaStatusOwner'] );
-			$stmt->setString( 3, $data['MediaStatusHolder'] );
+			$stmt->setString( 1, $data['mediastatus'] );
+			$stmt->setString( 2, $data['mediastatusowner'] );
+			$stmt->setString( 3, $data['mediastatusholder'] );
 			$stmt->executeUpdate();
 			$this->DATA->SQL->commitTransaction( $conn );
 			return $this->DATA->SQL->getLastInsert( $conn );
@@ -165,10 +165,10 @@
 												MediaStatus.MediaStatusOwner = ?,
 												MediaStatus.MediaStatusHolder = ?
 												WHERE MediaStatus.MediaStatusID = ?' );
-			$stmt->setString( 1, $data['MediaStatus'] );
-			$stmt->setString( 2, $data['MediaStatusOwner'] );
-			$stmt->setString( 3, $data['MediaStatusHolder'] );
-			$stmt->setString( 4, $data['MediaStatusID'] );
+			$stmt->setString( 1, $data['mediastatus'] );
+			$stmt->setString( 2, $data['mediastatusowner'] );
+			$stmt->setString( 3, $data['mediastatusholder'] );
+			$stmt->setString( 4, $id );
 			$stmt->executeUpdate();
 			$this->DATA->SQL->commitTransaction( $conn );
 		}



From nobody at sheep.berlios.de  Wed Apr 13 13:54:39 2005
From: nobody at sheep.berlios.de (bruf)
Date: Wed, 13 Apr 2005 13:54:39 +0200
Subject: [phpmediadb-cvs] phpmediadb-cvs/_source/tier.data class.phpmediadb_data_videos.php,1.13,1.14
Message-ID: <200504131154.j3DBsdm21033@bat.berlios.de>

Update of /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.data
In directory sheep:/tmp/cvs-serv13695/_source/tier.data

Modified Files:
	class.phpmediadb_data_videos.php 
Log Message:
* Fixed syntax mistakes
* Reworked SQL statements

Index: class.phpmediadb_data_videos.php
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.data/class.phpmediadb_data_videos.php,v
retrieving revision 1.13
retrieving revision 1.14
diff -u -d -r1.13 -r1.14
--- class.phpmediadb_data_videos.php	12 Apr 2005 10:18:52 -0000	1.13
+++ class.phpmediadb_data_videos.php	13 Apr 2005 11:54:36 -0000	1.14
@@ -112,7 +112,9 @@
 													LEFT JOIN MediaCodecs ON MediaCodecs.MediaCodecID=Items.MediaCodecID
 													LEFT JOIN MediaFormats ON MediaFormats.MediaFormatID=Items.MediaFormatID
 													LEFT JOIN MediaAgeRestrictions ON MediaAgeRestrictions.MediaAgeRestrictionID=Items.MediaAgeRestrictionID
-													LEFT JOIN BinaryDatas ON  BinaryDatas.ItemPicturesID=Items.ItemPicturesID' );
+													LEFT JOIN BinaryDatas ON  BinaryDatas.ItemPicturesID=Items.ItemPicturesID
+													WHERE Items.ItemTypeID = ?' );
+			$stmt->setString( 1, PHPMEDIADB_ITEM_VIDEO );
 			$rs = $stmt->executeQuery();
 			
 			return $this->DATA->SQL->generateDataArray( $rs );
@@ -142,17 +144,20 @@
 			$stmt = $conn->prepareStatement(	'INSERT INTO Items
 												( ItemTitle, ItemOriginalTitle, ItemReleaseDate, ItemMediaName, ItemCreationDate,
 												ItemModificationDate, ItemComment, ItemQuantity, ItemIdentifier, ItemTypeID,
-												ItemPublisher )
-												VALUES( ?, ?, ?, ?, now(), now(), ?, ?, ?, ?, ? )' );
-			$stmt->setString( 1, $data['ItemTitle'] );
-			$stmt->setString( 2, $data['ItemOriginalTitle'] );
-			$stmt->setString( 3, $data['ItemReleaseDate'] );
-			$stmt->setString( 4, $data['ItemMediaName'] );
-			$stmt->setString( 5, $data['ItemComment'] );
-			$stmt->setString( 6, $data['ItemQuantity'] );
-			$stmt->setString( 7, $data['ItemIdentifier'] );
+												ItemPublisher, MediaCodecID,MediaFormatID,MediaAgeRestrictionID )
+												VALUES( ?, ?, ?, ?, now(), now(), ?, ?, ?, ?, ?, ?, ?, ? )' );
+			$stmt->setString( 1, $data['itemtitle'] );
+			$stmt->setString( 2, $data['itemoriginaltitle'] );
+			$stmt->setString( 3, $data['itemreleasedate'] );
+			$stmt->setString( 4, $data['itemmedianame'] );
+			$stmt->setString( 5, $data['itemcomment'] );
+			$stmt->setString( 6, $data['itemquantity'] );
+			$stmt->setString( 7, $data['itemidentifier'] );
 			$stmt->setString( 8, PHPMEDIADB_ITEM_VIDEO );
-			$stmt->setString( 9, $data['ItemPublisher'] );
+			$stmt->setString( 9, $data['itempublisher'] );
+			$stmt->setString( 10, $data['mediacodecid'] );
+			$stmt->setString( 11, $data['mediaformatid'] );
+			$stmt->setString( 12, $data['mediaagerestrictionid'] );
 			$stmt->executeUpdate();
 			
 			$id = $this->DATA->SQL->getLastInsert( $conn );
@@ -188,49 +193,33 @@
 		{
 			$conn = $this->DATA->SQL->getConnection();
 			$this->DATA->SQL->openTransaction( $conn );
-			$stmt = $conn->prepareStatement(	'UPDATE VideoDatas,
-												Items,
-												ItemTypes,
-												MediaCodecs,
-												MediaFormats,
-												MediaAgeRestrictions,
-												BinaryDatas
-												SET Items.ItemTitle = ?,
-												Items.ItemOriginalTitle = ?,
-												Items.ItemReleaseDate = ?,
-												Items.ItemMediaName = ?,
-												Items.ItemModificationDate = now(),
-												Items.ItemComment = ?,
-												Items.ItemQuantity = ?,
-												Items.ItemIdentifier = ?,
-												Items.ItemTypeID = ?,
-												Items.MediaCodecID = ?,
-												Items.MediaFormatID = ?,
-												Items.MediaAgeRestrictionID = ?,
-												Items.MediaStatusID = ?,
-												Items.ItemPicturesID = ?,
-												Items.ItemPublisher = ?
-												WHERE Items.ItemID = ?
-												AND VideoDatas.ItemID = Items.ItemID
-												AND Items.ItemTypeID = ItemTypes.ItemTypeID
-												AND Items.MediaCodecID = MediaCodecs.MediaCodecID
-												AND Items.MediaFormatID = MediaFormats.MediaFormatID
-												AND Items.MediaAgeRestrictionID = MediaAgeRestrictions.MediaAgeRestrictionID
-												AND Items.ItemPicturesID = BinaryDatas.ItemPicturesID' );
-			$stmt->setString( 1, $data['ItemTitle'] );
-			$stmt->setString( 2, $data['ItemOriginalTitle'] );
-			$stmt->setString( 3, $data['ItemReleaseDate'] );
-			$stmt->setString( 4, $data['ItemMediaName'] );
-			$stmt->setString( 5, $data['ItemComment'] );
-			$stmt->setString( 6, $data['ItemQuantity'] );
-			$stmt->setString( 7, $data['ItemIdentifier'] );
-			$stmt->setString( 8, $data['ItemTypeID'] );
-			$stmt->setString( 9, $data['MediaCodecID'] );
-			$stmt->setString( 10, $data['MediaFormatID'] );
-			$stmt->setString( 11, $data['MediaAgeRestrictionID'] );
-			$stmt->setString( 12, $data['ItemPicturesID'] );
-			$stmt->setString( 13, $data['ItemPublisher'] );
-			$stmt->setString( 14, $id );
+			$stmt = $conn->prepareStatement(	'Update Items
+													LEFT JOIN VideoDatas ON VideoDatas.ItemID=Items.ItemID
+													SET Items.ItemTitle = ?,
+													Items.ItemOriginalTitle = ?,
+													Items.ItemReleaseDate = ?,
+													Items.ItemMediaName = ?,
+													Items.ItemModificationDate = now(),
+													Items.ItemComment = ?,
+													Items.ItemQuantity = ?,
+													Items.ItemIdentifier = ?,
+													Items.MediaCodecID = ?,
+													Items.MediaFormatID = ?,
+													Items.MediaAgeRestrictionID = ?,
+													Items.ItemPublisher = ?
+													WHERE Items.ItemID = ?' );
+			$stmt->setString( 1, $data['itemtitle'] );
+			$stmt->setString( 2, $data['itemoriginaltitle'] );
+			$stmt->setString( 3, $data['itemreleasedate'] );
+			$stmt->setString( 4, $data['itemmedianame'] );
+			$stmt->setString( 5, $data['itemcomment'] );
+			$stmt->setString( 6, $data['itemquantity'] );
+			$stmt->setString( 7, $data['itemidentifier'] );
+			$stmt->setString( 8, $data['mediacodecid'] );
+			$stmt->setString( 9, $data['mediaformatid'] );
+			$stmt->setString( 10, $data['mediaagerestrictionid'] );
+			$stmt->setString( 11, $data['itempublisher'] );
+			$stmt->setString( 12, $id );
 			$stmt->executeUpdate();
 			$this->DATA->SQL->commitTransaction( $conn );
 		}
@@ -259,11 +248,11 @@
 			$conn = $this->DATA->SQL->getConnection();
 			$this->DATA->SQL->openTransaction( $conn );
 			$stmt = $conn->prepareStatement(	'DELETE VideoDatas, Items, BinaryDatas, Categories_has_Items
-												FROM AudioDatas, Items, BinaryDatas, Categories_has_Items
-												WHERE Items.ItemID = ?
-												AND VideoDatas.ItemID = Items.ItemID
-												AND Items.ItemPicturesID = BinaryDatas.ItemPicturesID
-												AND Items.ItemID = Categories_has_Items.ItemID' );
+													FROM Items
+													LEFT JOIN VideoDatas ON VideoDatas.ItemID=Items.ItemID
+													LEFT JOIN Categories_has_Items ON Categories_has_Items.ItemID=Items.ItemID
+													LEFT JOIN BinaryDatas ON  BinaryDatas.ItemPicturesID=Items.ItemPicturesID
+													WHERE Items.ItemID = ?' );
 			$stmt->setString( 1, $id );
 			$stmt->executeUpdate();
 			$this->DATA->SQL->commitTransaction( $conn );



From nobody at sheep.berlios.de  Wed Apr 13 13:56:09 2005
From: nobody at sheep.berlios.de (bruf)
Date: Wed, 13 Apr 2005 13:56:09 +0200
Subject: [phpmediadb-cvs] phpmediadb-cvs/_source phpmediadb.php,1.10,1.11
Message-ID: <200504131156.j3DBu9m21089@bat.berlios.de>

Update of /cvsroot/phpmediadb/phpmediadb-cvs/_source
In directory sheep:/tmp/cvs-serv14912/_source

Modified Files:
	phpmediadb.php 
Log Message:
* Added required class phpmediadb_business_items

Index: phpmediadb.php
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/_source/phpmediadb.php,v
retrieving revision 1.10
retrieving revision 1.11
diff -u -d -r1.10 -r1.11
--- phpmediadb.php	12 Apr 2005 18:52:48 -0000	1.10
+++ phpmediadb.php	13 Apr 2005 11:56:05 -0000	1.11
@@ -43,6 +43,7 @@
 	require_once( 'tier.business/class.phpmediadb_business_categories.php' );
 	require_once( 'tier.business/class.phpmediadb_business_codecs.php' );
 	require_once( 'tier.business/class.phpmediadb_business_formats.php' );
+	require_once( 'tier.business/class.phpmediadb_business_items.php' );
 	require_once( 'tier.business/class.phpmediadb_business_inspector.php' );
 	require_once( 'tier.business/class.phpmediadb_business_prints.php' );
 	require_once( 'tier.business/class.phpmediadb_business_videos.php' );



From nobody at sheep.berlios.de  Wed Apr 13 13:56:29 2005
From: nobody at sheep.berlios.de (bruf)
Date: Wed, 13 Apr 2005 13:56:29 +0200
Subject: [phpmediadb-cvs] phpmediadb-cvs item-details.php,1.1,1.2
Message-ID: <200504131156.j3DBuTm21104@bat.berlios.de>

Update of /cvsroot/phpmediadb/phpmediadb-cvs
In directory sheep:/tmp/cvs-serv15209

Modified Files:
	item-details.php 
Log Message:
* Fixed syntax mistakes

Index: item-details.php
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/item-details.php,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- item-details.php	12 Apr 2005 18:48:33 -0000	1.1
+++ item-details.php	13 Apr 2005 11:56:26 -0000	1.2
@@ -16,5 +16,72 @@
 /* create object */
 $PHPMEDIADB	= new phpmediadb(); 
 
+//-----------------------------------------------------------------------------
+function itemdetails_getItemId()
+{
+	/* init */
+	global $PHPMEDIADB;
+	$itemID = $_GET['itemid'];
+
+	/* check if itemid is numerical/valid */
+	if( !is_numeric( $itemID ) )
+	{
+		/* %MESSAGE_ITEMID_NOTNUMERICAL% */
+		$message = $PHPMEDIADB->PRESENTATION->I18N->translate( 'MESSAGE_ITEMID_NOTNUMERICAL' );
+		@$PHPMEDIADB->PRESENTATION->CONTENTVARS->addNode( 'MESSAGE.BODY', $message  );
+		$PHPMEDIADB->PRESENTATION->HTMLSERVICE->displayMain( 'body.message.tpl' );
+		die();
+	}
+	
+	/* check if item exists */
+	if( !$PHPMEDIADB->DATA->ITEMS->exists( $itemID ) )
+	{
+		/* %MESSAGE_ITEM_NOTEXISTENT% */
+		$message = $PHPMEDIADB->PRESENTATION->I18N->translate( 'MESSAGE_ITEM_NOTEXISTENT' );
+		@$PHPMEDIADB->PRESENTATION->CONTENTVARS->addNode( 'MESSAGE.BODY', $message  );
+		$PHPMEDIADB->PRESENTATION->HTMLSERVICE->displayMain( 'body.message.tpl' );
+		die();		
+	}
+	 
+	return $itemID;	
+}
+//-----------------------------------------------------------------------------
+function itemdetails_showDetails( $itemId )
+{
+	/* init */
+	global $PHPMEDIADB;
+	
+	/* get itemdata */
+	$data = $PHPMEDIADB->BUSINESS->ITEMS->get( $itemId );
+
+	switch( $data['itemtypeid'] )
+	{
+		case(PHPMEDIADB_ITEM_AUDIO):
+			$template = 'body.item.audio.show.tpl';
+		break;
+	
+	
+		case(PHPMEDIADB_ITEM_VIDEO):
+			$template = 'body.item.video.show.tpl';
+		break;
+	
+	
+		case(PHPMEDIADB_ITEM_PRINT):
+			$template = 'body.item.print.show.tpl';
+		break;
+	}
+	
+	@$PHPMEDIADB->PRESENTATION->CONTENTVARS->addNode( 'ITEM', $data );
+	$PHPMEDIADB->PRESENTATION->HTMLSERVICE->displayMain( $template );
+}
+
+//-----------------------------------------------------------------------------
+
+/* get itemid */
+$itemId = itemdetails_getItemId();
+
+/* show details */
+itemdetails_showDetails( $itemId );
+
 //--- EOF --- EOF --- EOF --- EOF --- EOF --- EOF --- EOF --- EOF --- EOF ---
 ?>



From nobody at sheep.berlios.de  Wed Apr 13 13:56:54 2005
From: nobody at sheep.berlios.de (bruf)
Date: Wed, 13 Apr 2005 13:56:54 +0200
Subject: [phpmediadb-cvs] phpmediadb-cvs/_source/tier.configuration config.business.php,1.8,1.9
Message-ID: <200504131156.j3DBusm21120@bat.berlios.de>

Update of /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.configuration
In directory sheep:/tmp/cvs-serv15670/_source/tier.configuration

Modified Files:
	config.business.php 
Log Message:
* Changed some configuration

Index: config.business.php
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.configuration/config.business.php,v
retrieving revision 1.8
retrieving revision 1.9
diff -u -d -r1.8 -r1.9
--- config.business.php	12 Apr 2005 20:53:26 -0000	1.8
+++ config.business.php	13 Apr 2005 11:56:52 -0000	1.9
@@ -16,27 +16,27 @@
  * Itemsepecifications (regex etc.)
  */ 
 
-$phpMediaDbConfig['BUSINESS']['input-regex'][PHPMEDIADB_ITEM_AUDIO]['ItemTitle'] 				= '^.{1,255}$';
-$phpMediaDbConfig['BUSINESS']['input-regex'][PHPMEDIADB_ITEM_AUDIO]['ItemOriginalTitle']		= '^(.{1,255})?$';
-$phpMediaDbConfig['BUSINESS']['input-regex'][PHPMEDIADB_ITEM_AUDIO]['ItemMediaName']			= '^(.{1,255})?$';
-$phpMediaDbConfig['BUSINESS']['input-regex'][PHPMEDIADB_ITEM_AUDIO]['ItemIdentification']		= '^(.{1,255})?$';
-$phpMediaDbConfig['BUSINESS']['input-regex'][PHPMEDIADB_ITEM_AUDIO]['ItemReleaseDate']				= '^([[:digit:]]{4})?$';
-$phpMediaDbConfig['BUSINESS']['input-regex'][PHPMEDIADB_ITEM_AUDIO]['Categories']				= '^([[:digit:]]+)?$';
-$phpMediaDbConfig['BUSINESS']['input-regex'][PHPMEDIADB_ITEM_AUDIO]['ItemMediaSize']			= '^(([[:digit:]]+([[:punct:]]{1}[[:digit:]]+)))?$';
-$phpMediaDbConfig['BUSINESS']['input-regex'][PHPMEDIADB_ITEM_AUDIO]['MediaFormatID']			= '^([[:digit:]]+)?$';
-$phpMediaDbConfig['BUSINESS']['input-regex'][PHPMEDIADB_ITEM_AUDIO]['ItemPublisher']			= '^(.{1,255})?$';
-$phpMediaDbConfig['BUSINESS']['input-regex'][PHPMEDIADB_ITEM_AUDIO]['MediaAgeRestrictionID']	= '^([[:digit:]]+)?$';
-$phpMediaDbConfig['BUSINESS']['input-regex'][PHPMEDIADB_ITEM_AUDIO]['MediaCodecID']				= '^([[:digit:]]+)?$';
-$phpMediaDbConfig['BUSINESS']['input-regex'][PHPMEDIADB_ITEM_AUDIO]['ItemQuantity']				= '^(.{1,255})?$';
+$phpMediaDbConfig['BUSINESS']['input-regex'][PHPMEDIADB_ITEM_AUDIO]['itemtitle'] 				= '^.{1,255}$';
+$phpMediaDbConfig['BUSINESS']['input-regex'][PHPMEDIADB_ITEM_AUDIO]['itemoriginaltitle']		= '^(.{1,255})?$';
+$phpMediaDbConfig['BUSINESS']['input-regex'][PHPMEDIADB_ITEM_AUDIO]['itemmedianame']			= '^(.{1,255})?$';
+$phpMediaDbConfig['BUSINESS']['input-regex'][PHPMEDIADB_ITEM_AUDIO]['itemidentification']		= '^(.{1,255})?$';
+$phpMediaDbConfig['BUSINESS']['input-regex'][PHPMEDIADB_ITEM_AUDIO]['itemreleasedate']				= '^([[:digit:]]{4})?$';
+$phpMediaDbConfig['BUSINESS']['input-regex'][PHPMEDIADB_ITEM_AUDIO]['categories']				= '^([[:digit:]]+)?$';
+$phpMediaDbConfig['BUSINESS']['input-regex'][PHPMEDIADB_ITEM_AUDIO]['itemmediasize']			= '^(([[:digit:]]+([[:punct:]]{1}[[:digit:]]+)))?$';
+$phpMediaDbConfig['BUSINESS']['input-regex'][PHPMEDIADB_ITEM_AUDIO]['mediaformatid']			= '^([[:digit:]]+)?$';
+$phpMediaDbConfig['BUSINESS']['input-regex'][PHPMEDIADB_ITEM_AUDIO]['itempublisher']			= '^(.{1,255})?$';
+$phpMediaDbConfig['BUSINESS']['input-regex'][PHPMEDIADB_ITEM_AUDIO]['mediaagerestrictionid']	= '^([[:digit:]]+)?$';
+$phpMediaDbConfig['BUSINESS']['input-regex'][PHPMEDIADB_ITEM_AUDIO]['mediacodecid']				= '^([[:digit:]]+)?$';
+$phpMediaDbConfig['BUSINESS']['input-regex'][PHPMEDIADB_ITEM_AUDIO]['itemquantity']				= '^(.{1,255})?$';
 
-$phpMediaDbConfig['BUSINESS']['input-size'][PHPMEDIADB_ITEM_AUDIO]['ItemTitle'] 				= 255;
-$phpMediaDbConfig['BUSINESS']['input-size'][PHPMEDIADB_ITEM_AUDIO]['ItemOriginalTitle']			= 255;
-$phpMediaDbConfig['BUSINESS']['input-size'][PHPMEDIADB_ITEM_AUDIO]['ItemMediaName']				= 255;
-$phpMediaDbConfig['BUSINESS']['input-size'][PHPMEDIADB_ITEM_AUDIO]['ItemIdentification']		= 255;
-$phpMediaDbConfig['BUSINESS']['input-size'][PHPMEDIADB_ITEM_AUDIO]['ItemReleaseDate']			= 4;
-$phpMediaDbConfig['BUSINESS']['input-size'][PHPMEDIADB_ITEM_AUDIO]['ItemMediaSize']				= 255;
-$phpMediaDbConfig['BUSINESS']['input-size'][PHPMEDIADB_ITEM_AUDIO]['ItemPublisher']				= 255;
-$phpMediaDbConfig['BUSINESS']['input-size'][PHPMEDIADB_ITEM_AUDIO]['ItemQuantity']				= 255;
+$phpMediaDbConfig['BUSINESS']['input-size'][PHPMEDIADB_ITEM_AUDIO]['itemtitle'] 				= 255;
+$phpMediaDbConfig['BUSINESS']['input-size'][PHPMEDIADB_ITEM_AUDIO]['itemoriginaltitle']			= 255;
+$phpMediaDbConfig['BUSINESS']['input-size'][PHPMEDIADB_ITEM_AUDIO]['itemmedianame']				= 255;
+$phpMediaDbConfig['BUSINESS']['input-size'][PHPMEDIADB_ITEM_AUDIO]['itemidentification']		= 255;
+$phpMediaDbConfig['BUSINESS']['input-size'][PHPMEDIADB_ITEM_AUDIO]['itemreleasedate']			= 4;
+$phpMediaDbConfig['BUSINESS']['input-size'][PHPMEDIADB_ITEM_AUDIO]['itemmediasize']				= 255;
+$phpMediaDbConfig['BUSINESS']['input-size'][PHPMEDIADB_ITEM_AUDIO]['itempublisher']				= 255;
+$phpMediaDbConfig['BUSINESS']['input-size'][PHPMEDIADB_ITEM_AUDIO]['itemquantity']				= 255;
 
 //--- EOF --- EOF --- EOF --- EOF --- EOF --- EOF --- EOF --- EOF --- EOF ---
 ?>



From nobody at sheep.berlios.de  Wed Apr 13 16:58:21 2005
From: nobody at sheep.berlios.de (mblaschke)
Date: Wed, 13 Apr 2005 16:58:21 +0200
Subject: [phpmediadb-cvs] phpmediadb-cvs/_source/tier.data class.phpmediadb_data_prints.php,1.14,1.15
Message-ID: <200504131458.j3DEwLm25936@bat.berlios.de>

Update of /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.data
In directory sheep:/tmp/cvs-serv15433/_source/tier.data

Modified Files:
	class.phpmediadb_data_prints.php 
Log Message:
* Fixed bug in phpmediadb_data_prints::create

Index: class.phpmediadb_data_prints.php
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.data/class.phpmediadb_data_prints.php,v
retrieving revision 1.14
retrieving revision 1.15
diff -u -d -r1.14 -r1.15
--- class.phpmediadb_data_prints.php	13 Apr 2005 11:53:40 -0000	1.14
+++ class.phpmediadb_data_prints.php	13 Apr 2005 14:58:19 -0000	1.15
@@ -162,7 +162,7 @@
 			
 			$id = $this->DATA->SQL->getLastInsert( $conn );
 			
-			$stmt = $conn->prepareStatement( 'INSERT INTO VideoDatas ( ItemID ) VALUES( ? )' );
+			$stmt = $conn->prepareStatement( 'INSERT INTO PrintDatas ( ItemID ) VALUES( ? )' );
 			$stmt->setString( 1, $id );
 			$stmt->executeUpdate();
 			$this->DATA->SQL->commitTransaction( $conn );



From nobody at sheep.berlios.de  Wed Apr 13 16:59:33 2005
From: nobody at sheep.berlios.de (mblaschke)
Date: Wed, 13 Apr 2005 16:59:33 +0200
Subject: [phpmediadb-cvs] phpmediadb-cvs item-details.php,1.2,1.3
Message-ID: <200504131459.j3DExXm25961@bat.berlios.de>

Update of /cvsroot/phpmediadb/phpmediadb-cvs
In directory sheep:/tmp/cvs-serv15678

Modified Files:
	item-details.php 
Log Message:
* Added loaderror at itemdetails_showDetails

Index: item-details.php
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/item-details.php,v
retrieving revision 1.2
retrieving revision 1.3
diff -u -d -r1.2 -r1.3
--- item-details.php	13 Apr 2005 11:56:26 -0000	1.2
+++ item-details.php	13 Apr 2005 14:59:30 -0000	1.3
@@ -69,9 +69,17 @@
 		case(PHPMEDIADB_ITEM_PRINT):
 			$template = 'body.item.print.show.tpl';
 		break;
+		
+		default:
+			/* %MESSAGE_ITEM_LOADERROR% */
+			$message = $PHPMEDIADB->PRESENTATION->I18N->translate( 'MESSAGE_ITEM_LOADERROR' );
+			@$PHPMEDIADB->PRESENTATION->CONTENTVARS->addNode( 'MESSAGE.BODY', $message  );
+			$PHPMEDIADB->PRESENTATION->HTMLSERVICE->displayMain( 'body.message.tpl' );
+			die();	
+		break;
 	}
 	
-	@$PHPMEDIADB->PRESENTATION->CONTENTVARS->addNode( 'ITEM', $data );
+	@$PHPMEDIADB->PRESENTATION->CONTENTVARS->addNode( 'ITEMDATA', $data );
 	$PHPMEDIADB->PRESENTATION->HTMLSERVICE->displayMain( $template );
 }
 



From nobody at sheep.berlios.de  Wed Apr 13 17:00:20 2005
From: nobody at sheep.berlios.de (mblaschke)
Date: Wed, 13 Apr 2005 17:00:20 +0200
Subject: [phpmediadb-cvs] phpmediadb-cvs list.php,1.4,1.5
Message-ID: <200504131500.j3DF0Km26051@bat.berlios.de>

Update of /cvsroot/phpmediadb/phpmediadb-cvs
In directory sheep:/tmp/cvs-serv15749

Modified Files:
	list.php 
Log Message:
* Fixed bug in listing of print-items

Index: list.php
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/list.php,v
retrieving revision 1.4
retrieving revision 1.5
diff -u -d -r1.4 -r1.5
--- list.php	10 Apr 2005 01:35:18 -0000	1.4
+++ list.php	13 Apr 2005 15:00:18 -0000	1.5
@@ -34,6 +34,7 @@
 			
 		case 'video':
 				/* get data list */
+				
 				$dataList = $PHPMEDIADB->BUSINESS->VIDEOS->getList();		
 				@$PHPMEDIADB->PRESENTATION->CONTENTVARS->addNode( 'ITEMDATA', $dataList );
 
@@ -43,7 +44,7 @@
 			
 		case 'print':
 				/* get data list */
-				$dataList[] = $PHPMEDIADB->BUSINESS->PRINTS->getList();		
+				$dataList = $PHPMEDIADB->BUSINESS->PRINTS->getList();		
 				@$PHPMEDIADB->PRESENTATION->CONTENTVARS->addNode( 'ITEMDATA', $dataList );
 
 				/* set template */



From nobody at sheep.berlios.de  Wed Apr 13 17:02:27 2005
From: nobody at sheep.berlios.de (mblaschke)
Date: Wed, 13 Apr 2005 17:02:27 +0200
Subject: [phpmediadb-cvs] phpmediadb-cvs/_source/tier.business class.phpmediadb_business_items.php,1.1,1.2
Message-ID: <200504131502.j3DF2Rm26616@bat.berlios.de>

Update of /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.business
In directory sheep:/tmp/cvs-serv15949/_source/tier.business

Modified Files:
	class.phpmediadb_business_items.php 
Log Message:
* Added special-data to phpmediadb_business_items::get

Index: class.phpmediadb_business_items.php
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.business/class.phpmediadb_business_items.php,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- class.phpmediadb_business_items.php	13 Apr 2005 11:49:51 -0000	1.1
+++ class.phpmediadb_business_items.php	13 Apr 2005 15:02:24 -0000	1.2
@@ -97,9 +97,18 @@
 		/* assign category-ids */
 		if( is_array( $categories ) )
 		{
-			foreach( $categories as $key => $value )
-				$returnValue['categories'][] = $value['categoryid'];
+			foreach( $categories as $value )
+			{
+				$returnValue['categories'][]		= $value['categoryid'];
+				$specialValue['categoryid']		= $value['categoryid'];
+				$specialValue['categoryname']	= $value['categoryname'];
+				
+				$returnValue['__special']['categories'][] = $specialValue;
+			}
 		}
+		
+		/* translate categoryByNames */
+		$returnValue['__special']['categories'] = $this->BUSINESS->CATEGORIES->translate( $returnValue['__special']['categories'] );
 
 			
 		/* return value */



From nobody at sheep.berlios.de  Wed Apr 13 17:03:35 2005
From: nobody at sheep.berlios.de (mblaschke)
Date: Wed, 13 Apr 2005 17:03:35 +0200
Subject: [phpmediadb-cvs] phpmediadb-cvs/_source/tier.business class.phpmediadb_business_prints.php,1.5,1.6 class.phpmediadb_business_videos.php,1.5,1.6
Message-ID: <200504131503.j3DF3Zm27064@bat.berlios.de>

Update of /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.business
In directory sheep:/tmp/cvs-serv16046/_source/tier.business

Modified Files:
	class.phpmediadb_business_prints.php 
	class.phpmediadb_business_videos.php 
Log Message:
* Rewritten whole class

Index: class.phpmediadb_business_prints.php
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.business/class.phpmediadb_business_prints.php,v
retrieving revision 1.5
retrieving revision 1.6
diff -u -d -r1.5 -r1.6
--- class.phpmediadb_business_prints.php	24 Mar 2005 20:43:35 -0000	1.5
+++ class.phpmediadb_business_prints.php	13 Apr 2005 15:03:33 -0000	1.6
@@ -42,6 +42,7 @@
 	protected $DATA = null;
 	
 	// --- OPERATIONS ---
+	
 //-----------------------------------------------------------------------------
 	/**
 	 * The constructor __construct initalizes the Class.
@@ -62,6 +63,41 @@
 
 //-----------------------------------------------------------------------------
 	/**
+	 * Creates an empty dataset
+	 *
+	 * @access public
+	 * @author phpMediaDB Team - http://phpmediadb.berlios.de/
+	 * @return Array Empty dataset
+	 */
+	 public function createEmpty()
+	 {
+		/* init */
+		$returnValue = array();
+	 	
+		/* create empty itemset */
+		$returnValue['ItemTitle'] 				= '';
+		$returnValue['ItemOriginalTitle']		= '';
+		$returnValue['ItemMediaName']			= '';
+		$returnValue['ItemIdentification']		= '';
+		$returnValue['ItemRelease']				= '';
+		$returnValue['Categories']				= array();
+		$returnValue['ItemMediaSize']			= '';
+		$returnValue['MediaFormatID']			= '';
+		$returnValue['BinaryData']				= '';
+		$returnValue['PublisherName']			= '';
+		$returnValue['MediaAgeRestrictionID']	= '';
+		$returnValue['MediaCodecID']			= '';
+		$returnValue['ItemQuantity']			= '';
+		$returnValue['ItemPublisher']			= '';
+		$returnValue['ItemCreationDate']		= NULL;
+		$returnValue['ItemModificationDate']	= NULL;
+			
+		/* return data */
+		return $returnValue;
+	 }
+
+//-----------------------------------------------------------------------------
+	/**
 	 * Returns one item from the batabase
 	 *
 	 * @access public
@@ -112,8 +148,16 @@
 		/* init */
 		$returnValue = false;
 		
-		/* delegate */
-		$returnValue = $this->DATA->PRINTS->create( $data );
+		/* create itemdata */
+		$itemId = $this->DATA->PRINTS->create( $data );
+		
+		/* link item with categories */
+		if( is_array( $data['categories'] ) )
+		{
+			foreach( $data['categories'] as $categoryId )
+				$this->BUSINESS->CATEGORIES->addLink( $itemId, $categoryId );
+		}
+
 		
 		/* return data */
 		return $returnValue;
@@ -135,6 +179,17 @@
 		
 		/* delegate */
 		$returnValue = $this->DATA->PRINTS->modify( $id, $data );
+		
+		/* delete categorylinks */
+		$this->BUSINESS->CATEGORIES->removeAllLinks( $id );
+		
+		/* reassign new categories */
+		if( is_array( $data['categories'] ) )
+		{
+			foreach( $data['categories'] as $categoryId )
+				$this->BUSINESS->CATEGORIES->addLink( $id, $categoryId );
+		}
+
 		
 		/* return data */
 		return $returnValue;

Index: class.phpmediadb_business_videos.php
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.business/class.phpmediadb_business_videos.php,v
retrieving revision 1.5
retrieving revision 1.6
diff -u -d -r1.5 -r1.6
--- class.phpmediadb_business_videos.php	24 Mar 2005 20:43:35 -0000	1.5
+++ class.phpmediadb_business_videos.php	13 Apr 2005 15:03:33 -0000	1.6
@@ -42,6 +42,7 @@
 	protected $DATA = null;
 	
 	// --- OPERATIONS ---
+	
 //-----------------------------------------------------------------------------
 	/**
 	 * The constructor __construct initalizes the Class.
@@ -62,6 +63,41 @@
 
 //-----------------------------------------------------------------------------
 	/**
+	 * Creates an empty dataset
+	 *
+	 * @access public
+	 * @author phpMediaDB Team - http://phpmediadb.berlios.de/
+	 * @return Array Empty dataset
+	 */
+	 public function createEmpty()
+	 {
+		/* init */
+		$returnValue = array();
+	 	
+		/* create empty itemset */
+		$returnValue['ItemTitle'] 				= '';
+		$returnValue['ItemOriginalTitle']		= '';
+		$returnValue['ItemMediaName']			= '';
+		$returnValue['ItemIdentification']		= '';
+		$returnValue['ItemRelease']				= '';
+		$returnValue['Categories']				= array();
+		$returnValue['ItemMediaSize']			= '';
+		$returnValue['MediaFormatID']			= '';
+		$returnValue['BinaryData']				= '';
+		$returnValue['PublisherName']			= '';
+		$returnValue['MediaAgeRestrictionID']	= '';
+		$returnValue['MediaCodecID']			= '';
+		$returnValue['ItemQuantity']			= '';
+		$returnValue['ItemPublisher']			= '';
+		$returnValue['ItemCreationDate']		= NULL;
+		$returnValue['ItemModificationDate']	= NULL;
+			
+		/* return data */
+		return $returnValue;
+	 }
+
+//-----------------------------------------------------------------------------
+	/**
 	 * Returns one item from the batabase
 	 *
 	 * @access public
@@ -112,8 +148,16 @@
 		/* init */
 		$returnValue = false;
 		
-		/* delegate */
-		$returnValue = $this->DATA->VIDEOS->create( $data );
+		/* create itemdata */
+		$itemId = $this->DATA->VIDEOS->create( $data );
+		
+		/* link item with categories */
+		if( is_array( $data['categories'] ) )
+		{
+			foreach( $data['categories'] as $categoryId )
+				$this->BUSINESS->CATEGORIES->addLink( $itemId, $categoryId );
+		}
+
 		
 		/* return data */
 		return $returnValue;
@@ -135,6 +179,17 @@
 		
 		/* delegate */
 		$returnValue = $this->DATA->VIDEOS->modify( $id, $data );
+		
+		/* delete categorylinks */
+		$this->BUSINESS->CATEGORIES->removeAllLinks( $id );
+		
+		/* reassign new categories */
+		if( is_array( $data['categories'] ) )
+		{
+			foreach( $data['categories'] as $categoryId )
+				$this->BUSINESS->CATEGORIES->addLink( $id, $categoryId );
+		}
+
 		
 		/* return data */
 		return $returnValue;



From nobody at sheep.berlios.de  Wed Apr 13 17:04:30 2005
From: nobody at sheep.berlios.de (mblaschke)
Date: Wed, 13 Apr 2005 17:04:30 +0200
Subject: [phpmediadb-cvs] phpmediadb-cvs/_source/tier.configuration/templates body.item.audio.formular.tpl,1.8,1.9
Message-ID: <200504131504.j3DF4Um27362@bat.berlios.de>

Update of /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.configuration/templates
In directory sheep:/tmp/cvs-serv16070/_source/tier.configuration/templates

Modified Files:
	body.item.audio.formular.tpl 
Log Message:
* Changed i18n-string-names

Index: body.item.audio.formular.tpl
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.configuration/templates/body.item.audio.formular.tpl,v
retrieving revision 1.8
retrieving revision 1.9
diff -u -d -r1.8 -r1.9
--- body.item.audio.formular.tpl	13 Apr 2005 11:50:49 -0000	1.8
+++ body.item.audio.formular.tpl	13 Apr 2005 15:04:27 -0000	1.9
@@ -1,13 +1,13 @@
 <form method="post">
-<div>
-<h1>{$I18N.MEDIA_DATA_AUDIO|default:"%MEDIA_DATA_AUDIO%"}</h1>
+<div id="phpmediadb-body-formular-audio" class="phpmediadb-body-formular">
+<h1>{$I18N.MEDIA_AUDIO_TITLE|default:"%MEDIA_AUDIO_TITLE%"}</h1>
 {if $INPUTERROR.general eq "1"}<span class="phpmediadb-body-inputerror">{$I18N.ERROR_OCCURRED|default:"%ERROR_OCCURRED%"} <a href="#errorlist">{$I18N.ERROR_LISTLINK|default:"%ERROR_LISTLINK%"}</a></span><br />{/if}
 <table>
 	<colgroup>
 		<col/>
 	</colgroup>
 	<tr>
-		<td>{$I18N.MEDIA_AUDIO_TITLE|default:"%MEDIA_AUDIO_TITLE%"}</td>
+		<td>{$I18N.MEDIA_AUDIO_ITEM_TITLE|default:"%MEDIA_AUDIO_ITEM_TITLE%"}</td>
 		<td>
 			<input type="text" name="itemdata[itemtitle]" maxlength="{$INPUTSIZE.itemtitle|default:"255"}" value="{$ITEMDATA.itemtitle}" />
 			{if $INPUTERROR.flag.itemtitle eq "1" }<span class="phpmediadb-body-inputerror">{$I18N.ERROR_FLAG|default:"*"}</span>{/if}
@@ -15,7 +15,7 @@
 	</tr>
 
 	<tr>
-		<td>{$I18N.MEDIA_AUDIO_ORIGINALTITLE|default:"%MEDIA_AUDIO_ORIGINALTITLE%"}</td>
+		<td>{$I18N.MEDIA_AUDIO_ITEM_ORIGINALTITLE|default:"%MEDIA_AUDIO_ITEM_ORIGINALTITLE%"}</td>
 		<td>
 			<input type="text" name="itemdata[itemoriginaltitle]" maxlength="{$INPUTSIZE.itemoriginaltitle|default:"255"}" value="{$ITEMDATA.itemoriginaltitle}" />
 			{if $INPUTERROR.flag.itemoriginaltitle eq "1" }<span class="phpmediadb-body-inputerror">{$I18N.ERROR_FLAG|default:"*"}</span>{/if}
@@ -23,7 +23,7 @@
 	</tr>
 
 	<tr>
-		<td>{$I18N.MEDIA_AUDIO_MEDIANAME|default:"%MEDIA_AUDIO_MEDIANAME%"}</td>
+		<td>{$I18N.MEDIA_AUDIO_ITEM_MEDIANAME|default:"%MEDIA_AUDIO_ITEM_MEDIANAME%"}</td>
 		<td>
 			<input type="text" name="itemdata[itemmedianame]" maxlength="{$INPUTSIZE.itemmedianame|default:"255"}" value="{$ITEMDATA.itemmedianame}" />
 			{if $INPUTERROR.flag.itemmedianame eq "1" }<span class="phpmediadb-body-inputerror">{$I18N.ERROR_FLAG|default:"*"}</span>{/if}
@@ -31,7 +31,7 @@
 	</tr>
 
 	<tr>
-		<td>{$I18N.MEDIA_AUDIO_IDENTIFICATION|default:"%MEDIA_AUDIO_IDENTIFICATION%"}</td>
+		<td>{$I18N.MEDIA_AUDIO_ITEM_IDENTIFICATION|default:"%MEDIA_AUDIO_ITEM_IDENTIFICATION%"}</td>
 		<td>
 			<input type="text" name="itemdata[itemidentifier]" maxlength="{$INPUTSIZE.itemidentifier|default:"255"}" value="{$ITEMDATA.itemidentifier}" />
 			{if $INPUTERROR.flag.itemidentifier eq "1" }<span class="phpmediadb-body-inputerror">{$I18N.ERROR_FLAG|default:"*"}</span>{/if}
@@ -39,7 +39,7 @@
 	</tr>
 
 	<tr>
-		<td>{$I18N.MEDIA_AUDIO_RELEASEYEAR|default:"%MEDIA_AUDIO_RELEASEYEAR%"}</td>
+		<td>{$I18N.MEDIA_AUDIO_ITEM_RELEASEYEAR|default:"%MEDIA_AUDIO_ITEM_RELEASEYEAR%"}</td>
 		<td>
 			<input type="text" name="itemdata[itemreleasedate]" maxlength="{$INPUTSIZE.itemreleasedate|default:"4"}" value="{$ITEMDATA.itemreleasedate}" />
 			{if $INPUTERROR.flag.itemreleasedate eq "1" }<span class="phpmediadb-body-inputerror">{$I18N.ERROR_FLAG|default:"*"}</span>{/if}
@@ -47,7 +47,7 @@
 	</tr>
 
 	<tr>
-		<td>{$I18N.MEDIA_AUDIO_CATEGORY|default:"%MEDIA_AUDIO_CATEGORY%"}</td>
+		<td>{$I18N.MEDIA_AUDIO_ITEM_CATEGORY|default:"%MEDIA_AUDIO_ITEM_CATEGORY%"}</td>
 		<td>
 			<select name="itemdata[categories][]" size="5" multiple="true">
 {foreach from=$DATA.CATEGORIES item=currentDataItem}
@@ -68,7 +68,7 @@
 	</tr>
 
 	<tr>
-		<td>{$I18N.MEDIA_AUDIO_MEDIASIZE|default:"%MEDIA_AUDIO_MEDIASIZE%"}</td>
+		<td>{$I18N.MEDIA_AUDIO_ITEM_MEDIASIZE|default:"%MEDIA_AUDIO_ITEM_MEDIASIZE%"}</td>
 		<td>
 			<input type="text" name="itemdata[itemmediasize]" maxlength="{$INPUTSIZE.itemmediasize|default:"255"}" value="{$ITEMDATA.itemmediasize}" />
 			{if $INPUTERROR.flag.itemmediasize eq "1" }<span class="phpmediadb-body-inputerror">{$I18N.ERROR_FLAG|default:"*"}</span>{/if}
@@ -76,10 +76,10 @@
 	</tr>
 
 	<tr>
-		<td>{$I18N.MEDIA_AUDIO_FORMAT|default:"%MEDIA_AUDIO_FORMAT%"}</td>
+		<td>{$I18N.MEDIA_AUDIO_ITEM_FORMAT|default:"%MEDIA_AUDIO_ITEM_FORMAT%"}</td>
 		<td>
 			<select name="itemdata[mediaformatid]">
-				<option value="0">{$I18N.OPTION_EMPTY|default:"%OPTION_EMPTY%"}</option>
+				<option value="0">{$I18N.FORMULAR_OPTION_ITEM_EMPTY|default:"%FORMULAR_OPTION_ITEM_EMPTY%"}</option>
 {foreach from=$DATA.MEDIAFORMATS item=currentDataItem key=currentDataKey}
 	{if $currentDataItem.mediaformatid eq $ITEMDATA.mediaformatid }
 				<option selected="true" value="{$currentDataItem.mediaformatid}">{$currentDataItem.mediaformatname}</option>
@@ -93,15 +93,16 @@
 	</tr>
 
 	<tr>
-		<td>{$I18N.MEDIA_AUDIO_IMAGE|default:"%MEDIA_AUDIO_IMAGE%"}</td>
+		<td>{$I18N.MEDIA_AUDIO_ITEM_IMAGE|default:"%MEDIA_AUDIO_ITEM_IMAGE%"}</td>
 		<td>
 			<img src="getbinary.php?itemid={$ITEMDATA.ID}" /><br />
-			<input type="file" name="itemdata[binarydata]" />
+			<input type="file" name="itemdata[picturedata]" />
+			{if $ITEMDATA.itemid gt '0'}<br /><input type="checkbox" name="itemdata[picturedelete]" value="1" />{$I18N.MEDIA_AUDIO_IMAGEDELETE|default:"%MEDIA_AUDIO_IMAGEDELETE%"}{/if}
 		</td>
 	</tr>
 
 	<tr>
-		<td>{$I18N.MEDIA_AUDIO_PUBLISHER|default:"%MEDIA_AUDIO_PUBLISHER%"}</td>
+		<td>{$I18N.MEDIA_AUDIO_ITEM_PUBLISHER|default:"%MEDIA_AUDIO_ITEM_PUBLISHER%"}</td>
 		<td>
 			<input type="text" name="itemdata[itempublisher]" maxlength="{$INPUTSIZE.itempublisher|default:"255"}" value="{$ITEMDATA.itempublisher}" />
 			{if $INPUTERROR.flag.itempublisher eq "1" }<span class="phpmediadb-body-inputerror">{$I18N.ERROR_FLAG|default:"*"}</span>{/if}
@@ -109,10 +110,10 @@
 	</tr>
 
 	<tr>
-		<td>{$I18N.MEDIA_AUDIO_AGERESTRICTION|default:"%MEDIA_AUDIO_AGERESTRICTION%"}</td>
+		<td>{$I18N.MEDIA_AUDIO_ITEM_AGERESTRICTION|default:"%MEDIA_AUDIO_ITEM_AGERESTRICTION%"}</td>
 		<td>
 			<select name="itemdata[mediaagerestrictionid]">
-				<option value="0">{$I18N.OPTION_EMPTY|default:"%OPTION_EMPTY%"}</option>
+				<option value="0">{$I18N.FORMULAR_OPTION_ITEM_EMPTY|default:"%FORMULAR_OPTION_ITEM_EMPTY%"}</option>
 {foreach from=$DATA.AGERESTRICTIONS item=currentDataItem}
 	{if $currentDataItem.mediaagerestrictionid eq $ITEMDATA.mediaagerestrictionid }
 				<option selected="true" value="{$currentDataItem.mediaagerestrictionid}">{$currentDataItem.mediaagerestriction}</option>
@@ -126,10 +127,10 @@
 	</tr>
 
 	<tr>
-		<td>{$I18N.MEDIA_AUDIO_CODEC|default:"%MEDIA_AUDIO_CODEC%"}</td>
+		<td>{$I18N.MEDIA_AUDIO_ITEM_CODEC|default:"%MEDIA_AUDIO_ITEM_CODEC%"}</td>
 		<td>
 			<select name="itemdata[mediacodecid]">
-				<option value="0">{$I18N.OPTION_EMPTY|default:"%OPTION_EMPTY%"}</option>
+				<option value="0">{$I18N.FORMULAR_OPTION_ITEM_EMPTY|default:"%FORMULAR_OPTION_ITEM_EMPTY%"}</option>
 {foreach from=$DATA.CODECS item=currentDataItem}
 	{if $currentDataItem.mediacodecid eq $ITEMDATA.mediacodecid }
 				<option selected="true" value="{$currentDataItem.mediacodecid}">{$currentDataItem.mediacodecname}</option>
@@ -143,7 +144,7 @@
 	</tr>
 
 	<tr>
-		<td>{$I18N.MEDIA_AUDIO_QUANTITY|default:"%MEDIA_AUDIO_QUANTITY%"}</td>
+		<td>{$I18N.MEDIA_AUDIO_ITEM_QUANTITY|default:"%MEDIA_AUDIO_ITEM_QUANTITY%"}</td>
 		<td>
 			<input type="text" name="itemdata[itemquantity]" maxlength="{$INPUTSIZE.itemquantity|default:"255"}" value="{$ITEMDATA.itemquantity}" />
 			{if $INPUTERROR.flag.itemquantity eq "1" }<span class="phpmediadb-body-inputerror">{$I18N.ERROR_FLAG|default:"*"}</span>{/if}
@@ -151,7 +152,7 @@
 	</tr>
 
 	<tr>
-		<td>{$I18N.MEDIA_AUDIO_COMMENT|default:"%MEDIA_AUDIO_COMMENT%"}</td>
+		<td>{$I18N.MEDIA_AUDIO_ITEM_COMMENT|default:"%MEDIA_AUDIO_ITEM_COMMENT%"}</td>
 		<td>
 			<textarea name="itemdata[itemcomment]" cols="40" rows="10">{$ITEMDATA.itemcomment}</textarea>
 			{if $INPUTERROR.flag.itemcomment eq "1" }<span class="phpmediadb-body-inputerror">{$I18N.ERROR_FLAG|default:"*"}</span>{/if}
@@ -170,8 +171,8 @@
 	<tr>
 		<td></td>
 		<td>
-			{$I18N.MEDIA_CREATIONDATE|default:"%MEDIA_CREATIONDATE%"}: {$ITEMDATA.ItemCreationDate|date_format:"%A, %B %e, %Y %H:%M:%S"|default:$I18N.NOT_SET|default:"%NOT_SET%"} <br />
-			{$I18N.MEDIA_MODIFICATIONDATE|default:"%MEDIA_MODIFICATIONDATE%"}: {$ITEMDATA.ItemModificationDate|date_format:"%A, %B %e, %Y %H:%M:%S"|default:$I18N.NOT_SET|default:"%NOT_SET%"}
+			{if $ITEMDATA.itemcreationdate gt '0'}{$I18N.MEDIA_ITEM_CREATIONDATE|default:"%MEDIA_ITEM_CREATIONDATE%"}: {$ITEMDATA.itemcreationdate|date_format:"%A, %B %e, %Y %H:%M:%S"|default:$I18N.NOT_SET|default:"%NOT_SET%"} <br />{/if}
+			{if $ITEMDATA.itemmodificationdate gt '0'}{$I18N.MEDIA_ITEM_MODIFICATIONDATE|default:"%MEDIA_ITEM_MODIFICATIONDATE%"}: {$ITEMDATA.itemmodificationdate|date_format:"%A, %B %e, %Y %H:%M:%S"|default:$I18N.NOT_SET|default:"%NOT_SET%"}{/if}
 		</td>
 	</tr>
 



From nobody at sheep.berlios.de  Wed Apr 13 17:04:44 2005
From: nobody at sheep.berlios.de (mblaschke)
Date: Wed, 13 Apr 2005 17:04:44 +0200
Subject: [phpmediadb-cvs] phpmediadb-cvs/_source/tier.configuration/templates body.item.audio.show.tpl,1.1,1.2
Message-ID: <200504131504.j3DF4im27489@bat.berlios.de>

Update of /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.configuration/templates
In directory sheep:/tmp/cvs-serv16090/_source/tier.configuration/templates

Modified Files:
	body.item.audio.show.tpl 
Log Message:
* Added basic htmloutput

Index: body.item.audio.show.tpl
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.configuration/templates/body.item.audio.show.tpl,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- body.item.audio.show.tpl	31 Mar 2005 15:53:47 -0000	1.1
+++ body.item.audio.show.tpl	13 Apr 2005 15:04:42 -0000	1.2
@@ -0,0 +1,74 @@
+<div id="phpmediadb-body-details-audio" class="phpmediadb-body-details">
+{if $ITEMDATA.itempictureid gt '0'}<img src="http://schattenjaeger.ath.cx:20000/phpmediadb-cvs/_layout/images/phpmediadb.jpg" align="right"/>{/if}
+<h1>{$ITEMDATA.itemtitle|default:$I18N.NOT_SET|default:"%NOT_SET%"} {if $ITEMDATA.itemreleasedate neq ''}[{$ITEMDATA.itemreleasedate}]{/if} </h1>
+{if $ITEMDATA.itemoriginaltitle neq ''}<h2>{$ITEMDATA.itemoriginaltitle}</h2>{/if}
+{counter assign=COUNTER_CATEGORY start=0 print=0}
+{$I18N.MEDIA_AUDIO_ITEM_CATEGORY|default:"%MEDIA_AUDIO_ITEM_CATEGORY%"}:<br />
+{foreach from=$ITEMDATA.__special.categories item=currentDataItem}{if $COUNTER_CATEGORY gt '0'}; {/if}{$currentDataItem.categoryname}{counter print=0}{/foreach}{if $COUNTER_CATEGORY eq '0'}{$I18N.NOT_SET|default:"%NOT_SET%"}{/if}
+
+<table>
+	<tr>
+		<th>{$I18N.MEDIA_AUDIO_ITEM_MEDIANAME|default:"%MEDIA_AUDIO_ITEM_MEDIANAME%"}</th>
+		<td>{$ITEMDATA.itemmedianame|default:$I18N.NOT_SET|default:"%NOT_SET%"}</td>
+	</tr>
+
+	<tr>
+		<th>{$I18N.MEDIA_AUDIO_ITEM_IDENTIFICATION|default:"%MEDIA_AUDIO_ITEM_IDENTIFICATION%"}</th>
+		<td>{$ITEMDATA.itemidentifier|default:$I18N.NOT_SET|default:"%NOT_SET%"}</td>
+	</tr>
+	
+	<tr>
+		<th>{$I18N.MEDIA_AUDIO_ITEM_MEDIASIZE|default:"%MEDIA_AUDIO_ITEM_MEDIASIZE%"}</th>
+		<td>{$ITEMDATA.itemmediasize|default:$I18N.NOT_SET|default:"%NOT_SET%"}</td>
+	</tr>
+	
+	<tr>
+		<th>{$I18N.MEDIA_AUDIO_ITEM_FORMAT|default:"%MEDIA_AUDIO_ITEM_FORMAT%"}</th>
+		<td>{$ITEMDATA.itemtitle|default:$I18N.NOT_SET|default:"%NOT_SET%"}</td>
+	</tr>
+	
+	<tr>
+		<th>{$I18N.MEDIA_AUDIO_ITEM_RELEASEYEAR|default:"%MEDIA_AUDIO_ITEM_RELEASEYEAR%"}</th>
+		<td>{$ITEMDATA.mediaformatid|default:$I18N.NOT_SET|default:"%NOT_SET%"}</td>
+	</tr>
+	
+	<tr>
+		<th>{$I18N.MEDIA_AUDIO_ITEM_PUBLISHER|default:"%MEDIA_AUDIO_ITEM_PUBLISHER%"}</th>
+		<td>{$ITEMDATA.itempublisher|default:$I18N.NOT_SET|default:"%NOT_SET%"}</td>
+	</tr>
+	
+	<tr>
+		<th>{$I18N.MEDIA_AUDIO_ITEM_AGERESTRICTION|default:"%MEDIA_AUDIO_ITEM_AGERESTRICTION%"}</th>
+		<td>{$ITEMDATA.mediaagerestrictionid|default:$I18N.NOT_SET|default:"%NOT_SET%"}</td>
+	</tr>
+	
+	<tr>
+		<th>{$I18N.MEDIA_AUDIO_ITEM_CODEC|default:"%MEDIA_AUDIO_ITEM_CODEC%"}</th>
+		<td>{$ITEMDATA.mediacodecid|default:$I18N.NOT_SET|default:"%NOT_SET%"}</td>
+	</tr>
+	
+	<tr>
+		<th>{$I18N.MEDIA_AUDIO_ITEM_QUANTITY|default:"%MEDIA_AUDIO_ITEM_QUANTITY%"}</th>
+		<td>{$ITEMDATA.itemquantity|default:$I18N.NOT_SET|default:"%NOT_SET%"}</td>
+	</tr>
+	
+		<tr>
+		<th>{$I18N.MEDIA_AUDIO_ITEM_COMMENT|default:"%MEDIA_AUDIO_ITEM_COMMENT%"}</th>
+		<td>{$ITEMDATA.itemcomment|default:$I18N.NOT_SET|default:"%NOT_SET%"}</td>
+	</tr>
+	
+	<tr>
+		<td colspan="2">&nbsp;</td>
+	</tr>
+	
+	<tr>
+		<td colspan="2">
+			{if $ITEMDATA.itemcreationdate gt '0'}{$I18N.MEDIA_CREATIONDATE|default:"%MEDIA_CREATIONDATE%"}: {$ITEMDATA.itemcreationdate|date_format:"%A, %B %e, %Y %H:%M:%S"|default:$I18N.NOT_SET|default:"%NOT_SET%"} <br />{/if}
+			{if $ITEMDATA.itemmodificationdate gt '0'}{$I18N.MEDIA_MODIFICATIONDATE|default:"%MEDIA_MODIFICATIONDATE%"}: {$ITEMDATA.itemmodificationdate|date_format:"%A, %B %e, %Y %H:%M:%S"|default:$I18N.NOT_SET|default:"%NOT_SET%"}{/if}
+
+		</td>
+	</tr>
+</table>
+
+
+</div>
\ No newline at end of file



From nobody at sheep.berlios.de  Wed Apr 13 17:04:55 2005
From: nobody at sheep.berlios.de (mblaschke)
Date: Wed, 13 Apr 2005 17:04:55 +0200
Subject: [phpmediadb-cvs] phpmediadb-cvs/_source/tier.configuration/templates body.item.print.formular.tpl,1.2,1.3 body.item.print.show.tpl,1.1,1.2 body.item.video.formular.tpl,1.3,1.4 body.item.video.show.tpl,1.1,1.2
Message-ID: <200504131504.j3DF4tm27493@bat.berlios.de>

Update of /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.configuration/templates
In directory sheep:/tmp/cvs-serv16095/_source/tier.configuration/templates

Modified Files:
	body.item.print.formular.tpl body.item.print.show.tpl 
	body.item.video.formular.tpl body.item.video.show.tpl 
Log Message:
* Version bump from audios

Index: body.item.print.formular.tpl
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.configuration/templates/body.item.print.formular.tpl,v
retrieving revision 1.2
retrieving revision 1.3
diff -u -d -r1.2 -r1.3
--- body.item.print.formular.tpl	6 Apr 2005 13:53:13 -0000	1.2
+++ body.item.print.formular.tpl	13 Apr 2005 15:04:53 -0000	1.3
@@ -1,58 +1,58 @@
 <form method="post">
-<div>
-<h1>{$I18N.MEDIA_DATA_PRINT|default:"%MEDIA_DATA_PRINT%"}</h1>
+<div id="phpmediadb-body-formular-print" class="phpmediadb-body-formular">
+<h1>{$I18N.MEDIA_PRINT_TITLE|default:"%MEDIA_PRINT_TITLE%"}</h1>
 {if $INPUTERROR.general eq "1"}<span class="phpmediadb-body-inputerror">{$I18N.ERROR_OCCURRED|default:"%ERROR_OCCURRED%"} <a href="#errorlist">{$I18N.ERROR_LISTLINK|default:"%ERROR_LISTLINK%"}</a></span><br />{/if}
 <table>
 	<colgroup>
 		<col/>
 	</colgroup>
 	<tr>
-		<td>{$I18N.MEDIA_TITLE|default:"%MEDIA_TITLE%"}</td>
+		<td>{$I18N.MEDIA_PRINT_ITEM_TITLE|default:"%MEDIA_PRINT_ITEM_TITLE%"}</td>
 		<td>
-			<input type="text" name="itemdata[ItemTitle]" maxlength="{$INPUTSIZE.ItemTitle|default:"255"}" value="{$ITEMDATA.ItemTitle}" />
-			{if $INPUTERROR.flag.ItemTitle eq "1" }<span class="phpmediadb-body-inputerror">{$I18N.ERROR_FLAG|default:"*"}</span>{/if}
+			<input type="text" name="itemdata[itemtitle]" maxlength="{$INPUTSIZE.itemtitle|default:"255"}" value="{$ITEMDATA.itemtitle}" />
+			{if $INPUTERROR.flag.itemtitle eq "1" }<span class="phpmediadb-body-inputerror">{$I18N.ERROR_FLAG|default:"*"}</span>{/if}
 		</td>
 	</tr>
 
 	<tr>
-		<td>{$I18N.MEDIA_ORIGINALTITLE|default:"%MEDIA_ORIGINALTITLE%"}</td>
+		<td>{$I18N.MEDIA_PRINT_ITEM_ORIGINALTITLE|default:"%MEDIA_PRINT_ITEM_ORIGINALTITLE%"}</td>
 		<td>
-			<input type="text" name="itemdata[ItemOriginalTitle]" maxlength="{$INPUTSIZE.ItemOriginalTitle|default:"255"}" value="{$ITEMDATA.ItemOriginalTitle}" />
-			{if $INPUTERROR.flag.ItemOriginalTitle eq "1" }<span class="phpmediadb-body-inputerror">{$I18N.ERROR_FLAG|default:"*"}</span>{/if}
+			<input type="text" name="itemdata[itemoriginaltitle]" maxlength="{$INPUTSIZE.itemoriginaltitle|default:"255"}" value="{$ITEMDATA.itemoriginaltitle}" />
+			{if $INPUTERROR.flag.itemoriginaltitle eq "1" }<span class="phpmediadb-body-inputerror">{$I18N.ERROR_FLAG|default:"*"}</span>{/if}
 		</td>
 	</tr>
 
 	<tr>
-		<td>{$I18N.MEDIA_MEDIANAME|default:"%MEDIA_MEDIANAME%"}</td>
+		<td>{$I18N.MEDIA_PRINT_ITEM_MEDIANAME|default:"%MEDIA_PRINT_ITEM_MEDIANAME%"}</td>
 		<td>
-			<input type="text" name="itemdata[ItemMediaName]" maxlength="{$INPUTSIZE.ItemMediaName|default:"255"}" value="{$ITEMDATA.ItemMediaName}" />
-			{if $INPUTERROR.flag.ItemMediaName eq "1" }<span class="phpmediadb-body-inputerror">{$I18N.ERROR_FLAG|default:"*"}</span>{/if}
+			<input type="text" name="itemdata[itemmedianame]" maxlength="{$INPUTSIZE.itemmedianame|default:"255"}" value="{$ITEMDATA.itemmedianame}" />
+			{if $INPUTERROR.flag.itemmedianame eq "1" }<span class="phpmediadb-body-inputerror">{$I18N.ERROR_FLAG|default:"*"}</span>{/if}
 		</td>
 	</tr>
-	
+
 	<tr>
-		<td>{$I18N.MEDIA_IDENTIFICATION|default:"%MEDIA_IDENTIFICATION%"}</td>
+		<td>{$I18N.MEDIA_PRINT_ITEM_IDENTIFICATION|default:"%MEDIA_PRINT_ITEM_IDENTIFICATION%"}</td>
 		<td>
-			<input type="text" name="itemdata[ItemIdentifier]" maxlength="{$INPUTSIZE.ItemIdentifier|default:"255"}" value="{$ITEMDATA.ItemIdentifier}" />
-			{if $INPUTERROR.flag.ItemIdentifier eq "1" }<span class="phpmediadb-body-inputerror">{$I18N.ERROR_FLAG|default:"*"}</span>{/if}
+			<input type="text" name="itemdata[itemidentifier]" maxlength="{$INPUTSIZE.itemidentifier|default:"255"}" value="{$ITEMDATA.itemidentifier}" />
+			{if $INPUTERROR.flag.itemidentifier eq "1" }<span class="phpmediadb-body-inputerror">{$I18N.ERROR_FLAG|default:"*"}</span>{/if}
 		</td>
 	</tr>
 
 	<tr>
-		<td>{$I18N.MEDIA_RELEASEYEAR|default:"%MEDIA_RELEASEYEAR%"}</td>
+		<td>{$I18N.MEDIA_PRINT_ITEM_RELEASEYEAR|default:"%MEDIA_PRINT_ITEM_RELEASEYEAR%"}</td>
 		<td>
-			<input type="text" name="itemdata[ItemReleaseDate]" maxlength="{$INPUTSIZE.ItemReleaseDate|default:"4"}" value="{$ITEMDATA.ItemReleaseDate}" />
-			{if $INPUTERROR.flag.ItemReleaseDate eq "1" }<span class="phpmediadb-body-inputerror">{$I18N.ERROR_FLAG|default:"*"}</span>{/if}
+			<input type="text" name="itemdata[itemreleasedate]" maxlength="{$INPUTSIZE.itemreleasedate|default:"4"}" value="{$ITEMDATA.itemreleasedate}" />
+			{if $INPUTERROR.flag.itemreleasedate eq "1" }<span class="phpmediadb-body-inputerror">{$I18N.ERROR_FLAG|default:"*"}</span>{/if}
 		</td>
 	</tr>
-	
+
 	<tr>
-		<td>{$I18N.MEDIA_CATEGORY|default:"%MEDIA_CATEGORY%"}</td>
+		<td>{$I18N.MEDIA_PRINT_ITEM_CATEGORY|default:"%MEDIA_PRINT_ITEM_CATEGORY%"}</td>
 		<td>
-			<select name="itemdata[Categories][]" size="5" multiple="true">
+			<select name="itemdata[categories][]" size="5" multiple="true">
 {foreach from=$DATA.CATEGORIES item=currentDataItem}
 {assign var="TEMP" value="0"}
-	{foreach from=$ITEMDATA.Categories item=currentItemItem}
+	{foreach from=$ITEMDATA.categories item=currentItemItem}
 			{if $currentItemItem eq $currentDataItem.categoryid }
 				{assign var="TEMP" value="1"}
 				<option selected="true" value="{$currentDataItem.categoryid}">{$currentDataItem.categoryname}</option>
@@ -63,24 +63,25 @@
 			{/if}
 {/foreach}
 			</select>
-			{if $INPUTERROR.flag.Categories eq "1" }<span class="phpmediadb-body-inputerror">{$I18N.ERROR_FLAG|default:"*"}</span>{/if}
+			{if $INPUTERROR.flag.categories eq "1" }<span class="phpmediadb-body-inputerror">{$I18N.ERROR_FLAG|default:"*"}</span>{/if}
 		</td>
 	</tr>
-	
+
 	<tr>
-		<td>{$I18N.MEDIA_MEDIASIZE|default:"%MEDIA_MEDIASIZE%"}</td>
+		<td>{$I18N.MEDIA_PRINT_ITEM_MEDIASIZE|default:"%MEDIA_PRINT_ITEM_MEDIASIZE%"}</td>
 		<td>
-			<input type="text" name="itemdata[ItemMediaSize]" maxlength="{$INPUTSIZE.ItemMediaSize|default:"255"}" value="{$ITEMDATA.ItemMediaSize}" />
-			{if $INPUTERROR.flag.ItemMediaSize eq "1" }<span class="phpmediadb-body-inputerror">{$I18N.ERROR_FLAG|default:"*"}</span>{/if}
+			<input type="text" name="itemdata[itemmediasize]" maxlength="{$INPUTSIZE.itemmediasize|default:"255"}" value="{$ITEMDATA.itemmediasize}" />
+			{if $INPUTERROR.flag.itemmediasize eq "1" }<span class="phpmediadb-body-inputerror">{$I18N.ERROR_FLAG|default:"*"}</span>{/if}
 		</td>
 	</tr>
-	
+
 	<tr>
-		<td>{$I18N.MEDIA_FORMAT|default:"%MEDIA_FORMAT%"}</td>
+		<td>{$I18N.MEDIA_PRINT_ITEM_FORMAT|default:"%MEDIA_PRINT_ITEM_FORMAT%"}</td>
 		<td>
-			<select name="itemdata[MediaFormatID]">
+			<select name="itemdata[mediaformatid]">
+				<option value="0">{$I18N.FORMULAR_OPTION_ITEM_EMPTY|default:"%FORMULAR_OPTION_ITEM_EMPTY%"}</option>
 {foreach from=$DATA.MEDIAFORMATS item=currentDataItem key=currentDataKey}
-	{if $currentDataItem.mediaformatid eq $ITEMDATA.MediaFormatID }
+	{if $currentDataItem.mediaformatid eq $ITEMDATA.mediaformatid }
 				<option selected="true" value="{$currentDataItem.mediaformatid}">{$currentDataItem.mediaformatname}</option>
 	{else}
 				<option value="{$currentDataItem.mediaformatid}">{$currentDataItem.mediaformatname}</option>
@@ -92,86 +93,89 @@
 	</tr>
 
 	<tr>
-		<td>{$I18N.MEDIA_IMAGE|default:"%MEDIA_IMAGE%"}</td>
+		<td>{$I18N.MEDIA_PRINT_ITEM_IMAGE|default:"%MEDIA_PRINT_ITEM_IMAGE%"}</td>
 		<td>
 			<img src="getbinary.php?itemid={$ITEMDATA.ID}" /><br />
-			<input type="file" name="itemdata[BinaryData]" />
+			<input type="file" name="itemdata[picturedata]" />
+			{if $ITEMDATA.itemid gt '0'}<br /><input type="checkbox" name="itemdata[picturedelete]" value="1" />{$I18N.MEDIA_PRINT_IMAGEDELETE|default:"%MEDIA_PRINT_IMAGEDELETE%"}{/if}
 		</td>
 	</tr>
 
 	<tr>
-		<td>{$I18N.MEDIA_PUBLISHER|default:"%MEDIA_PUBLISHER%"}</td>
+		<td>{$I18N.MEDIA_PRINT_ITEM_PUBLISHER|default:"%MEDIA_PRINT_ITEM_PUBLISHER%"}</td>
 		<td>
-			<input type="text" name="itemdata[PublisherName]" maxlength="{$INPUTSIZE.PublisherName|default:"255"}" value="{$ITEMDATA.PublisherName}" />
-			{if $INPUTERROR.flag.PublisherName eq "1" }<span class="phpmediadb-body-inputerror">{$I18N.ERROR_FLAG|default:"*"}</span>{/if}
+			<input type="text" name="itemdata[itempublisher]" maxlength="{$INPUTSIZE.itempublisher|default:"255"}" value="{$ITEMDATA.itempublisher}" />
+			{if $INPUTERROR.flag.itempublisher eq "1" }<span class="phpmediadb-body-inputerror">{$I18N.ERROR_FLAG|default:"*"}</span>{/if}
 		</td>
 	</tr>
 
 	<tr>
-		<td>{$I18N.MEDIA_AGERESTRICTION|default:"%MEDIA_AGERESTRICTION%"}</td>
+		<td>{$I18N.MEDIA_PRINT_ITEM_AGERESTRICTION|default:"%MEDIA_PRINT_ITEM_AGERESTRICTION%"}</td>
 		<td>
-			<select name="itemdata[MediaAgeRestrictionID]">
+			<select name="itemdata[mediaagerestrictionid]">
+				<option value="0">{$I18N.FORMULAR_OPTION_ITEM_EMPTY|default:"%FORMULAR_OPTION_ITEM_EMPTY%"}</option>
 {foreach from=$DATA.AGERESTRICTIONS item=currentDataItem}
-	{if $currentDataItem.mediaagerestrictionid eq $ITEMDATA.MediaAgeRestrictionID }
+	{if $currentDataItem.mediaagerestrictionid eq $ITEMDATA.mediaagerestrictionid }
 				<option selected="true" value="{$currentDataItem.mediaagerestrictionid}">{$currentDataItem.mediaagerestriction}</option>
 	{else}
 				<option value="{$currentDataItem.mediaagerestrictionid}">{$currentDataItem.mediaagerestriction}</option>
 	{/if}
 {/foreach}
 			</select>
-			{if $INPUTERROR.flag.MediaAgeRestrictionID eq "1" }<span class="phpmediadb-body-inputerror">{$I18N.ERROR_FLAG|default:"*"}</span>{/if}
+			{if $INPUTERROR.flag.mediaagerestrictionid eq "1" }<span class="phpmediadb-body-inputerror">{$I18N.ERROR_FLAG|default:"*"}</span>{/if}
 		</td>
 	</tr>
 
 	<tr>
-		<td>{$I18N.MEDIA_CODEC|default:"%MEDIA_CODEC%"}</td>
+		<td>{$I18N.MEDIA_PRINT_ITEM_CODEC|default:"%MEDIA_PRINT_ITEM_CODEC%"}</td>
 		<td>
-			<select name="itemdata[MediaCodecID]">
+			<select name="itemdata[mediacodecid]">
+				<option value="0">{$I18N.FORMULAR_OPTION_ITEM_EMPTY|default:"%FORMULAR_OPTION_ITEM_EMPTY%"}</option>
 {foreach from=$DATA.CODECS item=currentDataItem}
-	{if $currentDataItem.mediacodecid eq $ITEMDATA.MediaCodecID }
+	{if $currentDataItem.mediacodecid eq $ITEMDATA.mediacodecid }
 				<option selected="true" value="{$currentDataItem.mediacodecid}">{$currentDataItem.mediacodecname}</option>
 	{else}
 				<option value="{$currentDataItem.mediacodecid}">{$currentDataItem.mediacodecname}</option>
 	{/if}
 {/foreach}
 			</select>
-			{if $INPUTERROR.flag.MediaCodecID eq "1" }<span class="phpmediadb-body-inputerror">{$I18N.ERROR_FLAG|default:"*"}</span>{/if}
+			{if $INPUTERROR.flag.mediacodecid eq "1" }<span class="phpmediadb-body-inputerror">{$I18N.ERROR_FLAG|default:"*"}</span>{/if}
 		</td>
 	</tr>
 
 	<tr>
-		<td>{$I18N.MEDIA_QUANTITY|default:"%MEDIA_QUANTITY%"}</td>
+		<td>{$I18N.MEDIA_PRINT_ITEM_QUANTITY|default:"%MEDIA_PRINT_ITEM_QUANTITY%"}</td>
 		<td>
-			<input type="text" name="itemdata[ItemQuantity]" maxlength="{$INPUTSIZE.ItemQuantity|default:"255"}" value="{$ITEMDATA.ItemQuantity}" />
-			{if $INPUTERROR.flag.ItemQuantity eq "1" }<span class="phpmediadb-body-inputerror">{$I18N.ERROR_FLAG|default:"*"}</span>{/if}
+			<input type="text" name="itemdata[itemquantity]" maxlength="{$INPUTSIZE.itemquantity|default:"255"}" value="{$ITEMDATA.itemquantity}" />
+			{if $INPUTERROR.flag.itemquantity eq "1" }<span class="phpmediadb-body-inputerror">{$I18N.ERROR_FLAG|default:"*"}</span>{/if}
 		</td>
 	</tr>
-	
+
 	<tr>
-		<td>{$I18N.MEDIA_COMMENT|default:"%MEDIA_COMMENT%"}</td>
+		<td>{$I18N.MEDIA_PRINT_ITEM_COMMENT|default:"%MEDIA_PRINT_ITEM_COMMENT%"}</td>
 		<td>
-			<textarea name="itemdata[ItemComment]" cols="40" rows="10">{$ITEMDATA.ItemComment}</textarea>
-			{if $INPUTERROR.flag.ItemComment eq "1" }<span class="phpmediadb-body-inputerror">{$I18N.ERROR_FLAG|default:"*"}</span>{/if}
+			<textarea name="itemdata[itemcomment]" cols="40" rows="10">{$ITEMDATA.itemcomment}</textarea>
+			{if $INPUTERROR.flag.itemcomment eq "1" }<span class="phpmediadb-body-inputerror">{$I18N.ERROR_FLAG|default:"*"}</span>{/if}
 		</td>
 	</tr>
-	
+
 	<tr>
 		<td></td>
 		<td><input type="reset" value="{$I18N.FORM_RESET|default:"%FORM_RESET%"}" /> <input type="submit" name="buttonsave" value="{$I18N.FORM_SUBMIT|default:"%FORM_SUBMIT%"}"/></td>
 	</tr>
-	
+
 	<tr>
 		<td></td>
 	</tr>
-	
+
 	<tr>
 		<td></td>
 		<td>
-			{$I18N.MEDIA_CREATIONDATE|default:"%MEDIA_CREATIONDATE%"}: {$ITEMDATA.ItemCreationDate|date_format:"%A, %B %e, %Y %H:%M:%S"|default:$I18N.NOT_SET|default:"%NOT_SET%"} <br />
-			{$I18N.MEDIA_CREATIONDATE|default:"%MEDIA_MODIFICATIONDATE%"}: {$ITEMDATA.ItemModificationDate|date_format:"%A, %B %e, %Y %H:%M:%S"|default:$I18N.NOT_SET|default:"%NOT_SET%"}
+			{if $ITEMDATA.itemcreationdate gt '0'}{$I18N.MEDIA_ITEM_CREATIONDATE|default:"%MEDIA_ITEM_CREATIONDATE%"}: {$ITEMDATA.itemcreationdate|date_format:"%A, %B %e, %Y %H:%M:%S"|default:$I18N.NOT_SET|default:"%NOT_SET%"} <br />{/if}
+			{if $ITEMDATA.itemmodificationdate gt '0'}{$I18N.MEDIA_ITEM_MODIFICATIONDATE|default:"%MEDIA_ITEM_MODIFICATIONDATE%"}: {$ITEMDATA.itemmodificationdate|date_format:"%A, %B %e, %Y %H:%M:%S"|default:$I18N.NOT_SET|default:"%NOT_SET%"}{/if}
 		</td>
 	</tr>
-	
+
 {if $INPUTERROR.general eq "1"}
 	<tr>
 		<td colspan="2">

Index: body.item.print.show.tpl
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.configuration/templates/body.item.print.show.tpl,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- body.item.print.show.tpl	31 Mar 2005 15:53:47 -0000	1.1
+++ body.item.print.show.tpl	13 Apr 2005 15:04:53 -0000	1.2
@@ -0,0 +1,74 @@
+<div id="phpmediadb-body-details-print" class="phpmediadb-body-details">
+{if $ITEMDATA.itempictureid gt '0'}<img src="http://schattenjaeger.ath.cx:20000/phpmediadb-cvs/_layout/images/phpmediadb.jpg" align="right"/>{/if}
+<h1>{$ITEMDATA.itemtitle|default:$I18N.NOT_SET|default:"%NOT_SET%"} {if $ITEMDATA.itemreleasedate neq ''}[{$ITEMDATA.itemreleasedate}]{/if} </h1>
+{if $ITEMDATA.itemoriginaltitle neq ''}<h2>{$ITEMDATA.itemoriginaltitle}</h2>{/if}
+{counter assign=COUNTER_CATEGORY start=0 print=0}
+{$I18N.MEDIA_PRINT_ITEM_CATEGORY|default:"%MEDIA_AUDIO_ITEM_CATEGORY%"}:<br />
+{foreach from=$ITEMDATA.__special.categories item=currentDataItem}{if $COUNTER_CATEGORY gt '0'}; {/if}{$currentDataItem.categoryname}{counter print=0}{/foreach}{if $COUNTER_CATEGORY eq '0'}{$I18N.NOT_SET|default:"%NOT_SET%"}{/if}
+
+<table>
+	<tr>
+		<th>{$I18N.MEDIA_PRINT_ITEM_MEDIANAME|default:"%MEDIA_AUDIO_ITEM_MEDIANAME%"}</th>
+		<td>{$ITEMDATA.itemmedianame|default:$I18N.NOT_SET|default:"%NOT_SET%"}</td>
+	</tr>
+
+	<tr>
+		<th>{$I18N.MEDIA_PRINT_ITEM_IDENTIFICATION|default:"%MEDIA_AUDIO_ITEM_IDENTIFICATION%"}</th>
+		<td>{$ITEMDATA.itemidentifier|default:$I18N.NOT_SET|default:"%NOT_SET%"}</td>
+	</tr>
+	
+	<tr>
+		<th>{$I18N.MEDIA_PRINT_ITEM_MEDIASIZE|default:"%MEDIA_AUDIO_ITEM_MEDIASIZE%"}</th>
+		<td>{$ITEMDATA.itemmediasize|default:$I18N.NOT_SET|default:"%NOT_SET%"}</td>
+	</tr>
+	
+	<tr>
+		<th>{$I18N.MEDIA_PRINT_ITEM_FORMAT|default:"%MEDIA_AUDIO_ITEM_FORMAT%"}</th>
+		<td>{$ITEMDATA.itemtitle|default:$I18N.NOT_SET|default:"%NOT_SET%"}</td>
+	</tr>
+	
+	<tr>
+		<th>{$I18N.MEDIA_PRINT_ITEM_RELEASEYEAR|default:"%MEDIA_AUDIO_ITEM_RELEASEYEAR%"}</th>
+		<td>{$ITEMDATA.mediaformatid|default:$I18N.NOT_SET|default:"%NOT_SET%"}</td>
+	</tr>
+	
+	<tr>
+		<th>{$I18N.MEDIA_PRINT_ITEM_PUBLISHER|default:"%MEDIA_AUDIO_ITEM_PUBLISHER%"}</th>
+		<td>{$ITEMDATA.itempublisher|default:$I18N.NOT_SET|default:"%NOT_SET%"}</td>
+	</tr>
+	
+	<tr>
+		<th>{$I18N.MEDIA_PRINT_ITEM_AGERESTRICTION|default:"%MEDIA_AUDIO_ITEM_AGERESTRICTION%"}</th>
+		<td>{$ITEMDATA.mediaagerestrictionid|default:$I18N.NOT_SET|default:"%NOT_SET%"}</td>
+	</tr>
+	
+	<tr>
+		<th>{$I18N.MEDIA_PRINT_ITEM_CODEC|default:"%MEDIA_AUDIO_ITEM_CODEC%"}</th>
+		<td>{$ITEMDATA.mediacodecid|default:$I18N.NOT_SET|default:"%NOT_SET%"}</td>
+	</tr>
+	
+	<tr>
+		<th>{$I18N.MEDIA_PRINT_ITEM_QUANTITY|default:"%MEDIA_AUDIO_ITEM_QUANTITY%"}</th>
+		<td>{$ITEMDATA.itemquantity|default:$I18N.NOT_SET|default:"%NOT_SET%"}</td>
+	</tr>
+	
+		<tr>
+		<th>{$I18N.MEDIA_PRINT_ITEM_COMMENT|default:"%MEDIA_AUDIO_ITEM_COMMENT%"}</th>
+		<td>{$ITEMDATA.itemcomment|default:$I18N.NOT_SET|default:"%NOT_SET%"}</td>
+	</tr>
+	
+	<tr>
+		<td colspan="2">&nbsp;</td>
+	</tr>
+	
+	<tr>
+		<td colspan="2">
+			{if $ITEMDATA.itemcreationdate gt '0'}{$I18N.MEDIA_CREATIONDATE|default:"%MEDIA_CREATIONDATE%"}: {$ITEMDATA.itemcreationdate|date_format:"%A, %B %e, %Y %H:%M:%S"|default:$I18N.NOT_SET|default:"%NOT_SET%"} <br />{/if}
+			{if $ITEMDATA.itemmodificationdate gt '0'}{$I18N.MEDIA_MODIFICATIONDATE|default:"%MEDIA_MODIFICATIONDATE%"}: {$ITEMDATA.itemmodificationdate|date_format:"%A, %B %e, %Y %H:%M:%S"|default:$I18N.NOT_SET|default:"%NOT_SET%"}{/if}
+
+		</td>
+	</tr>
+</table>
+
+
+</div>
\ No newline at end of file

Index: body.item.video.formular.tpl
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.configuration/templates/body.item.video.formular.tpl,v
retrieving revision 1.3
retrieving revision 1.4
diff -u -d -r1.3 -r1.4
--- body.item.video.formular.tpl	13 Apr 2005 11:51:02 -0000	1.3
+++ body.item.video.formular.tpl	13 Apr 2005 15:04:53 -0000	1.4
@@ -1,58 +1,58 @@
 <form method="post">
-<div>
-<h1>{$I18N.MEDIA_DATA_VIDEO|default:"%MEDIA_DATA_VIDEO%"}</h1>
+<div id="phpmediadb-body-formular-video" class="phpmediadb-body-formular">
+<h1>{$I18N.MEDIA_VIDEO_TITLE|default:"%MEDIA_VIDEO_TITLE%"}</h1>
 {if $INPUTERROR.general eq "1"}<span class="phpmediadb-body-inputerror">{$I18N.ERROR_OCCURRED|default:"%ERROR_OCCURRED%"} <a href="#errorlist">{$I18N.ERROR_LISTLINK|default:"%ERROR_LISTLINK%"}</a></span><br />{/if}
 <table>
 	<colgroup>
 		<col/>
 	</colgroup>
 	<tr>
-		<td>{$I18N.MEDIA_TITLE|default:"%MEDIA_TITLE%"}</td>
+		<td>{$I18N.MEDIA_VIDEO_ITEM_TITLE|default:"%MEDIA_VIDEO_ITEM_TITLE%"}</td>
 		<td>
 			<input type="text" name="itemdata[itemtitle]" maxlength="{$INPUTSIZE.itemtitle|default:"255"}" value="{$ITEMDATA.itemtitle}" />
-			{if $INPUTERROR.flag.ItemTitle eq "1" }<span class="phpmediadb-body-inputerror">{$I18N.ERROR_FLAG|default:"*"}</span>{/if}
+			{if $INPUTERROR.flag.itemtitle eq "1" }<span class="phpmediadb-body-inputerror">{$I18N.ERROR_FLAG|default:"*"}</span>{/if}
 		</td>
 	</tr>
 
 	<tr>
-		<td>{$I18N.MEDIA_ORIGINALTITLE|default:"%MEDIA_ORIGINALTITLE%"}</td>
+		<td>{$I18N.MEDIA_VIDEO_ITEM_ORIGINALTITLE|default:"%MEDIA_VIDEO_ITEM_ORIGINALTITLE%"}</td>
 		<td>
 			<input type="text" name="itemdata[itemoriginaltitle]" maxlength="{$INPUTSIZE.itemoriginaltitle|default:"255"}" value="{$ITEMDATA.itemoriginaltitle}" />
-			{if $INPUTERROR.flag.Itemoriginaltitle eq "1" }<span class="phpmediadb-body-inputerror">{$I18N.ERROR_FLAG|default:"*"}</span>{/if}
+			{if $INPUTERROR.flag.itemoriginaltitle eq "1" }<span class="phpmediadb-body-inputerror">{$I18N.ERROR_FLAG|default:"*"}</span>{/if}
 		</td>
 	</tr>
 
 	<tr>
-		<td>{$I18N.MEDIA_MEDIANAME|default:"%MEDIA_MEDIANAME%"}</td>
+		<td>{$I18N.MEDIA_VIDEO_ITEM_MEDIANAME|default:"%MEDIA_VIDEO_ITEM_MEDIANAME%"}</td>
 		<td>
-			<input type="text" name="itemdata[ItemMediaName]" maxlength="{$INPUTSIZE.itemmedianame|default:"255"}" value="{$ITEMDATA.itemmedianame}" />
+			<input type="text" name="itemdata[itemmedianame]" maxlength="{$INPUTSIZE.itemmedianame|default:"255"}" value="{$ITEMDATA.itemmedianame}" />
 			{if $INPUTERROR.flag.itemmedianame eq "1" }<span class="phpmediadb-body-inputerror">{$I18N.ERROR_FLAG|default:"*"}</span>{/if}
 		</td>
 	</tr>
-	
+
 	<tr>
-		<td>{$I18N.MEDIA_IDENTIFICATION|default:"%MEDIA_IDENTIFICATION%"}</td>
+		<td>{$I18N.MEDIA_VIDEO_ITEM_IDENTIFICATION|default:"%MEDIA_VIDEO_ITEM_IDENTIFICATION%"}</td>
 		<td>
-			<input type="text" name="itemdata[ItemIdentifier]" maxlength="{$INPUTSIZE.ItemIdentifier|default:"255"}" value="{$ITEMDATA.ItemIdentifier}" />
-			{if $INPUTERROR.flag.ItemIdentifier eq "1" }<span class="phpmediadb-body-inputerror">{$I18N.ERROR_FLAG|default:"*"}</span>{/if}
+			<input type="text" name="itemdata[itemidentifier]" maxlength="{$INPUTSIZE.itemidentifier|default:"255"}" value="{$ITEMDATA.itemidentifier}" />
+			{if $INPUTERROR.flag.itemidentifier eq "1" }<span class="phpmediadb-body-inputerror">{$I18N.ERROR_FLAG|default:"*"}</span>{/if}
 		</td>
 	</tr>
 
 	<tr>
-		<td>{$I18N.MEDIA_RELEASEYEAR|default:"%MEDIA_RELEASEYEAR%"}</td>
+		<td>{$I18N.MEDIA_VIDEO_ITEM_RELEASEYEAR|default:"%MEDIA_VIDEO_ITEM_RELEASEYEAR%"}</td>
 		<td>
-			<input type="text" name="itemdata[ItemReleaseDate]" maxlength="{$INPUTSIZE.ItemReleaseDate|default:"4"}" value="{$ITEMDATA.ItemReleaseDate}" />
-			{if $INPUTERROR.flag.ItemReleaseDate eq "1" }<span class="phpmediadb-body-inputerror">{$I18N.ERROR_FLAG|default:"*"}</span>{/if}
+			<input type="text" name="itemdata[itemreleasedate]" maxlength="{$INPUTSIZE.itemreleasedate|default:"4"}" value="{$ITEMDATA.itemreleasedate}" />
+			{if $INPUTERROR.flag.itemreleasedate eq "1" }<span class="phpmediadb-body-inputerror">{$I18N.ERROR_FLAG|default:"*"}</span>{/if}
 		</td>
 	</tr>
-	
+
 	<tr>
-		<td>{$I18N.MEDIA_CATEGORY|default:"%MEDIA_CATEGORY%"}</td>
+		<td>{$I18N.MEDIA_VIDEO_ITEM_CATEGORY|default:"%MEDIA_VIDEO_ITEM_CATEGORY%"}</td>
 		<td>
-			<select name="itemdata[Categories][]" size="5" multiple="true">
+			<select name="itemdata[categories][]" size="5" multiple="true">
 {foreach from=$DATA.CATEGORIES item=currentDataItem}
 {assign var="TEMP" value="0"}
-	{foreach from=$ITEMDATA.Categories item=currentItemItem}
+	{foreach from=$ITEMDATA.categories item=currentItemItem}
 			{if $currentItemItem eq $currentDataItem.categoryid }
 				{assign var="TEMP" value="1"}
 				<option selected="true" value="{$currentDataItem.categoryid}">{$currentDataItem.categoryname}</option>
@@ -63,24 +63,25 @@
 			{/if}
 {/foreach}
 			</select>
-			{if $INPUTERROR.flag.Categories eq "1" }<span class="phpmediadb-body-inputerror">{$I18N.ERROR_FLAG|default:"*"}</span>{/if}
+			{if $INPUTERROR.flag.categories eq "1" }<span class="phpmediadb-body-inputerror">{$I18N.ERROR_FLAG|default:"*"}</span>{/if}
 		</td>
 	</tr>
-	
+
 	<tr>
-		<td>{$I18N.MEDIA_MEDIASIZE|default:"%MEDIA_MEDIASIZE%"}</td>
+		<td>{$I18N.MEDIA_VIDEO_ITEM_MEDIASIZE|default:"%MEDIA_VIDEO_ITEM_MEDIASIZE%"}</td>
 		<td>
-			<input type="text" name="itemdata[ItemMediaSize]" maxlength="{$INPUTSIZE.ItemMediaSize|default:"255"}" value="{$ITEMDATA.ItemMediaSize}" />
-			{if $INPUTERROR.flag.ItemMediaSize eq "1" }<span class="phpmediadb-body-inputerror">{$I18N.ERROR_FLAG|default:"*"}</span>{/if}
+			<input type="text" name="itemdata[itemmediasize]" maxlength="{$INPUTSIZE.itemmediasize|default:"255"}" value="{$ITEMDATA.itemmediasize}" />
+			{if $INPUTERROR.flag.itemmediasize eq "1" }<span class="phpmediadb-body-inputerror">{$I18N.ERROR_FLAG|default:"*"}</span>{/if}
 		</td>
 	</tr>
-	
+
 	<tr>
-		<td>{$I18N.MEDIA_FORMAT|default:"%MEDIA_FORMAT%"}</td>
+		<td>{$I18N.MEDIA_VIDEO_ITEM_FORMAT|default:"%MEDIA_VIDEO_ITEM_FORMAT%"}</td>
 		<td>
-			<select name="itemdata[MediaFormatID]">
+			<select name="itemdata[mediaformatid]">
+				<option value="0">{$I18N.FORMULAR_OPTION_ITEM_EMPTY|default:"%FORMULAR_OPTION_ITEM_EMPTY%"}</option>
 {foreach from=$DATA.MEDIAFORMATS item=currentDataItem key=currentDataKey}
-	{if $currentDataItem.mediaformatid eq $ITEMDATA.MediaFormatID }
+	{if $currentDataItem.mediaformatid eq $ITEMDATA.mediaformatid }
 				<option selected="true" value="{$currentDataItem.mediaformatid}">{$currentDataItem.mediaformatname}</option>
 	{else}
 				<option value="{$currentDataItem.mediaformatid}">{$currentDataItem.mediaformatname}</option>
@@ -92,86 +93,89 @@
 	</tr>
 
 	<tr>
-		<td>{$I18N.MEDIA_IMAGE|default:"%MEDIA_IMAGE%"}</td>
+		<td>{$I18N.MEDIA_VIDEO_ITEM_IMAGE|default:"%MEDIA_VIDEO_ITEM_IMAGE%"}</td>
 		<td>
 			<img src="getbinary.php?itemid={$ITEMDATA.ID}" /><br />
-			<input type="file" name="itemdata[BinaryData]" />
+			<input type="file" name="itemdata[picturedata]" />
+			{if $ITEMDATA.itemid gt '0'}<br /><input type="checkbox" name="itemdata[picturedelete]" value="1" />{$I18N.MEDIA_VIDEO_IMAGEDELETE|default:"%MEDIA_VIDEO_IMAGEDELETE%"}{/if}
 		</td>
 	</tr>
 
 	<tr>
-		<td>{$I18N.MEDIA_PUBLISHER|default:"%MEDIA_PUBLISHER%"}</td>
+		<td>{$I18N.MEDIA_VIDEO_ITEM_PUBLISHER|default:"%MEDIA_VIDEO_ITEM_PUBLISHER%"}</td>
 		<td>
-			<input type="text" name="itemdata[PublisherName]" maxlength="{$INPUTSIZE.PublisherName|default:"255"}" value="{$ITEMDATA.PublisherName}" />
-			{if $INPUTERROR.flag.PublisherName eq "1" }<span class="phpmediadb-body-inputerror">{$I18N.ERROR_FLAG|default:"*"}</span>{/if}
+			<input type="text" name="itemdata[itempublisher]" maxlength="{$INPUTSIZE.itempublisher|default:"255"}" value="{$ITEMDATA.itempublisher}" />
+			{if $INPUTERROR.flag.itempublisher eq "1" }<span class="phpmediadb-body-inputerror">{$I18N.ERROR_FLAG|default:"*"}</span>{/if}
 		</td>
 	</tr>
 
 	<tr>
-		<td>{$I18N.MEDIA_AGERESTRICTION|default:"%MEDIA_AGERESTRICTION%"}</td>
+		<td>{$I18N.MEDIA_VIDEO_ITEM_AGERESTRICTION|default:"%MEDIA_VIDEO_ITEM_AGERESTRICTION%"}</td>
 		<td>
-			<select name="itemdata[MediaAgeRestrictionID]">
+			<select name="itemdata[mediaagerestrictionid]">
+				<option value="0">{$I18N.FORMULAR_OPTION_ITEM_EMPTY|default:"%FORMULAR_OPTION_ITEM_EMPTY%"}</option>
 {foreach from=$DATA.AGERESTRICTIONS item=currentDataItem}
-	{if $currentDataItem.mediaagerestrictionid eq $ITEMDATA.MediaAgeRestrictionID }
+	{if $currentDataItem.mediaagerestrictionid eq $ITEMDATA.mediaagerestrictionid }
 				<option selected="true" value="{$currentDataItem.mediaagerestrictionid}">{$currentDataItem.mediaagerestriction}</option>
 	{else}
 				<option value="{$currentDataItem.mediaagerestrictionid}">{$currentDataItem.mediaagerestriction}</option>
 	{/if}
 {/foreach}
 			</select>
-			{if $INPUTERROR.flag.MediaAgeRestrictionID eq "1" }<span class="phpmediadb-body-inputerror">{$I18N.ERROR_FLAG|default:"*"}</span>{/if}
+			{if $INPUTERROR.flag.mediaagerestrictionid eq "1" }<span class="phpmediadb-body-inputerror">{$I18N.ERROR_FLAG|default:"*"}</span>{/if}
 		</td>
 	</tr>
 
 	<tr>
-		<td>{$I18N.MEDIA_CODEC|default:"%MEDIA_CODEC%"}</td>
+		<td>{$I18N.MEDIA_VIDEO_ITEM_CODEC|default:"%MEDIA_VIDEO_ITEM_CODEC%"}</td>
 		<td>
-			<select name="itemdata[MediaCodecID]">
+			<select name="itemdata[mediacodecid]">
+				<option value="0">{$I18N.FORMULAR_OPTION_ITEM_EMPTY|default:"%FORMULAR_OPTION_ITEM_EMPTY%"}</option>
 {foreach from=$DATA.CODECS item=currentDataItem}
-	{if $currentDataItem.mediacodecid eq $ITEMDATA.MediaCodecID }
+	{if $currentDataItem.mediacodecid eq $ITEMDATA.mediacodecid }
 				<option selected="true" value="{$currentDataItem.mediacodecid}">{$currentDataItem.mediacodecname}</option>
 	{else}
 				<option value="{$currentDataItem.mediacodecid}">{$currentDataItem.mediacodecname}</option>
 	{/if}
 {/foreach}
 			</select>
-			{if $INPUTERROR.flag.MediaCodecID eq "1" }<span class="phpmediadb-body-inputerror">{$I18N.ERROR_FLAG|default:"*"}</span>{/if}
+			{if $INPUTERROR.flag.mediacodecid eq "1" }<span class="phpmediadb-body-inputerror">{$I18N.ERROR_FLAG|default:"*"}</span>{/if}
 		</td>
 	</tr>
 
 	<tr>
-		<td>{$I18N.MEDIA_QUANTITY|default:"%MEDIA_QUANTITY%"}</td>
+		<td>{$I18N.MEDIA_VIDEO_ITEM_QUANTITY|default:"%MEDIA_VIDEO_ITEM_QUANTITY%"}</td>
 		<td>
-			<input type="text" name="itemdata[ItemQuantity]" maxlength="{$INPUTSIZE.ItemQuantity|default:"255"}" value="{$ITEMDATA.ItemQuantity}" />
-			{if $INPUTERROR.flag.ItemQuantity eq "1" }<span class="phpmediadb-body-inputerror">{$I18N.ERROR_FLAG|default:"*"}</span>{/if}
+			<input type="text" name="itemdata[itemquantity]" maxlength="{$INPUTSIZE.itemquantity|default:"255"}" value="{$ITEMDATA.itemquantity}" />
+			{if $INPUTERROR.flag.itemquantity eq "1" }<span class="phpmediadb-body-inputerror">{$I18N.ERROR_FLAG|default:"*"}</span>{/if}
 		</td>
 	</tr>
-	
+
 	<tr>
-		<td>{$I18N.MEDIA_COMMENT|default:"%MEDIA_COMMENT%"}</td>
+		<td>{$I18N.MEDIA_VIDEO_ITEM_COMMENT|default:"%MEDIA_VIDEO_ITEM_COMMENT%"}</td>
 		<td>
-			<textarea name="itemdata[ItemComment]" cols="40" rows="10">{$ITEMDATA.ItemComment}</textarea>
-			{if $INPUTERROR.flag.ItemComment eq "1" }<span class="phpmediadb-body-inputerror">{$I18N.ERROR_FLAG|default:"*"}</span>{/if}
+			<textarea name="itemdata[itemcomment]" cols="40" rows="10">{$ITEMDATA.itemcomment}</textarea>
+			{if $INPUTERROR.flag.itemcomment eq "1" }<span class="phpmediadb-body-inputerror">{$I18N.ERROR_FLAG|default:"*"}</span>{/if}
 		</td>
 	</tr>
-	
+
 	<tr>
 		<td></td>
 		<td><input type="reset" value="{$I18N.FORM_RESET|default:"%FORM_RESET%"}" /> <input type="submit" name="buttonsave" value="{$I18N.FORM_SUBMIT|default:"%FORM_SUBMIT%"}"/></td>
 	</tr>
-	
+
 	<tr>
 		<td></td>
 	</tr>
-	
+
 	<tr>
 		<td></td>
 		<td>
-			{$I18N.MEDIA_CREATIONDATE|default:"%MEDIA_CREATIONDATE%"}: {$ITEMDATA.ItemCreationDate|date_format:"%A, %B %e, %Y %H:%M:%S"|default:$I18N.NOT_SET|default:"%NOT_SET%"} <br />
-			{$I18N.MEDIA_CREATIONDATE|default:"%MEDIA_MODIFICATIONDATE%"}: {$ITEMDATA.ItemModificationDate|date_format:"%A, %B %e, %Y %H:%M:%S"|default:$I18N.NOT_SET|default:"%NOT_SET%"}
+			{if $ITEMDATA.itemcreationdate gt '0'}{$I18N.MEDIA_ITEM_CREATIONDATE|default:"%MEDIA_ITEM_CREATIONDATE%"}: {$ITEMDATA.itemcreationdate|date_format:"%A, %B %e, %Y %H:%M:%S"|default:$I18N.NOT_SET|default:"%NOT_SET%"} <br />{/if}
+			{if $ITEMDATA.itemmodificationdate gt '0'}{$I18N.MEDIA_ITEM_MODIFICATIONDATE|default:"%MEDIA_ITEM_MODIFICATIONDATE%"}: {$ITEMDATA.itemmodificationdate|date_format:"%A, %B %e, %Y %H:%M:%S"|default:$I18N.NOT_SET|default:"%NOT_SET%"}{/if}
 		</td>
 	</tr>
-	
+
 {if $INPUTERROR.general eq "1"}
 	<tr>
 		<td colspan="2">

Index: body.item.video.show.tpl
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.configuration/templates/body.item.video.show.tpl,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- body.item.video.show.tpl	31 Mar 2005 15:53:47 -0000	1.1
+++ body.item.video.show.tpl	13 Apr 2005 15:04:53 -0000	1.2
@@ -0,0 +1,74 @@
+<div id="phpmediadb-body-details-print" class="phpmediadb-body-details">
+{if $ITEMDATA.itempictureid gt '0'}<img src="http://schattenjaeger.ath.cx:20000/phpmediadb-cvs/_layout/images/phpmediadb.jpg" align="right"/>{/if}
+<h1>{$ITEMDATA.itemtitle|default:$I18N.NOT_SET|default:"%NOT_SET%"} {if $ITEMDATA.itemreleasedate neq ''}[{$ITEMDATA.itemreleasedate}]{/if} </h1>
+{if $ITEMDATA.itemoriginaltitle neq ''}<h2>{$ITEMDATA.itemoriginaltitle}</h2>{/if}
+{counter assign=COUNTER_CATEGORY start=0 print=0}
+{$I18N.MEDIA_VIDEO_ITEM_CATEGORY|default:"%MEDIA_AUDIO_ITEM_CATEGORY%"}:<br />
+{foreach from=$ITEMDATA.__special.categories item=currentDataItem}{if $COUNTER_CATEGORY gt '0'}; {/if}{$currentDataItem.categoryname}{counter print=0}{/foreach}{if $COUNTER_CATEGORY eq '0'}{$I18N.NOT_SET|default:"%NOT_SET%"}{/if}
+
+<table>
+	<tr>
+		<th>{$I18N.MEDIA_VIDEO_ITEM_MEDIANAME|default:"%MEDIA_AUDIO_ITEM_MEDIANAME%"}</th>
+		<td>{$ITEMDATA.itemmedianame|default:$I18N.NOT_SET|default:"%NOT_SET%"}</td>
+	</tr>
+
+	<tr>
+		<th>{$I18N.MEDIA_VIDEO_ITEM_IDENTIFICATION|default:"%MEDIA_AUDIO_ITEM_IDENTIFICATION%"}</th>
+		<td>{$ITEMDATA.itemidentifier|default:$I18N.NOT_SET|default:"%NOT_SET%"}</td>
+	</tr>
+	
+	<tr>
+		<th>{$I18N.MEDIA_VIDEO_ITEM_MEDIASIZE|default:"%MEDIA_AUDIO_ITEM_MEDIASIZE%"}</th>
+		<td>{$ITEMDATA.itemmediasize|default:$I18N.NOT_SET|default:"%NOT_SET%"}</td>
+	</tr>
+	
+	<tr>
+		<th>{$I18N.MEDIA_VIDEO_ITEM_FORMAT|default:"%MEDIA_AUDIO_ITEM_FORMAT%"}</th>
+		<td>{$ITEMDATA.itemtitle|default:$I18N.NOT_SET|default:"%NOT_SET%"}</td>
+	</tr>
+	
+	<tr>
+		<th>{$I18N.MEDIA_VIDEO_ITEM_RELEASEYEAR|default:"%MEDIA_AUDIO_ITEM_RELEASEYEAR%"}</th>
+		<td>{$ITEMDATA.mediaformatid|default:$I18N.NOT_SET|default:"%NOT_SET%"}</td>
+	</tr>
+	
+	<tr>
+		<th>{$I18N.MEDIA_VIDEO_ITEM_PUBLISHER|default:"%MEDIA_AUDIO_ITEM_PUBLISHER%"}</th>
+		<td>{$ITEMDATA.itempublisher|default:$I18N.NOT_SET|default:"%NOT_SET%"}</td>
+	</tr>
+	
+	<tr>
+		<th>{$I18N.MEDIA_VIDEO_ITEM_AGERESTRICTION|default:"%MEDIA_AUDIO_ITEM_AGERESTRICTION%"}</th>
+		<td>{$ITEMDATA.mediaagerestrictionid|default:$I18N.NOT_SET|default:"%NOT_SET%"}</td>
+	</tr>
+	
+	<tr>
+		<th>{$I18N.MEDIA_VIDEO_ITEM_CODEC|default:"%MEDIA_AUDIO_ITEM_CODEC%"}</th>
+		<td>{$ITEMDATA.mediacodecid|default:$I18N.NOT_SET|default:"%NOT_SET%"}</td>
+	</tr>
+	
+	<tr>
+		<th>{$I18N.MEDIA_VIDEO_ITEM_QUANTITY|default:"%MEDIA_AUDIO_ITEM_QUANTITY%"}</th>
+		<td>{$ITEMDATA.itemquantity|default:$I18N.NOT_SET|default:"%NOT_SET%"}</td>
+	</tr>
+	
+		<tr>
+		<th>{$I18N.MEDIA_VIDEO_ITEM_COMMENT|default:"%MEDIA_AUDIO_ITEM_COMMENT%"}</th>
+		<td>{$ITEMDATA.itemcomment|default:$I18N.NOT_SET|default:"%NOT_SET%"}</td>
+	</tr>
+	
+	<tr>
+		<td colspan="2">&nbsp;</td>
+	</tr>
+	
+	<tr>
+		<td colspan="2">
+			{if $ITEMDATA.itemcreationdate gt '0'}{$I18N.MEDIA_CREATIONDATE|default:"%MEDIA_CREATIONDATE%"}: {$ITEMDATA.itemcreationdate|date_format:"%A, %B %e, %Y %H:%M:%S"|default:$I18N.NOT_SET|default:"%NOT_SET%"} <br />{/if}
+			{if $ITEMDATA.itemmodificationdate gt '0'}{$I18N.MEDIA_MODIFICATIONDATE|default:"%MEDIA_MODIFICATIONDATE%"}: {$ITEMDATA.itemmodificationdate|date_format:"%A, %B %e, %Y %H:%M:%S"|default:$I18N.NOT_SET|default:"%NOT_SET%"}{/if}
+
+		</td>
+	</tr>
+</table>
+
+
+</div>
\ No newline at end of file



From nobody at sheep.berlios.de  Wed Apr 13 17:05:09 2005
From: nobody at sheep.berlios.de (mblaschke)
Date: Wed, 13 Apr 2005 17:05:09 +0200
Subject: [phpmediadb-cvs] phpmediadb-cvs/_source/tier.configuration/templates body.list.audio.tpl,1.5,1.6
Message-ID: <200504131505.j3DF59m27521@bat.berlios.de>

Update of /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.configuration/templates
In directory sheep:/tmp/cvs-serv16132/_source/tier.configuration/templates

Modified Files:
	body.list.audio.tpl 
Log Message:
* Changed i18n-string-names

Index: body.list.audio.tpl
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.configuration/templates/body.list.audio.tpl,v
retrieving revision 1.5
retrieving revision 1.6
diff -u -d -r1.5 -r1.6
--- body.list.audio.tpl	12 Apr 2005 19:20:11 -0000	1.5
+++ body.list.audio.tpl	13 Apr 2005 15:05:06 -0000	1.6
@@ -1,8 +1,8 @@
 <div id="phpmediadb-body-list-audio" class="phpmediadb-body-list">
 	<table width="100%" border="0">
 		<tr>
-			<th>{$I18N.LIST_COLUMN_TITLE_MEDIATITLE|default:"%LIST_COLUMN_TITLE_MEDIATITLE%"}</th>
-			<th>{$I18N.LIST_COLUMN_TITLE_RELEASEDATE|default:"%LIST_COLUMN_TITLE_RELEASEDATE%"}</th>
+			<th>{$I18N.LIST_COLUMN_AUDIO_MEDIATITLE|default:"%LIST_COLUMN_AUDIO_MEDIATITLE%"}</th>
+			<th>{$I18N.LIST_COLUMN_AUDIO_RELEASEDATE|default:"%LIST_COLUMN_AUDIO_RELEASEDATE%"}</th>
 			<th></th>
 		</tr>
 {foreach from=$ITEMDATA item=currentDataItem}



From nobody at sheep.berlios.de  Wed Apr 13 17:05:16 2005
From: nobody at sheep.berlios.de (mblaschke)
Date: Wed, 13 Apr 2005 17:05:16 +0200
Subject: [phpmediadb-cvs] phpmediadb-cvs/_source/tier.configuration/templates body.list.print.tpl,1.1,1.2 body.list.video.tpl,1.1,1.2
Message-ID: <200504131505.j3DF5Gm27531@bat.berlios.de>

Update of /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.configuration/templates
In directory sheep:/tmp/cvs-serv16157/_source/tier.configuration/templates

Modified Files:
	body.list.print.tpl body.list.video.tpl 
Log Message:
* Version bump from audios

Index: body.list.print.tpl
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.configuration/templates/body.list.print.tpl,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- body.list.print.tpl	8 Mar 2005 17:54:52 -0000	1.1
+++ body.list.print.tpl	13 Apr 2005 15:05:14 -0000	1.2
@@ -1,3 +1,19 @@
 <div id="phpmediadb-body-list-print" class="phpmediadb-body-list">
- PRINT
-</div> 
+	<table width="100%" border="0">
+		<tr>
+			<th>{$I18N.LIST_COLUMN_PRINT_MEDIATITLE|default:"%LIST_COLUMN_PRINT_MEDIATITLE%"}</th>
+			<th>{$I18N.LIST_COLUMN_PRINT_RELEASEDATE|default:"%LIST_COLUMN_PRINT_RELEASEDATE%"}</th>
+			<th></th>
+		</tr>
+{foreach from=$ITEMDATA item=currentDataItem}
+		<tr>
+			<td><a href="item-details.php?itemid={$currentDataItem.itemid}">{$currentDataItem.itemtitle}</a></td>
+			<td>{$currentDataItem.itemreleasedate|default:$I18N.NOT_SET|default:"%NOT_SET%"}</td>
+			<td>
+				<a href="admin/item-mod.php?itemid={$currentDataItem.itemid}"><img src="{$CONFIGURATION.ROOTPATH}_layout/images/icons/action-modify.png" alt="{$I18N.ACTION_MODIFY|default:"%ACTION_MODIFY%"}" /></a>
+				<a href="admin/item-del.php?itemid={$currentDataItem.itemid}"><img src="{$CONFIGURATION.ROOTPATH}_layout/images/icons/action-remove.png" alt="{$I18N.ACTION_DELETE|default:"%ACTION_DELETE%"}" /></a>
+			</td>
+		</tr>
+{/foreach}
+	</table>
+</div>

Index: body.list.video.tpl
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.configuration/templates/body.list.video.tpl,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- body.list.video.tpl	8 Mar 2005 17:54:52 -0000	1.1
+++ body.list.video.tpl	13 Apr 2005 15:05:14 -0000	1.2
@@ -1,3 +1,19 @@
 <div id="phpmediadb-body-list-video" class="phpmediadb-body-list">
- VIDEO
-</div> 
+	<table width="100%" border="0">
+		<tr>
+			<th>{$I18N.LIST_COLUMN_VIDEO_MEDIATITLE|default:"%LIST_COLUMN_VIDEO_MEDIATITLE%"}</th>
+			<th>{$I18N.LIST_COLUMN_VIDEO_RELEASEDATE|default:"%LIST_COLUMN_VIDEO_RELEASEDATE%"}</th>
+			<th></th>
+		</tr>
+{foreach from=$ITEMDATA item=currentDataItem}
+		<tr>
+			<td><a href="item-details.php?itemid={$currentDataItem.itemid}">{$currentDataItem.itemtitle}</a></td>
+			<td>{$currentDataItem.itemreleasedate|default:$I18N.NOT_SET|default:"%NOT_SET%"}</td>
+			<td>
+				<a href="admin/item-mod.php?itemid={$currentDataItem.itemid}"><img src="{$CONFIGURATION.ROOTPATH}_layout/images/icons/action-modify.png" alt="{$I18N.ACTION_MODIFY|default:"%ACTION_MODIFY%"}" /></a>
+				<a href="admin/item-del.php?itemid={$currentDataItem.itemid}"><img src="{$CONFIGURATION.ROOTPATH}_layout/images/icons/action-remove.png" alt="{$I18N.ACTION_DELETE|default:"%ACTION_DELETE%"}" /></a>
+			</td>
+		</tr>
+{/foreach}
+	</table>
+</div>



From nobody at sheep.berlios.de  Sat Apr 16 18:36:28 2005
From: nobody at sheep.berlios.de (bruf)
Date: Sat, 16 Apr 2005 18:36:28 +0200
Subject: [phpmediadb-cvs] phpmediadb-cvs/help/development erm-model.xml,1.18,1.19
Message-ID: <200504161636.j3GGY6m21992@bat.berlios.de>

Update of /cvsroot/phpmediadb/phpmediadb-cvs/help/development
In directory sheep:/tmp/cvs-serv14308/help/development

Modified Files:
	erm-model.xml 
Log Message:
* Changed ItemCommet type from blob to text

Index: erm-model.xml
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/help/development/erm-model.xml,v
retrieving revision 1.18
retrieving revision 1.19
diff -u -d -r1.18 -r1.19
--- erm-model.xml	12 Apr 2005 10:16:49 -0000	1.18
+++ erm-model.xml	16 Apr 2005 16:34:00 -0000	1.19
@@ -258,14 +258,14 @@
 </SETTINGS>
 <METADATA>
 <REGIONS>
-<REGION ID="1809" RegionName="Language Information" XPos="356" YPos="603" Width="320" Height="440" RegionColor="3" TablePrefix="0" TableType="0" OverwriteTablePrefix="0" OverwriteTableType="0" Comments="" IsLinkedObject="0" IDLinkedModel="-1" Obj_id_Linked="-1" OrderPos="57" />
-<REGION ID="1808" RegionName="Track Information" XPos="14" YPos="604" Width="340" Height="440" RegionColor="2" TablePrefix="0" TableType="0" OverwriteTablePrefix="0" OverwriteTableType="0" Comments="" IsLinkedObject="0" IDLinkedModel="-1" Obj_id_Linked="-1" OrderPos="56" />
-<REGION ID="1744" RegionName="File Information" XPos="13" YPos="1054" Width="660" Height="150" RegionColor="5" TablePrefix="0" TableType="0" OverwriteTablePrefix="0" OverwriteTableType="0" Comments="" IsLinkedObject="0" IDLinkedModel="-1" Obj_id_Linked="-1" OrderPos="54" />
-<REGION ID="1686" RegionName="Media Information" XPos="1489" YPos="16" Width="460" Height="480" RegionColor="1" TablePrefix="0" TableType="0" OverwriteTablePrefix="0" OverwriteTableType="0" Comments="" IsLinkedObject="0" IDLinkedModel="-1" Obj_id_Linked="-1" OrderPos="51" />
-<REGION ID="1670" RegionName="Item Specific Information" XPos="15" YPos="14" Width="660" Height="580" RegionColor="0" TablePrefix="0" TableType="0" OverwriteTablePrefix="0" OverwriteTableType="0" Comments="" IsLinkedObject="0" IDLinkedModel="-1" Obj_id_Linked="-1" OrderPos="44" />
-<REGION ID="1671" RegionName="General Item Information" XPos="682" YPos="15" Width="800" Height="700" RegionColor="2" TablePrefix="0" TableType="0" OverwriteTablePrefix="0" OverwriteTableType="0" Comments="" IsLinkedObject="0" IDLinkedModel="-1" Obj_id_Linked="-1" OrderPos="45" />
-<REGION ID="1672" RegionName="Person Information" XPos="682" YPos="721" Width="1000" Height="480" RegionColor="4" TablePrefix="0" TableType="0" OverwriteTablePrefix="0" OverwriteTableType="0" Comments="" IsLinkedObject="0" IDLinkedModel="-1" Obj_id_Linked="-1" OrderPos="46" />
 <REGION ID="1690" RegionName="Binary Data Information" XPos="1489" YPos="512" Width="460" Height="200" RegionColor="0" TablePrefix="0" TableType="0" OverwriteTablePrefix="0" OverwriteTableType="0" Comments="" IsLinkedObject="0" IDLinkedModel="-1" Obj_id_Linked="-1" OrderPos="53" />
+<REGION ID="1672" RegionName="Person Information" XPos="682" YPos="721" Width="1000" Height="480" RegionColor="4" TablePrefix="0" TableType="0" OverwriteTablePrefix="0" OverwriteTableType="0" Comments="" IsLinkedObject="0" IDLinkedModel="-1" Obj_id_Linked="-1" OrderPos="46" />
+<REGION ID="1671" RegionName="General Item Information" XPos="682" YPos="15" Width="800" Height="700" RegionColor="2" TablePrefix="0" TableType="0" OverwriteTablePrefix="0" OverwriteTableType="0" Comments="" IsLinkedObject="0" IDLinkedModel="-1" Obj_id_Linked="-1" OrderPos="45" />
+<REGION ID="1670" RegionName="Item Specific Information" XPos="15" YPos="14" Width="660" Height="580" RegionColor="0" TablePrefix="0" TableType="0" OverwriteTablePrefix="0" OverwriteTableType="0" Comments="" IsLinkedObject="0" IDLinkedModel="-1" Obj_id_Linked="-1" OrderPos="44" />
+<REGION ID="1686" RegionName="Media Information" XPos="1489" YPos="16" Width="460" Height="480" RegionColor="1" TablePrefix="0" TableType="0" OverwriteTablePrefix="0" OverwriteTableType="0" Comments="" IsLinkedObject="0" IDLinkedModel="-1" Obj_id_Linked="-1" OrderPos="51" />
+<REGION ID="1744" RegionName="File Information" XPos="13" YPos="1054" Width="660" Height="150" RegionColor="5" TablePrefix="0" TableType="0" OverwriteTablePrefix="0" OverwriteTableType="0" Comments="" IsLinkedObject="0" IDLinkedModel="-1" Obj_id_Linked="-1" OrderPos="54" />
+<REGION ID="1808" RegionName="Track Information" XPos="14" YPos="604" Width="340" Height="440" RegionColor="2" TablePrefix="0" TableType="0" OverwriteTablePrefix="0" OverwriteTableType="0" Comments="" IsLinkedObject="0" IDLinkedModel="-1" Obj_id_Linked="-1" OrderPos="56" />
+<REGION ID="1809" RegionName="Language Information" XPos="356" YPos="603" Width="320" Height="440" RegionColor="3" TablePrefix="0" TableType="0" OverwriteTablePrefix="0" OverwriteTableType="0" Comments="" IsLinkedObject="0" IDLinkedModel="-1" Obj_id_Linked="-1" OrderPos="57" />
 </REGIONS>
 <TABLES>
 <TABLE ID="1491" Tablename="Languages" PrevTableName="Table_01" XPos="416" YPos="823" TableType="0" TablePrefix="0" nmTable="0" Temporary="0" UseStandardInserts="0" StandardInserts="\n" TableOptions="DelayKeyTblUpdates=0\nPackKeys=0\nRowChecksum=0\nRowFormat=0\nUseRaid=0\nRaidType=0\n" Comments="" Collapsed="0" IsLinkedObject="0" IDLinkedModel="-1" Obj_id_Linked="-1" OrderPos="3" >
@@ -706,7 +706,7 @@
 <OPTIONSELECTED>
 </OPTIONSELECTED>
 </COLUMN>
-<COLUMN ID="1747" ColName="ItemComment" PrevColName="" Pos="13" idDatatype="24" DatatypeParams="" Width="-1" Prec="-1" PrimaryKey="0" NotNull="1" AutoInc="0" IsForeignKey="0" DefaultValue="" Comments="">
+<COLUMN ID="1747" ColName="ItemComment" PrevColName="" Pos="13" idDatatype="28" DatatypeParams="" Width="-1" Prec="-1" PrimaryKey="0" NotNull="1" AutoInc="0" IsForeignKey="0" DefaultValue="" Comments="">
 <OPTIONSELECTED>
 </OPTIONSELECTED>
 </COLUMN>



From nobody at sheep.berlios.de  Sat Apr 16 18:53:44 2005
From: nobody at sheep.berlios.de (bruf)
Date: Sat, 16 Apr 2005 18:53:44 +0200
Subject: [phpmediadb-cvs] phpmediadb-cvs/_source/tier.configuration config.presentation.php,1.6,1.7
Message-ID: <200504161653.j3GGrim22918@bat.berlios.de>

Update of /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.configuration
In directory sheep:/tmp/cvs-serv31172/_source/tier.configuration

Modified Files:
	config.presentation.php 
Log Message:
* Changed configuration

Index: config.presentation.php
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.configuration/config.presentation.php,v
retrieving revision 1.6
retrieving revision 1.7
diff -u -d -r1.6 -r1.7
--- config.presentation.php	24 Mar 2005 17:12:56 -0000	1.6
+++ config.presentation.php	16 Apr 2005 16:53:37 -0000	1.7
@@ -34,7 +34,7 @@
 /**
   * i18n - Configuration
   */
-$phpMediaDbConfig['PRESENTATION']['i18n']['defaultLanguage']	= "de";
+$phpMediaDbConfig['PRESENTATION']['i18n']['defaultLanguage']	= 'de';
 $phpMediaDbConfig['PRESENTATION']['i18n']['forcedLanguage']		= true;
 
 



From nobody at sheep.berlios.de  Sat Apr 16 18:55:12 2005
From: nobody at sheep.berlios.de (bruf)
Date: Sat, 16 Apr 2005 18:55:12 +0200
Subject: [phpmediadb-cvs] phpmediadb-cvs/_source/tier.configuration/i18n i18n.de.php,1.7,1.8
Message-ID: <200504161655.j3GGtCm22955@bat.berlios.de>

Update of /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.configuration/i18n
In directory sheep:/tmp/cvs-serv32619/_source/tier.configuration/i18n

Modified Files:
	i18n.de.php 
Log Message:
* Changed some translations
* Added some translations

Index: i18n.de.php
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.configuration/i18n/i18n.de.php,v
retrieving revision 1.7
retrieving revision 1.8
diff -u -d -r1.7 -r1.8
--- i18n.de.php	13 Apr 2005 11:50:15 -0000	1.7
+++ i18n.de.php	16 Apr 2005 16:55:08 -0000	1.8
@@ -15,6 +15,8 @@
 *** HTML-Translations
 ******************************************************************************/
 
+	$i18n['MEDIA_VIDEO_TITLE'] = 'audio-visuelles Medium';
+	
 /* default i18ns */
 	$i18n['OK'] = 'Akzeptieren';
 	$i18n['CANCEL'] = 'Abbrechen';



From nobody at sheep.berlios.de  Sat Apr 16 18:55:32 2005
From: nobody at sheep.berlios.de (bruf)
Date: Sat, 16 Apr 2005 18:55:32 +0200
Subject: [phpmediadb-cvs] phpmediadb-cvs/_source/tier.configuration/i18n i18n.en.php,1.4,1.5
Message-ID: <200504161655.j3GGtWm22961@bat.berlios.de>

Update of /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.configuration/i18n
In directory sheep:/tmp/cvs-serv32762/_source/tier.configuration/i18n

Modified Files:
	i18n.en.php 
Log Message:
* Changed some translations
* Added some translations

Index: i18n.en.php
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.configuration/i18n/i18n.en.php,v
retrieving revision 1.4
retrieving revision 1.5
diff -u -d -r1.4 -r1.5
--- i18n.en.php	12 Apr 2005 10:17:17 -0000	1.4
+++ i18n.en.php	16 Apr 2005 16:55:29 -0000	1.5
@@ -14,7 +14,7 @@
 /******************************************************************************
 *** HTML-Translations
 ******************************************************************************/
-
+	$i18n['MEDIA_VIDEO_TITLE'] = 'VIDEO';
 /* default i18ns */
 	$i18n['OK'] = 'Accept';
 	$i18n['CANCEL'] = 'Cancel';



From nobody at sheep.berlios.de  Sun Apr 17 12:24:58 2005
From: nobody at sheep.berlios.de (bruf)
Date: Sun, 17 Apr 2005 12:24:58 +0200
Subject: [phpmediadb-cvs] phpmediadb-cvs/_source phpmediadb.php,1.11,1.12
Message-ID: <200504171024.j3HAOwm09924@bat.berlios.de>

Update of /cvsroot/phpmediadb/phpmediadb-cvs/_source
In directory sheep:/tmp/cvs-serv9189/_source

Modified Files:
	phpmediadb.php 
Log Message:
* Added class phpmediadb_data_binarydatas

Index: phpmediadb.php
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/_source/phpmediadb.php,v
retrieving revision 1.11
retrieving revision 1.12
diff -u -d -r1.11 -r1.12
--- phpmediadb.php	13 Apr 2005 11:56:05 -0000	1.11
+++ phpmediadb.php	17 Apr 2005 10:24:56 -0000	1.12
@@ -52,6 +52,7 @@
 	require_once( 'tier.data/class.phpmediadb_data.php' );
 	require_once( 'tier.data/class.phpmediadb_data_agerestrictions.php' );
 	require_once( 'tier.data/class.phpmediadb_data_audios.php' );
+	require_once( 'tier.data/class.phpmediadb_data_binarydatas.php' );
 	require_once( 'tier.data/class.phpmediadb_data_categories.php' );
 	require_once( 'tier.data/class.phpmediadb_data_codecs.php' );
 	require_once( 'tier.data/class.phpmediadb_data_formats.php' );



From nobody at sheep.berlios.de  Sun Apr 17 12:25:09 2005
From: nobody at sheep.berlios.de (bruf)
Date: Sun, 17 Apr 2005 12:25:09 +0200
Subject: [phpmediadb-cvs] phpmediadb-cvs/_source/tier.data class.phpmediadb_data.php,1.10,1.11
Message-ID: <200504171025.j3HAP9m09938@bat.berlios.de>

Update of /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.data
In directory sheep:/tmp/cvs-serv9219/_source/tier.data

Modified Files:
	class.phpmediadb_data.php 
Log Message:
* Added class phpmediadb_data_binarydatas

Index: class.phpmediadb_data.php
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.data/class.phpmediadb_data.php,v
retrieving revision 1.10
retrieving revision 1.11
diff -u -d -r1.10 -r1.11
--- class.phpmediadb_data.php	12 Apr 2005 17:58:05 -0000	1.10
+++ class.phpmediadb_data.php	17 Apr 2005 10:25:07 -0000	1.11
@@ -44,6 +44,15 @@
 	public $AUDIOS = null;
 	
 	/**
+	 * Reference to class phpmediadb_data_binarydatas
+	 *
+	 * @access public
+	 * @see phpmediadb_data_audios
+	 * @var phpmediadb_data_audios
+	 */
+	public $BINARYDATAS = null;
+	
+	/**
 	 * Reference to class phpmediadb_data_categories
 	 *
 	 * @access public
@@ -145,6 +154,7 @@
 		/* assign childs */
 		$this->AGERESTRICTIONS	= new phpmediadb_data_agerestrictions( $this );
 		$this->AUDIOS			= new phpmediadb_data_audios( $this );
+		$this->BINARYDATAS		= new phpmediadb_data_binarydatas( $this );
 		$this->CATEGORIES		= new phpmediadb_data_categories( $this );
 		$this->CODECS			= new phpmediadb_data_codecs( $this );
 		$this->FORMATS			= new phpmediadb_data_formats( $this );



From nobody at sheep.berlios.de  Sun Apr 17 12:25:35 2005
From: nobody at sheep.berlios.de (bruf)
Date: Sun, 17 Apr 2005 12:25:35 +0200
Subject: [phpmediadb-cvs] phpmediadb-cvs/_source/tier.data class.phpmediadb_data_binarydatas.php,NONE,1.1
Message-ID: <200504171025.j3HAPZm09952@bat.berlios.de>

Update of /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.data
In directory sheep:/tmp/cvs-serv9297/_source/tier.data

Added Files:
	class.phpmediadb_data_binarydatas.php 
Log Message:
* Initial revision

--- NEW FILE: class.phpmediadb_data_binarydatas.php ---
<?php
// phpMediaDB :: Licensed under GNU-GPL :: http://phpmediadb.berlios.de/
/* $Id: class.phpmediadb_data_binarydatas.php,v 1.1 2005/04/17 10:25:33 bruf Exp $ */

/**
 * This is the class that manages all database activities for the binarydatas
 *
 * @author		Boris Ruf <bruf at users.berlios.de>
 * @version		$Revision: 1.1 $
 * @package		phpmediadb
 * @subpackage	data
 */
class phpmediadb_data_binarydatas
{
	// --- ATTRIBUTES ---

	/**
	 * Reference to class phpmediadb
	 *
	 * @access protected
	 * @see phpmediadb
	 * @var phpmediadb
	 */
	protected $PHPMEDIADB = null;

	/**
	 * Reference to class phpmediadb_data
	 *
	 * @access protected
	 * @see phpmediadb_data
	 * @var phpmediadb_data
	 */
	protected $DATA = null;

	// --- OPERATIONS ---
	
//-----------------------------------------------------------------------------
	/**
	 * The constructor __construct initalizes the Class.
	 *
	 * @access public
	 * @param phpmediadb_data $sender Reference to parent class
	 */
	public function __construct( $sender )
	{
		/* assign parent */
		$this->DATA			= $sender;
		$this->PHPMEDIADB	= $sender->PHPMEDIADB;
	}
  
//-----------------------------------------------------------------------------
	/**
	 * The destructor __destruct is responsible for closing all open files,
	 * etc.
	 *
	 * @access public
	 */
	public function __destruct()
	{
		/* nothing to do yet */
	}
	
//-----------------------------------------------------------------------------
	/**
	 * This function returns a specified record from the table BinaryDatas
	 * and all required data from the other tables
	 *
	 * @access public
	 * @param Integer $id contains specified id for the sql statement
	 * @return array returns the results of database query
	 */
	public function get( $id )
	{
		try
		{
			$conn = $this->DATA->SQL->getConnection();
			$stmt = $conn->prepareStatement(	'SELECT BinaryDatas.*
													FROM BinaryDatas
													WHERE BinaryDatas.ItemPicturesID = ?' );
			$stmt->setString( 1, $id );
			$rs = $stmt->executeQuery();
			
			return $this->DATA->SQL->generateDataArray( $rs );
		}
		catch( Exception $exception )
		{
			/* handle exception and terminate script */
			phpmediadb_exception::handleException( $exception );
		}
	}

//-----------------------------------------------------------------------------
	/**
	 * This function returns all records from the table BinaryDatas
	 * and all required data from the other tables
	 *
	 * @access public
	 * @return array returns the results of database query
	 */
	public function getList()
	{
		try
		{
			$conn = $this->DATA->SQL->getConnection();
			$stmt = $conn->prepareStatement(	'SELECT BinaryDatas.*
													FROM BinaryDatas' );
			$rs = $stmt->executeQuery();
			
			return $this->DATA->SQL->generateDataArray( $rs );
		}
		catch( Exception $exception )
		{
			/* handle exception and terminate script */
			phpmediadb_exception::handleException( $exception );
		}
	}

//-----------------------------------------------------------------------------
/**
	 * This function creates a new record in the table BinaryDatas
	 * and all required data in the other tables
	 *
	 * @access public
	 * @param array $data contains all required data for the sql statement
	 * @return Integer returns id from the last created record
	 */
	public function create( $data )
	{
		try
		{
			$conn = $this->DATA->SQL->getConnection();
			$this->DATA->SQL->openTransaction( $conn );
			$stmt = $conn->prepareStatement(	'INSERT INTO BinaryDatas
												( BinaryDataMimeType, BinaryDataSize )
												VALUES( ?, ? )' );
			$stmt->setString( 1, $data['binarydatamimetype'] );
			$stmt->setString( 2, $data['binarydatasize'] );
			$stmt->executeUpdate();
			$this->DATA->SQL->commitTransaction( $conn );
		
			return $this->DATA->SQL->getLastInsert( $conn );
		}
		catch( Exception $exception )
		{
			/* rollback transaction */
			$this->DATA->SQL->rollbackTransaction( $conn );
			
			/* handle exception and terminate script */
			phpmediadb_exception::handleException( $exception );
		}
	}

//-----------------------------------------------------------------------------
/**
	 * This function modifies a specified record from the table BinaryDatas
	 * and all required data from the other tables
	 *
	 * @access public
	 * @param Integer $id contains specified id for the sql statement
	 * @param array $data contains all required data for the sql statement
	 * @return bool Status of transaction
	 */
	public function modify( $id, $data )
	{
		try
		{
			$conn = $this->DATA->SQL->getConnection();
			$this->DATA->SQL->openTransaction( $conn );
			$stmt = $conn->prepareStatement(	'Update BinaryDatas
													SET BinaryDatas.BinaryDataMimeType = ?,
													BinaryDatas.BinaryDataSize = ?
													WHERE BinaryDatas.ItemPicturesID = ?' );
			$stmt->setString( 1, $data['binarydatamimetype'] );
			$stmt->setString( 2, $data['binarydatasize'] );
			$stmt->setString( 12, $id );
			$stmt->executeUpdate();
			$this->DATA->SQL->commitTransaction( $conn );
		}
		catch( Exception $exception )
		{
			/* rollback transaction */
			$this->DATA->SQL->rollbackTransaction( $conn );
			
			/* handle exception and terminate script */
			phpmediadb_exception::handleException( $exception );
		}
		
		return true;
	}
	
//-----------------------------------------------------------------------------
	/**
	 * This function deletes a specified record from the table BinaryDatas
	 * and all depending data from the other tables
	 *
	 * @access public
	 * @param Integer $id contains specified id for the sql statement
	 * @return bool Status of transaction
	 */
	public function delete( $id )
	{
		try
		{
			$conn = $this->DATA->SQL->getConnection();
			$this->DATA->SQL->openTransaction( $conn );
			$stmt = $conn->prepareStatement(	'DELETE FROM BinaryDatas
													WHERE BinaryDatas.ItemPicturesID = ?' );
			$stmt->setString( 1, $id );
			$rs = $stmt->executeUpdate();
			
			$this->DATA->SQL->commitTransaction( $conn );
		}
		catch( Exception $exception )
		{
			/* rollback transaction */
			$this->DATA->SQL->rollbackTransaction( $conn );
			
			/* handle exception and terminate script */
			phpmediadb_exception::handleException( $exception );
		}
		
		return true;
	}

//-----------------------------------------------------------------------------
	/**
	 * This function returns true when the record exists
	 * and false when the record doesn't exist
	 *
	 * @access public
	 * @param Integer $id contains specified id for the sql statement
	 * @return bool returns whether the specified record exists
	 */
	public function exist( $id )
	{
		/* init */
		$returnValue = false;
		
		try
		{
			$conn = $this->DATA->SQL->getConnection();
			$stmt = $conn->prepareStatement(	'SELECT COUNT(*)
												FROM BinaryDatas
												WHERE BinaryDatas.ItemPicturesID = ?' );
			$stmt->setString( 1, $id );
			$rs = $stmt->executeQuery( ResultSet::FETCHMODE_NUM );
			$rs->next();
		
			/* check if item exists */
			if( $rs->get(1) >= 1 )
				$returnValue = true;
			
			return $returnValue;
		}
		catch( Exception $ex )
		{
			/* handle exception and terminate script */
			phpmediadb_exception::handleException( $ex );
		}
	}

//-----------------------------------------------------------------------------
} /* end of class phpmediadb_data_audios */
//--- EOF --- EOF --- EOF --- EOF --- EOF --- EOF --- EOF --- EOF --- EOF ---
?>


From nobody at sheep.berlios.de  Wed Apr 20 22:06:23 2005
From: nobody at sheep.berlios.de (bruf)
Date: Wed, 20 Apr 2005 22:06:23 +0200
Subject: [phpmediadb-cvs] phpmediadb-cvs/help/development erm-model.xml,1.19,1.20
Message-ID: <200504202006.j3KK6Nm19058@bat.berlios.de>

Update of /cvsroot/phpmediadb/phpmediadb-cvs/help/development
In directory sheep:/tmp/cvs-serv2163/help/development

Modified Files:
	erm-model.xml 
Log Message:
* Added ItemLocation

Index: erm-model.xml
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/help/development/erm-model.xml,v
retrieving revision 1.19
retrieving revision 1.20
diff -u -d -r1.19 -r1.20
--- erm-model.xml	16 Apr 2005 16:34:00 -0000	1.19
+++ erm-model.xml	20 Apr 2005 20:06:20 -0000	1.20
@@ -1,7 +1,7 @@
 <?xml version="1.0" standalone="yes" ?>
 <DBMODEL Version="4.0">
 <SETTINGS>
-<GLOBALSETTINGS ModelName="erm-model" IDModel="0" IDVersion="0" VersionStr="1.0.0.0" Comments="" UseVersionHistroy="1" AutoIncVersion="1" DatabaseType="MySQL" ZoomFac="75.00" XPos="0" YPos="0" DefaultDataType="5" DefaultTablePrefix="0" DefSaveDBConn="" DefSyncDBConn="" DefQueryDBConn="" Printer="" HPageCount="4.0" PageAspectRatio="1.440892512336408" PageOrientation="1" PageFormat="A4 (210x297 mm, 8.26x11.7 inches)" SelectedPages="" UsePositionGrid="1" PositionGridX="10" PositionGridY="10" TableNameInRefs="0" DefaultTableType="0" ActivateRefDefForNewRelations="1" FKPrefix="" FKPostfix="" CreateFKRefDefIndex="1" DBQuoteCharacter="`" CreateSQLforLinkedObjects="0" DefModelFont="Nimbus Sans L" CanvasWidth="4096" CanvasHeight="2842" />
+<GLOBALSETTINGS ModelName="erm-model" IDModel="0" IDVersion="0" VersionStr="1.0.0.0" Comments="" UseVersionHistroy="1" AutoIncVersion="1" DatabaseType="MySQL" ZoomFac="75.00" XPos="469" YPos="0" DefaultDataType="5" DefaultTablePrefix="0" DefSaveDBConn="" DefSyncDBConn="" DefQueryDBConn="" Printer="" HPageCount="4.0" PageAspectRatio="1.440892512336408" PageOrientation="1" PageFormat="A4 (210x297 mm, 8.26x11.7 inches)" SelectedPages="" UsePositionGrid="1" PositionGridX="10" PositionGridY="10" TableNameInRefs="0" DefaultTableType="0" ActivateRefDefForNewRelations="1" FKPrefix="" FKPostfix="" CreateFKRefDefIndex="1" DBQuoteCharacter="`" CreateSQLforLinkedObjects="0" DefModelFont="Nimbus Sans L" CanvasWidth="4096" CanvasHeight="2842" />
 <DATATYPEGROUPS>
 <DATATYPEGROUP Name="Numeric Types" Icon="1" />
 <DATATYPEGROUP Name="Date and Time Types" Icon="2" />
@@ -672,12 +672,6 @@
 <OPTIONSELECT Value="0" />
 </OPTIONSELECTED>
 </COLUMN>
-<COLUMN ID="1778" ColName="ItemPicturesID" PrevColName="" Pos="1" idDatatype="5" DatatypeParams="" Width="-1" Prec="-1" PrimaryKey="0" NotNull="1" AutoInc="0" IsForeignKey="1" DefaultValue="" Comments="">
-<OPTIONSELECTED>
-<OPTIONSELECT Value="1" />
-<OPTIONSELECT Value="0" />
-</OPTIONSELECTED>
-</COLUMN>
 <COLUMN ID="1569" ColName="ItemTitle" PrevColName="" Pos="1" idDatatype="20" DatatypeParams="(255)" Width="-1" Prec="-1" PrimaryKey="0" NotNull="1" AutoInc="0" IsForeignKey="0" DefaultValue="" Comments="">
 <OPTIONSELECTED>
 <OPTIONSELECT Value="0" />
@@ -725,6 +719,16 @@
 <OPTIONSELECT Value="0" />
 </OPTIONSELECTED>
 </COLUMN>
+<COLUMN ID="1861" ColName="ItemLocation" PrevColName="" Pos="16" idDatatype="20" DatatypeParams="(255)" Width="-1" Prec="-1" PrimaryKey="0" NotNull="1" AutoInc="0" IsForeignKey="0" DefaultValue="" Comments="">
+<OPTIONSELECTED>
+<OPTIONSELECT Value="0" />
+</OPTIONSELECTED>
+</COLUMN>
+<COLUMN ID="1869" ColName="ItemPictureURL" PrevColName="" Pos="16" idDatatype="20" DatatypeParams="(255)" Width="-1" Prec="-1" PrimaryKey="0" NotNull="0" AutoInc="0" IsForeignKey="0" DefaultValue="" Comments="">
+<OPTIONSELECTED>
+<OPTIONSELECT Value="0" />
+</OPTIONSELECTED>
+</COLUMN>
 </COLUMNS>
 <RELATIONS_START>
 <RELATION_START ID="1575" />
@@ -734,10 +738,10 @@
 <RELATION_START ID="1629" />
 <RELATION_START ID="1632" />
 <RELATION_START ID="1635" />
+<RELATION_START ID="1864" />
 </RELATIONS_START>
 <RELATIONS_END>
 <RELATION_END ID="1584" />
-<RELATION_END ID="1770" />
 <RELATION_END ID="1789" />
 <RELATION_END ID="1792" />
 <RELATION_END ID="1795" />
@@ -753,11 +757,6 @@
 <INDEXCOLUMN idColumn="1585" LengthParam="0" />
 </INDEXCOLUMNS>
 </INDEX>
-<INDEX ID="1779" IndexName="Items_FKIndex2" IndexKind="1" FKRefDef_Obj_id="1770">
-<INDEXCOLUMNS>
-<INDEXCOLUMN idColumn="1778" LengthParam="0" />
-</INDEXCOLUMNS>
-</INDEX>
 <INDEX ID="1791" IndexName="Items_FKIndex3" IndexKind="1" FKRefDef_Obj_id="1789">
 <INDEXCOLUMNS>
 <INDEXCOLUMN idColumn="1790" LengthParam="0" />
@@ -1091,6 +1090,12 @@
 <OPTIONSELECT Value="0" />
 </OPTIONSELECTED>
 </COLUMN>
+<COLUMN ID="1865" ColName="ItemID" PrevColName="" Pos="1" idDatatype="5" DatatypeParams="" Width="-1" Prec="-1" PrimaryKey="0" NotNull="1" AutoInc="0" IsForeignKey="1" DefaultValue="" Comments="">
+<OPTIONSELECTED>
+<OPTIONSELECT Value="1" />
+<OPTIONSELECT Value="0" />
+</OPTIONSELECTED>
+</COLUMN>
 <COLUMN ID="1749" ColName="BinaryDataMimeType" PrevColName="" Pos="1" idDatatype="20" DatatypeParams="(255)" Width="-1" Prec="-1" PrimaryKey="0" NotNull="1" AutoInc="0" IsForeignKey="0" DefaultValue="" Comments="">
 <OPTIONSELECTED>
 <OPTIONSELECT Value="0" />
@@ -1103,15 +1108,20 @@
 </OPTIONSELECTED>
 </COLUMN>
 </COLUMNS>
-<RELATIONS_START>
-<RELATION_START ID="1770" />
-</RELATIONS_START>
+<RELATIONS_END>
+<RELATION_END ID="1864" />
+</RELATIONS_END>
 <INDICES>
 <INDEX ID="1664" IndexName="PRIMARY" IndexKind="0" FKRefDef_Obj_id="-1">
 <INDEXCOLUMNS>
 <INDEXCOLUMN idColumn="1663" LengthParam="0" />
 </INDEXCOLUMNS>
 </INDEX>
+<INDEX ID="1866" IndexName="BinaryDatas_FKIndex1" IndexKind="1" FKRefDef_Obj_id="1864">
+<INDEXCOLUMNS>
+<INDEXCOLUMN idColumn="1865" LengthParam="0" />
+</INDEXCOLUMNS>
+</INDEX>
 </INDICES>
 </TABLE>
 </TABLES>
@@ -1134,13 +1144,13 @@
 <RELATION ID="1629" RelationName="Rel_18" Kind="2" SrcTable="1565" DestTable="1598" FKFields="ItemID=ItemID\n" FKFieldsComments="\n" relDirection="3" MidOffset="34" OptionalStart="0" OptionalEnd="0" CaptionOffsetX="0" CaptionOffsetY="0" StartIntervalOffsetX="0" StartIntervalOffsetY="0" EndIntervalOffsetX="0" EndIntervalOffsetY="0" CreateRefDef="1" Invisible="0" RefDef="Matching=0\nOnDelete=3\nOnUpdate=3\n" Comments="" FKRefDefIndex_Obj_id="1631" Splitted="0" IsLinkedObject="0" IDLinkedModel="-1" Obj_id_Linked="-1" OrderPos="34" />
 <RELATION ID="1632" RelationName="Rel_19" Kind="2" SrcTable="1565" DestTable="1603" FKFields="ItemID=ItemID\n" FKFieldsComments="\n" relDirection="3" MidOffset="-5" OptionalStart="0" OptionalEnd="0" CaptionOffsetX="0" CaptionOffsetY="0" StartIntervalOffsetX="0" StartIntervalOffsetY="0" EndIntervalOffsetX="0" EndIntervalOffsetY="0" CreateRefDef="1" Invisible="0" RefDef="Matching=0\nOnDelete=3\nOnUpdate=3\n" Comments="" FKRefDefIndex_Obj_id="1634" Splitted="0" IsLinkedObject="0" IDLinkedModel="-1" Obj_id_Linked="-1" OrderPos="35" />
 <RELATION ID="1635" RelationName="Rel_20" Kind="2" SrcTable="1565" DestTable="1607" FKFields="ItemID=ItemID\n" FKFieldsComments="\n" relDirection="2" MidOffset="138" OptionalStart="0" OptionalEnd="0" CaptionOffsetX="0" CaptionOffsetY="0" StartIntervalOffsetX="0" StartIntervalOffsetY="0" EndIntervalOffsetX="0" EndIntervalOffsetY="0" CreateRefDef="1" Invisible="0" RefDef="Matching=0\nOnDelete=3\nOnUpdate=3\n" Comments="" FKRefDefIndex_Obj_id="1637" Splitted="0" IsLinkedObject="0" IDLinkedModel="-1" Obj_id_Linked="-1" OrderPos="36" />
-<RELATION ID="1770" RelationName="Rel_28" Kind="2" SrcTable="1661" DestTable="1565" FKFields="ItemPicturesID=ItemPicturesID\n" FKFieldsComments="\n" relDirection="4" MidOffset="126" OptionalStart="0" OptionalEnd="0" CaptionOffsetX="0" CaptionOffsetY="0" StartIntervalOffsetX="0" StartIntervalOffsetY="0" EndIntervalOffsetX="0" EndIntervalOffsetY="0" CreateRefDef="1" Invisible="0" RefDef="Matching=0\nOnDelete=3\nOnUpdate=3\n" Comments="" FKRefDefIndex_Obj_id="1779" Splitted="0" IsLinkedObject="0" IDLinkedModel="-1" Obj_id_Linked="-1" OrderPos="56" />
 <RELATION ID="1789" RelationName="Rel_24" Kind="2" SrcTable="1638" DestTable="1565" FKFields="MediaFormatID=MediaFormatID\n" FKFieldsComments="\n" relDirection="4" MidOffset="104" OptionalStart="0" OptionalEnd="0" CaptionOffsetX="0" CaptionOffsetY="0" StartIntervalOffsetX="0" StartIntervalOffsetY="0" EndIntervalOffsetX="0" EndIntervalOffsetY="0" CreateRefDef="1" Invisible="0" RefDef="Matching=0\nOnDelete=3\nOnUpdate=3\n" Comments="" FKRefDefIndex_Obj_id="1791" Splitted="0" IsLinkedObject="0" IDLinkedModel="-1" Obj_id_Linked="-1" OrderPos="52" />
 <RELATION ID="1792" RelationName="Rel_25" Kind="2" SrcTable="1655" DestTable="1565" FKFields="MediaCodecID=MediaCodecID\n" FKFieldsComments="\n" relDirection="4" MidOffset="-97" OptionalStart="0" OptionalEnd="0" CaptionOffsetX="0" CaptionOffsetY="0" StartIntervalOffsetX="0" StartIntervalOffsetY="0" EndIntervalOffsetX="0" EndIntervalOffsetY="0" CreateRefDef="1" Invisible="0" RefDef="Matching=0\nOnDelete=3\nOnUpdate=3\n" Comments="" FKRefDefIndex_Obj_id="1794" Splitted="0" IsLinkedObject="0" IDLinkedModel="-1" Obj_id_Linked="-1" OrderPos="53" />
 <RELATION ID="1795" RelationName="Rel_26" Kind="2" SrcTable="1643" DestTable="1565" FKFields="MediaAgeRestrictionID=MediaAgeRestrictionID\n" FKFieldsComments="\n" relDirection="4" MidOffset="109" OptionalStart="0" OptionalEnd="0" CaptionOffsetX="0" CaptionOffsetY="0" StartIntervalOffsetX="0" StartIntervalOffsetY="0" EndIntervalOffsetX="0" EndIntervalOffsetY="0" CreateRefDef="1" Invisible="0" RefDef="Matching=0\nOnDelete=3\nOnUpdate=3\n" Comments="" FKRefDefIndex_Obj_id="1797" Splitted="0" IsLinkedObject="0" IDLinkedModel="-1" Obj_id_Linked="-1" OrderPos="54" />
 <RELATION ID="1801" RelationName="Rel_28" Kind="2" SrcTable="1553" DestTable="1638" FKFields="ItemTypeID=ItemTypeID\n" FKFieldsComments="\n" relDirection="2" MidOffset="23" OptionalStart="0" OptionalEnd="0" CaptionOffsetX="0" CaptionOffsetY="0" StartIntervalOffsetX="0" StartIntervalOffsetY="0" EndIntervalOffsetX="0" EndIntervalOffsetY="0" CreateRefDef="1" Invisible="0" RefDef="Matching=0\nOnDelete=3\nOnUpdate=3\n" Comments="" FKRefDefIndex_Obj_id="1803" Splitted="0" IsLinkedObject="0" IDLinkedModel="-1" Obj_id_Linked="-1" OrderPos="56" />
 <RELATION ID="1804" RelationName="Rel_29" Kind="2" SrcTable="1553" DestTable="1655" FKFields="ItemTypeID=ItemTypeID\n" FKFieldsComments="\n" relDirection="2" MidOffset="51" OptionalStart="0" OptionalEnd="0" CaptionOffsetX="3" CaptionOffsetY="1" StartIntervalOffsetX="0" StartIntervalOffsetY="0" EndIntervalOffsetX="0" EndIntervalOffsetY="0" CreateRefDef="1" Invisible="0" RefDef="Matching=0\nOnDelete=3\nOnUpdate=3\n" Comments="" FKRefDefIndex_Obj_id="1806" Splitted="0" IsLinkedObject="0" IDLinkedModel="-1" Obj_id_Linked="-1" OrderPos="57" />
 <RELATION ID="1855" RelationName="Rel_26" Kind="2" SrcTable="1553" DestTable="1558" FKFields="ItemTypeID=ItemTypeID\n" FKFieldsComments="\n" relDirection="3" MidOffset="13" OptionalStart="0" OptionalEnd="0" CaptionOffsetX="0" CaptionOffsetY="0" StartIntervalOffsetX="0" StartIntervalOffsetY="0" EndIntervalOffsetX="0" EndIntervalOffsetY="0" CreateRefDef="1" Invisible="0" RefDef="Matching=0\nOnDelete=3\nOnUpdate=3\n" Comments="" FKRefDefIndex_Obj_id="1857" Splitted="0" IsLinkedObject="0" IDLinkedModel="-1" Obj_id_Linked="-1" OrderPos="57" />
+<RELATION ID="1864" RelationName="Rel_26" Kind="2" SrcTable="1565" DestTable="1661" FKFields="ItemID=ItemID\n" FKFieldsComments="\n" relDirection="2" MidOffset="0" OptionalStart="0" OptionalEnd="0" CaptionOffsetX="0" CaptionOffsetY="0" StartIntervalOffsetX="0" StartIntervalOffsetY="0" EndIntervalOffsetX="0" EndIntervalOffsetY="0" CreateRefDef="1" Invisible="0" RefDef="Matching=0\nOnDelete=3\nOnUpdate=3\n" Comments="" FKRefDefIndex_Obj_id="1866" Splitted="0" IsLinkedObject="0" IDLinkedModel="-1" Obj_id_Linked="-1" OrderPos="56" />
 </RELATIONS>
 <NOTES>
 <NOTE ID="1745" NoteName="Note_01" XPos="40" YPos="1100" NoteText="phpMediaDB\n$Id$\n" IsLinkedObject="0" IDLinkedModel="-1" Obj_id_Linked="-1" OrderPos="55" />



From nobody at sheep.berlios.de  Wed Apr 20 22:06:43 2005
From: nobody at sheep.berlios.de (bruf)
Date: Wed, 20 Apr 2005 22:06:43 +0200
Subject: [phpmediadb-cvs] phpmediadb-cvs/install create-tables.sql,1.6,1.7
Message-ID: <200504202006.j3KK6hm19062@bat.berlios.de>

Update of /cvsroot/phpmediadb/phpmediadb-cvs/install
In directory sheep:/tmp/cvs-serv2194/install

Modified Files:
	create-tables.sql 
Log Message:
* Added ItemLocation

Index: create-tables.sql
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/install/create-tables.sql,v
retrieving revision 1.6
retrieving revision 1.7
diff -u -d -r1.6 -r1.7
--- create-tables.sql	13 Apr 2005 11:42:33 -0000	1.6
+++ create-tables.sql	20 Apr 2005 20:06:41 -0000	1.7
@@ -10,9 +10,11 @@
 
 CREATE TABLE BinaryDatas (
   ItemPicturesID INTEGER UNSIGNED NOT NULL AUTO_INCREMENT,
+  ItemID INTEGER UNSIGNED NOT NULL,
   BinaryDataMimeType VARCHAR(255) NOT NULL,
   BinaryDataSize INTEGER UNSIGNED NOT NULL,
-  PRIMARY KEY(ItemPicturesID)
+  PRIMARY KEY(ItemPicturesID),
+  INDEX BinaryDatas_FKIndex1(ItemID)
 );
 
 CREATE TABLE Categories (
@@ -35,7 +37,6 @@
   MediaAgeRestrictionID INTEGER UNSIGNED,
   MediaCodecID INTEGER UNSIGNED,
   MediaFormatID INTEGER UNSIGNED,
-  ItemPicturesID INTEGER UNSIGNED,
   ItemTitle VARCHAR(255),
   ItemOriginalTitle VARCHAR(255) NOT NULL,
   ItemReleaseDate VARCHAR(255) NOT NULL,
@@ -47,9 +48,10 @@
   ItemIdentifier VARCHAR(255) NOT NULL,
   ItemTypeID INTEGER UNSIGNED NOT NULL,
   ItemPublisher VARCHAR(255) NOT NULL, 
+  ItemLocation VARCHAR(255) NOT NULL, 
+  ItemPictureURL VARCHAR(255) NOT NULL, 
   PRIMARY KEY(ItemID),
   INDEX Items_FKIndex1(ItemTypeID),
-  INDEX Items_FKIndex2(ItemPicturesID),
   INDEX Items_FKIndex3(MediaFormatID),
   INDEX Items_FKIndex4(MediaCodecID),
   INDEX Items_FKIndex5(MediaAgeRestrictionID)



From nobody at sheep.berlios.de  Wed Apr 20 22:07:34 2005
From: nobody at sheep.berlios.de (bruf)
Date: Wed, 20 Apr 2005 22:07:34 +0200
Subject: [phpmediadb-cvs] phpmediadb-cvs/_source/tier.business class.phpmediadb_business_agerestrictions.php,1.7,1.8
Message-ID: <200504202007.j3KK7Ym19071@bat.berlios.de>

Update of /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.business
In directory sheep:/tmp/cvs-serv2243/_source/tier.business

Modified Files:
	class.phpmediadb_business_agerestrictions.php 
Log Message:
* Fixed syntax mistake
* Added ItemLocation

Index: class.phpmediadb_business_agerestrictions.php
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.business/class.phpmediadb_business_agerestrictions.php,v
retrieving revision 1.7
retrieving revision 1.8
diff -u -d -r1.7 -r1.8
--- class.phpmediadb_business_agerestrictions.php	6 Apr 2005 13:51:02 -0000	1.7
+++ class.phpmediadb_business_agerestrictions.php	20 Apr 2005 20:07:29 -0000	1.8
@@ -148,13 +148,13 @@
 	 * @param integer $id ID of item
 	 * @return bool successstatus (true/false)
 	 */
-	public function remove( $id )
+	public function delete( $id )
 	{
 		/* init */
 		$returnValue = false;
 		
 		/* delegate */
-		$returnValue = $this->DATA->AGERESTRICTIONS->modify( $id );
+		$returnValue = $this->DATA->AGERESTRICTIONS->delete( $id );
 		
 		/* return data */
 		return $returnValue;



From nobody at sheep.berlios.de  Wed Apr 20 22:08:09 2005
From: nobody at sheep.berlios.de (bruf)
Date: Wed, 20 Apr 2005 22:08:09 +0200
Subject: [phpmediadb-cvs] phpmediadb-cvs/_source/tier.business class.phpmediadb_business_audios.php,1.9,1.10
Message-ID: <200504202008.j3KK89m19077@bat.berlios.de>

Update of /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.business
In directory sheep:/tmp/cvs-serv2273/_source/tier.business

Modified Files:
	class.phpmediadb_business_audios.php 
Log Message:
* Fixed syntax mistake
* Added ItemLocation
* Removed ItemPictures

Index: class.phpmediadb_business_audios.php
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.business/class.phpmediadb_business_audios.php,v
retrieving revision 1.9
retrieving revision 1.10
diff -u -d -r1.9 -r1.10
--- class.phpmediadb_business_audios.php	13 Apr 2005 11:48:11 -0000	1.9
+++ class.phpmediadb_business_audios.php	20 Apr 2005 20:08:00 -0000	1.10
@@ -197,27 +197,7 @@
 	
 //-----------------------------------------------------------------------------
 	/**
-	 * Removes one item from the database
-	 *
-	 * @access public
-	 * @param integer $id ID of item
-	 * @return bool successstatus (true/false)
-	 */
-	public function remove( $id )
-	{
-		/* init */
-		$returnValue = false;
-		
-		/* delegate */
-		$returnValue = $this->DATA->AUDIOS->modify( $id );
-		
-		/* return data */
-		return $returnValue;
-	}
-	
-//-----------------------------------------------------------------------------
-	/**
-	 * Removes one item from the database
+	 * Checks dataset
 	 *
 	 * @access public
 	 * @param integer $data Data of the item



From nobody at sheep.berlios.de  Wed Apr 20 22:08:49 2005
From: nobody at sheep.berlios.de (bruf)
Date: Wed, 20 Apr 2005 22:08:49 +0200
Subject: [phpmediadb-cvs] phpmediadb-cvs/_source/tier.business class.phpmediadb_business_categories.php,1.9,1.10
Message-ID: <200504202008.j3KK8nm19085@bat.berlios.de>

Update of /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.business
In directory sheep:/tmp/cvs-serv2335/_source/tier.business

Modified Files:
	class.phpmediadb_business_categories.php 
Log Message:
* Fixed syntax mistake


Index: class.phpmediadb_business_categories.php
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.business/class.phpmediadb_business_categories.php,v
retrieving revision 1.9
retrieving revision 1.10
diff -u -d -r1.9 -r1.10
--- class.phpmediadb_business_categories.php	13 Apr 2005 11:48:29 -0000	1.9
+++ class.phpmediadb_business_categories.php	20 Apr 2005 20:08:47 -0000	1.10
@@ -170,13 +170,13 @@
 	 * @param integer $id ID of item
 	 * @return bool successstatus (true/false)
 	 */
-	public function remove( $id )
+	public function delete( $id )
 	{
 		/* init */
 		$returnValue = false;
 		
 		/* delegate */
-		$returnValue = $this->DATA->CATEGORIES->modify( $id );
+		$returnValue = $this->DATA->CATEGORIES->delete( $id );
 		
 		/* return data */
 		return $returnValue;
@@ -184,7 +184,7 @@
 	
 //-----------------------------------------------------------------------------
 	/**
-	 * Removes one item from the database
+	 * Checks dataset
 	 *
 	 * @access public
 	 * @param integer $data Data of the item



From nobody at sheep.berlios.de  Wed Apr 20 22:09:33 2005
From: nobody at sheep.berlios.de (bruf)
Date: Wed, 20 Apr 2005 22:09:33 +0200
Subject: [phpmediadb-cvs] phpmediadb-cvs/_source/tier.business class.phpmediadb_business_formats.php,1.7,1.8
Message-ID: <200504202009.j3KK9Xm19116@bat.berlios.de>

Update of /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.business
In directory sheep:/tmp/cvs-serv2463/_source/tier.business

Modified Files:
	class.phpmediadb_business_formats.php 
Log Message:
* Fixed syntax mistake

Index: class.phpmediadb_business_formats.php
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.business/class.phpmediadb_business_formats.php,v
retrieving revision 1.7
retrieving revision 1.8
diff -u -d -r1.7 -r1.8
--- class.phpmediadb_business_formats.php	6 Apr 2005 13:51:32 -0000	1.7
+++ class.phpmediadb_business_formats.php	20 Apr 2005 20:09:31 -0000	1.8
@@ -168,13 +168,13 @@
 	 * @param integer $id ID of item
 	 * @return bool successstatus (true/false)
 	 */
-	public function remove( $id )
+	public function delete( $id )
 	{
 		/* init */
 		$returnValue = false;
 		
 		/* delegate */
-		$returnValue = $this->DATA->FORMATS->modify( $id );
+		$returnValue = $this->DATA->FORMATS->delete( $id );
 		
 		/* return data */
 		return $returnValue;



From nobody at sheep.berlios.de  Wed Apr 20 22:09:43 2005
From: nobody at sheep.berlios.de (bruf)
Date: Wed, 20 Apr 2005 22:09:43 +0200
Subject: [phpmediadb-cvs] phpmediadb-cvs/_source/tier.business class.phpmediadb_business_prints.php,1.6,1.7
Message-ID: <200504202009.j3KK9hm19120@bat.berlios.de>

Update of /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.business
In directory sheep:/tmp/cvs-serv2489/_source/tier.business

Modified Files:
	class.phpmediadb_business_prints.php 
Log Message:
* Fixed syntax mistake
* Added ItemLocation
* Removed ItemPictures

Index: class.phpmediadb_business_prints.php
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.business/class.phpmediadb_business_prints.php,v
retrieving revision 1.6
retrieving revision 1.7
diff -u -d -r1.6 -r1.7
--- class.phpmediadb_business_prints.php	13 Apr 2005 15:03:33 -0000	1.6
+++ class.phpmediadb_business_prints.php	20 Apr 2005 20:09:40 -0000	1.7
@@ -194,27 +194,7 @@
 		/* return data */
 		return $returnValue;
 	}
-	
-//-----------------------------------------------------------------------------
-	/**
-	 * Removes one item from the database
-	 *
-	 * @access public
-	 * @param integer $id ID of item
-	 * @return bool successstatus (true/false)
-	 */
-	public function remove( $id )
-	{
-		/* init */
-		$returnValue = false;
-		
-		/* delegate */
-		$returnValue = $this->DATA->PRINTS->modify( $id );
-		
-		/* return data */
-		return $returnValue;
-	}
-	
+
 //-----------------------------------------------------------------------------
 	/**
 	 * Removes one item from the database



From nobody at sheep.berlios.de  Wed Apr 20 22:09:52 2005
From: nobody at sheep.berlios.de (bruf)
Date: Wed, 20 Apr 2005 22:09:52 +0200
Subject: [phpmediadb-cvs] phpmediadb-cvs/_source/tier.business class.phpmediadb_business_videos.php,1.6,1.7
Message-ID: <200504202009.j3KK9qm19124@bat.berlios.de>

Update of /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.business
In directory sheep:/tmp/cvs-serv2515/_source/tier.business

Modified Files:
	class.phpmediadb_business_videos.php 
Log Message:
* Fixed syntax mistake
* Added ItemLocation
* Removed ItemPictures

Index: class.phpmediadb_business_videos.php
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.business/class.phpmediadb_business_videos.php,v
retrieving revision 1.6
retrieving revision 1.7
diff -u -d -r1.6 -r1.7
--- class.phpmediadb_business_videos.php	13 Apr 2005 15:03:33 -0000	1.6
+++ class.phpmediadb_business_videos.php	20 Apr 2005 20:09:50 -0000	1.7
@@ -200,26 +200,6 @@
 	 * Removes one item from the database
 	 *
 	 * @access public
-	 * @param integer $id ID of item
-	 * @return bool successstatus (true/false)
-	 */
-	public function remove( $id )
-	{
-		/* init */
-		$returnValue = false;
-		
-		/* delegate */
-		$returnValue = $this->DATA->VIDEOS->modify( $id );
-		
-		/* return data */
-		return $returnValue;
-	}
-	
-//-----------------------------------------------------------------------------
-	/**
-	 * Removes one item from the database
-	 *
-	 * @access public
 	 * @param integer $data Data of the item
 	 * @return bool successstatus (true/false)
 	 */



From nobody at sheep.berlios.de  Wed Apr 20 22:09:02 2005
From: nobody at sheep.berlios.de (bruf)
Date: Wed, 20 Apr 2005 22:09:02 +0200
Subject: [phpmediadb-cvs] phpmediadb-cvs/_source/tier.business class.phpmediadb_business_codecs.php,1.7,1.8
Message-ID: <200504202009.j3KK92m19091@bat.berlios.de>

Update of /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.business
In directory sheep:/tmp/cvs-serv2392/_source/tier.business

Modified Files:
	class.phpmediadb_business_codecs.php 
Log Message:
* Fixed syntax mistake

Index: class.phpmediadb_business_codecs.php
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.business/class.phpmediadb_business_codecs.php,v
retrieving revision 1.7
retrieving revision 1.8
diff -u -d -r1.7 -r1.8
--- class.phpmediadb_business_codecs.php	6 Apr 2005 13:51:20 -0000	1.7
+++ class.phpmediadb_business_codecs.php	20 Apr 2005 20:09:00 -0000	1.8
@@ -168,13 +168,13 @@
 	 * @param integer $id ID of item
 	 * @return bool successstatus (true/false)
 	 */
-	public function remove( $id )
+	public function delete( $id )
 	{
 		/* init */
 		$returnValue = false;
 		
 		/* delegate */
-		$returnValue = $this->DATA->CODECS->modify( $id );
+		$returnValue = $this->DATA->CODECS->delete( $id );
 		
 		/* return data */
 		return $returnValue;



From nobody at sheep.berlios.de  Wed Apr 20 22:10:12 2005
From: nobody at sheep.berlios.de (bruf)
Date: Wed, 20 Apr 2005 22:10:12 +0200
Subject: [phpmediadb-cvs] phpmediadb-cvs/_source/tier.configuration/templates body.home.tpl,1.2,1.3
Message-ID: <200504202010.j3KKACm19150@bat.berlios.de>

Update of /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.configuration/templates
In directory sheep:/tmp/cvs-serv2549/_source/tier.configuration/templates

Modified Files:
	body.home.tpl 
Log Message:
* Added ItemLocation
* Removed ItemPictures

Index: body.home.tpl
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.configuration/templates/body.home.tpl,v
retrieving revision 1.2
retrieving revision 1.3
diff -u -d -r1.2 -r1.3
--- body.home.tpl	8 Mar 2005 21:22:38 -0000	1.2
+++ body.home.tpl	20 Apr 2005 20:10:10 -0000	1.3
@@ -2,5 +2,5 @@
 	<h1>{$I18N.HOME_WELCOME|default:"%HOME_WELCOME%"}</h1>
 		<h2>{$I18N.PROJECT_SUBTITLE|default:"%PROJECT_SUBTITLE%"}</h2>
 
-	<img src="{$CONFIGURATION.ROOTPATH}_layout/images/phpmediadb.jpg" alt="phpMediaDB" />
+	<img src="{$CONFIGURATION.ROOTPATH}_layout/images/phpmediadb.png" alt="phpMediaDB" />
 </div>



From nobody at sheep.berlios.de  Wed Apr 20 22:10:33 2005
From: nobody at sheep.berlios.de (bruf)
Date: Wed, 20 Apr 2005 22:10:33 +0200
Subject: [phpmediadb-cvs] phpmediadb-cvs/_source/tier.configuration/templates body.item.audio.formular.tpl,1.9,1.10
Message-ID: <200504202010.j3KKAXm19166@bat.berlios.de>

Update of /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.configuration/templates
In directory sheep:/tmp/cvs-serv2592/_source/tier.configuration/templates

Modified Files:
	body.item.audio.formular.tpl 
Log Message:
* Added ItemLocation
* Removed ItemPictures

Index: body.item.audio.formular.tpl
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.configuration/templates/body.item.audio.formular.tpl,v
retrieving revision 1.9
retrieving revision 1.10
diff -u -d -r1.9 -r1.10
--- body.item.audio.formular.tpl	13 Apr 2005 15:04:27 -0000	1.9
+++ body.item.audio.formular.tpl	20 Apr 2005 20:10:31 -0000	1.10
@@ -31,6 +31,14 @@
 	</tr>
 
 	<tr>
+		<td>{$I18N.MEDIA_AUDIO_ITEM_LOCATION|default:"%MEDIA_AUDIO_ITEM_LOCATION%"}</td>
+		<td>
+			<input type="text" name="itemdata[itemlocation]" maxlength="{$INPUTSIZE.itemlocation|default:"255"}" value="{$ITEMDATA.itemlocation}" />
+			{if $INPUTERROR.flag.itemlocation eq "1" }<span class="phpmediadb-body-inputerror">{$I18N.ERROR_FLAG|default:"*"}</span>{/if}
+		</td>
+	</tr>
+	
+	<tr>
 		<td>{$I18N.MEDIA_AUDIO_ITEM_IDENTIFICATION|default:"%MEDIA_AUDIO_ITEM_IDENTIFICATION%"}</td>
 		<td>
 			<input type="text" name="itemdata[itemidentifier]" maxlength="{$INPUTSIZE.itemidentifier|default:"255"}" value="{$ITEMDATA.itemidentifier}" />
@@ -91,13 +99,22 @@
 			{if $INPUTERROR.flag.MediaFormatID eq "1" }<span class="phpmediadb-body-inputerror">{$I18N.ERROR_FLAG|default:"*"}</span>{/if}
 		</td>
 	</tr>
-
+<!--
 	<tr>
 		<td>{$I18N.MEDIA_AUDIO_ITEM_IMAGE|default:"%MEDIA_AUDIO_ITEM_IMAGE%"}</td>
 		<td>
 			<img src="getbinary.php?itemid={$ITEMDATA.ID}" /><br />
 			<input type="file" name="itemdata[picturedata]" />
 			{if $ITEMDATA.itemid gt '0'}<br /><input type="checkbox" name="itemdata[picturedelete]" value="1" />{$I18N.MEDIA_AUDIO_IMAGEDELETE|default:"%MEDIA_AUDIO_IMAGEDELETE%"}{/if}
+		</td>
+	</tr>
+-->
+
+	<tr>
+		<td>{$I18N.MEDIA_AUDIO_ITEM_IMAGEURL|default:"%MEDIA_AUDIO_ITEM_IMAGEURL%"}</td>
+		<td>
+			<input type="text" name="itemdata[itempictureurl]" maxlength="{$INPUTSIZE.itempictureurl|default:"255"}" value="{$ITEMDATA.itempictureurl}" />
+			{if $INPUTERROR.flag.itempictureurl eq "1" }<span class="phpmediadb-body-inputerror">{$I18N.ERROR_FLAG|default:"*"}</span>{/if}
 		</td>
 	</tr>
 



From nobody at sheep.berlios.de  Wed Apr 20 22:10:46 2005
From: nobody at sheep.berlios.de (bruf)
Date: Wed, 20 Apr 2005 22:10:46 +0200
Subject: [phpmediadb-cvs] phpmediadb-cvs/_source/tier.configuration/templates body.item.print.formular.tpl,1.3,1.4
Message-ID: <200504202010.j3KKAkm19170@bat.berlios.de>

Update of /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.configuration/templates
In directory sheep:/tmp/cvs-serv2620/_source/tier.configuration/templates

Modified Files:
	body.item.print.formular.tpl 
Log Message:
* Added ItemLocation
* Removed ItemPictures

Index: body.item.print.formular.tpl
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.configuration/templates/body.item.print.formular.tpl,v
retrieving revision 1.3
retrieving revision 1.4
diff -u -d -r1.3 -r1.4
--- body.item.print.formular.tpl	13 Apr 2005 15:04:53 -0000	1.3
+++ body.item.print.formular.tpl	20 Apr 2005 20:10:43 -0000	1.4
@@ -31,6 +31,14 @@
 	</tr>
 
 	<tr>
+		<td>{$I18N.MEDIA_PRINT_ITEM_LOCATION|default:"%MEDIA_PRINT_ITEM_LOCATION%"}</td>
+		<td>
+			<input type="text" name="itemdata[itemlocation]" maxlength="{$INPUTSIZE.itemlocation|default:"255"}" value="{$ITEMDATA.itemlocation}" />
+			{if $INPUTERROR.flag.itemlocation eq "1" }<span class="phpmediadb-body-inputerror">{$I18N.ERROR_FLAG|default:"*"}</span>{/if}
+		</td>
+	</tr>
+	
+	<tr>
 		<td>{$I18N.MEDIA_PRINT_ITEM_IDENTIFICATION|default:"%MEDIA_PRINT_ITEM_IDENTIFICATION%"}</td>
 		<td>
 			<input type="text" name="itemdata[itemidentifier]" maxlength="{$INPUTSIZE.itemidentifier|default:"255"}" value="{$ITEMDATA.itemidentifier}" />
@@ -92,6 +100,7 @@
 		</td>
 	</tr>
 
+<!--
 	<tr>
 		<td>{$I18N.MEDIA_PRINT_ITEM_IMAGE|default:"%MEDIA_PRINT_ITEM_IMAGE%"}</td>
 		<td>
@@ -100,7 +109,16 @@
 			{if $ITEMDATA.itemid gt '0'}<br /><input type="checkbox" name="itemdata[picturedelete]" value="1" />{$I18N.MEDIA_PRINT_IMAGEDELETE|default:"%MEDIA_PRINT_IMAGEDELETE%"}{/if}
 		</td>
 	</tr>
+-->
 
+	<tr>
+		<td>{$I18N.MEDIA_PRINT_ITEM_IMAGEURL|default:"%MEDIA_PRINT_ITEM_IMAGEURL%"}</td>
+		<td>
+			<input type="text" name="itemdata[itempictureurl]" maxlength="{$INPUTSIZE.itempictureurl|default:"255"}" value="{$ITEMDATA.itempictureurl}" />
+			{if $INPUTERROR.flag.itempictureurl eq "1" }<span class="phpmediadb-body-inputerror">{$I18N.ERROR_FLAG|default:"*"}</span>{/if}
+		</td>
+	</tr>
+	
 	<tr>
 		<td>{$I18N.MEDIA_PRINT_ITEM_PUBLISHER|default:"%MEDIA_PRINT_ITEM_PUBLISHER%"}</td>
 		<td>



From nobody at sheep.berlios.de  Wed Apr 20 22:10:58 2005
From: nobody at sheep.berlios.de (bruf)
Date: Wed, 20 Apr 2005 22:10:58 +0200
Subject: [phpmediadb-cvs] phpmediadb-cvs/_source/tier.configuration/templates body.item.video.formular.tpl,1.4,1.5
Message-ID: <200504202010.j3KKAwm19174@bat.berlios.de>

Update of /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.configuration/templates
In directory sheep:/tmp/cvs-serv2666/_source/tier.configuration/templates

Modified Files:
	body.item.video.formular.tpl 
Log Message:
* Added ItemLocation
* Removed ItemPictures

Index: body.item.video.formular.tpl
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.configuration/templates/body.item.video.formular.tpl,v
retrieving revision 1.4
retrieving revision 1.5
diff -u -d -r1.4 -r1.5
--- body.item.video.formular.tpl	13 Apr 2005 15:04:53 -0000	1.4
+++ body.item.video.formular.tpl	20 Apr 2005 20:10:55 -0000	1.5
@@ -29,7 +29,15 @@
 			{if $INPUTERROR.flag.itemmedianame eq "1" }<span class="phpmediadb-body-inputerror">{$I18N.ERROR_FLAG|default:"*"}</span>{/if}
 		</td>
 	</tr>
-
+	
+	<tr>
+		<td>{$I18N.MEDIA_VIDEO_ITEM_LOCATION|default:"%MEDIA_VIDEO_ITEM_LOCATION%"}</td>
+		<td>
+			<input type="text" name="itemdata[itemlocation]" maxlength="{$INPUTSIZE.itemlocation|default:"255"}" value="{$ITEMDATA.itemlocation}" />
+			{if $INPUTERROR.flag.itemlocation eq "1" }<span class="phpmediadb-body-inputerror">{$I18N.ERROR_FLAG|default:"*"}</span>{/if}
+		</td>
+	</tr>
+	
 	<tr>
 		<td>{$I18N.MEDIA_VIDEO_ITEM_IDENTIFICATION|default:"%MEDIA_VIDEO_ITEM_IDENTIFICATION%"}</td>
 		<td>
@@ -92,12 +100,21 @@
 		</td>
 	</tr>
 
+<!--
 	<tr>
 		<td>{$I18N.MEDIA_VIDEO_ITEM_IMAGE|default:"%MEDIA_VIDEO_ITEM_IMAGE%"}</td>
 		<td>
 			<img src="getbinary.php?itemid={$ITEMDATA.ID}" /><br />
 			<input type="file" name="itemdata[picturedata]" />
 			{if $ITEMDATA.itemid gt '0'}<br /><input type="checkbox" name="itemdata[picturedelete]" value="1" />{$I18N.MEDIA_VIDEO_IMAGEDELETE|default:"%MEDIA_VIDEO_IMAGEDELETE%"}{/if}
+		</td>
+	</tr>
+-->
+	<tr>
+		<td>{$I18N.MEDIA_VIDEO_ITEM_IMAGEURL|default:"%MEDIA_VIDEO_ITEM_IMAGEURL%"}</td>
+		<td>
+			<input type="text" name="itemdata[itempictureurl]" maxlength="{$INPUTSIZE.itempictureurl|default:"255"}" value="{$ITEMDATA.itempictureurl}" />
+			{if $INPUTERROR.flag.itempictureurl eq "1" }<span class="phpmediadb-body-inputerror">{$I18N.ERROR_FLAG|default:"*"}</span>{/if}
 		</td>
 	</tr>
 



From nobody at sheep.berlios.de  Wed Apr 20 22:12:29 2005
From: nobody at sheep.berlios.de (bruf)
Date: Wed, 20 Apr 2005 22:12:29 +0200
Subject: [phpmediadb-cvs] phpmediadb-cvs/_source/tier.business class.phpmediadb_business.php,1.11,1.12
Message-ID: <200504202012.j3KKCTm19184@bat.berlios.de>

Update of /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.business
In directory sheep:/tmp/cvs-serv2718/_source/tier.business

Modified Files:
	class.phpmediadb_business.php 
Log Message:
* Added class phpmediadb_business_binarydatas

Index: class.phpmediadb_business.php
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.business/class.phpmediadb_business.php,v
retrieving revision 1.11
retrieving revision 1.12
diff -u -d -r1.11 -r1.12
--- class.phpmediadb_business.php	13 Apr 2005 15:01:37 -0000	1.11
+++ class.phpmediadb_business.php	20 Apr 2005 20:12:27 -0000	1.12
@@ -44,6 +44,15 @@
 	public $AUDIOS = null;
 	
 	/**
+	 * Reference to class phpmediadb_busness_binarydatas
+	 *
+	 * @access public
+	 * @see phpmediadb_busness_binarydatas
+	 * @var phpmediadb_busness_binarydatas
+	 */
+	public $BINARYDATAS = null;
+	
+	/**
 	 * Reference to class phpmediadb_business_categories
 	 *
 	 * @access public
@@ -71,11 +80,11 @@
 	public $FORMATS = null;
 	
 	/**
-	 * Reference to class phpmediadb_data_items
+	 * Reference to class phpmediadb_business_items
 	 *
 	 * @access public
-	 * @see phpmediadb_data_formats
-	 * @var phpmediadb_data_formats
+	 * @see phpmediadb_business_items
+	 * @var phpmediadb_business_items
 	 */
 	public $ITEMS = null;
 	
@@ -137,6 +146,7 @@
 		/* assign childs */
 		$this->AGERESTRICTIONS	= new phpmediadb_business_agerestrictions( $this );
 		$this->AUDIOS			= new phpmediadb_business_audios( $this );
+		$this->BINARYDATAS		= new phpmediadb_business_binarydatas( $this );
 		$this->CATEGORIES		= new phpmediadb_business_categories( $this );
 		$this->CODECS			= new phpmediadb_business_codecs( $this );
 		$this->FORMATS			= new phpmediadb_business_formats( $this );



From nobody at sheep.berlios.de  Wed Apr 20 22:13:07 2005
From: nobody at sheep.berlios.de (bruf)
Date: Wed, 20 Apr 2005 22:13:07 +0200
Subject: [phpmediadb-cvs] phpmediadb-cvs/_source/tier.configuration config.business.php,1.9,1.10
Message-ID: <200504202013.j3KKD7m19193@bat.berlios.de>

Update of /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.configuration
In directory sheep:/tmp/cvs-serv2767/_source/tier.configuration

Modified Files:
	config.business.php 
Log Message:
* Added inspector configuration for print and video media

Index: config.business.php
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.configuration/config.business.php,v
retrieving revision 1.9
retrieving revision 1.10
diff -u -d -r1.9 -r1.10
--- config.business.php	13 Apr 2005 11:56:52 -0000	1.9
+++ config.business.php	20 Apr 2005 20:13:05 -0000	1.10
@@ -16,9 +16,12 @@
  * Itemsepecifications (regex etc.)
  */ 
 
+//-- ITEM AUDIO
+
 $phpMediaDbConfig['BUSINESS']['input-regex'][PHPMEDIADB_ITEM_AUDIO]['itemtitle'] 				= '^.{1,255}$';
 $phpMediaDbConfig['BUSINESS']['input-regex'][PHPMEDIADB_ITEM_AUDIO]['itemoriginaltitle']		= '^(.{1,255})?$';
 $phpMediaDbConfig['BUSINESS']['input-regex'][PHPMEDIADB_ITEM_AUDIO]['itemmedianame']			= '^(.{1,255})?$';
+$phpMediaDbConfig['BUSINESS']['input-regex'][PHPMEDIADB_ITEM_AUDIO]['itemlocation']				= '^(.{1,255})?$';
 $phpMediaDbConfig['BUSINESS']['input-regex'][PHPMEDIADB_ITEM_AUDIO]['itemidentification']		= '^(.{1,255})?$';
 $phpMediaDbConfig['BUSINESS']['input-regex'][PHPMEDIADB_ITEM_AUDIO]['itemreleasedate']				= '^([[:digit:]]{4})?$';
 $phpMediaDbConfig['BUSINESS']['input-regex'][PHPMEDIADB_ITEM_AUDIO]['categories']				= '^([[:digit:]]+)?$';
@@ -32,11 +35,65 @@
 $phpMediaDbConfig['BUSINESS']['input-size'][PHPMEDIADB_ITEM_AUDIO]['itemtitle'] 				= 255;
 $phpMediaDbConfig['BUSINESS']['input-size'][PHPMEDIADB_ITEM_AUDIO]['itemoriginaltitle']			= 255;
 $phpMediaDbConfig['BUSINESS']['input-size'][PHPMEDIADB_ITEM_AUDIO]['itemmedianame']				= 255;
+$phpMediaDbConfig['BUSINESS']['input-size'][PHPMEDIADB_ITEM_AUDIO]['itemlocation']				= 255;
 $phpMediaDbConfig['BUSINESS']['input-size'][PHPMEDIADB_ITEM_AUDIO]['itemidentification']		= 255;
 $phpMediaDbConfig['BUSINESS']['input-size'][PHPMEDIADB_ITEM_AUDIO]['itemreleasedate']			= 4;
 $phpMediaDbConfig['BUSINESS']['input-size'][PHPMEDIADB_ITEM_AUDIO]['itemmediasize']				= 255;
 $phpMediaDbConfig['BUSINESS']['input-size'][PHPMEDIADB_ITEM_AUDIO]['itempublisher']				= 255;
 $phpMediaDbConfig['BUSINESS']['input-size'][PHPMEDIADB_ITEM_AUDIO]['itemquantity']				= 255;
+
+//-- ITEM VIDEO
+
+$phpMediaDbConfig['BUSINESS']['input-regex'][PHPMEDIADB_ITEM_VIDEO]['itemtitle'] 				= '^.{1,255}$';
+$phpMediaDbConfig['BUSINESS']['input-regex'][PHPMEDIADB_ITEM_VIDEO]['itemoriginaltitle']		= '^(.{1,255})?$';
+$phpMediaDbConfig['BUSINESS']['input-regex'][PHPMEDIADB_ITEM_VIDEO]['itemmedianame']			= '^(.{1,255})?$';
+$phpMediaDbConfig['BUSINESS']['input-regex'][PHPMEDIADB_ITEM_VIDEO]['itemlocation']				= '^(.{1,255})?$';
+$phpMediaDbConfig['BUSINESS']['input-regex'][PHPMEDIADB_ITEM_VIDEO]['itemidentification']		= '^(.{1,255})?$';
+$phpMediaDbConfig['BUSINESS']['input-regex'][PHPMEDIADB_ITEM_VIDEO]['itemreleasedate']				= '^([[:digit:]]{4})?$';
+$phpMediaDbConfig['BUSINESS']['input-regex'][PHPMEDIADB_ITEM_VIDEO]['categories']				= '^([[:digit:]]+)?$';
+$phpMediaDbConfig['BUSINESS']['input-regex'][PHPMEDIADB_ITEM_VIDEO]['itemmediasize']			= '^(([[:digit:]]+([[:punct:]]{1}[[:digit:]]+)))?$';
+$phpMediaDbConfig['BUSINESS']['input-regex'][PHPMEDIADB_ITEM_VIDEO]['mediaformatid']			= '^([[:digit:]]+)?$';
+$phpMediaDbConfig['BUSINESS']['input-regex'][PHPMEDIADB_ITEM_VIDEO]['itempublisher']			= '^(.{1,255})?$';
+$phpMediaDbConfig['BUSINESS']['input-regex'][PHPMEDIADB_ITEM_VIDEO]['mediaagerestrictionid']	= '^([[:digit:]]+)?$';
+$phpMediaDbConfig['BUSINESS']['input-regex'][PHPMEDIADB_ITEM_VIDEO]['mediacodecid']				= '^([[:digit:]]+)?$';
+$phpMediaDbConfig['BUSINESS']['input-regex'][PHPMEDIADB_ITEM_VIDEO]['itemquantity']				= '^(.{1,255})?$';
+
+$phpMediaDbConfig['BUSINESS']['input-size'][PHPMEDIADB_ITEM_VIDEO]['itemtitle'] 				= 255;
+$phpMediaDbConfig['BUSINESS']['input-size'][PHPMEDIADB_ITEM_VIDEO]['itemoriginaltitle']			= 255;
+$phpMediaDbConfig['BUSINESS']['input-size'][PHPMEDIADB_ITEM_VIDEO]['itemmedianame']				= 255;
+$phpMediaDbConfig['BUSINESS']['input-size'][PHPMEDIADB_ITEM_VIDEO]['itemlocation']				= 255;
+$phpMediaDbConfig['BUSINESS']['input-size'][PHPMEDIADB_ITEM_VIDEO]['itemidentification']		= 255;
+$phpMediaDbConfig['BUSINESS']['input-size'][PHPMEDIADB_ITEM_VIDEO]['itemreleasedate']			= 4;
+$phpMediaDbConfig['BUSINESS']['input-size'][PHPMEDIADB_ITEM_VIDEO]['itemmediasize']				= 255;
+$phpMediaDbConfig['BUSINESS']['input-size'][PHPMEDIADB_ITEM_VIDEO]['itempublisher']				= 255;
+$phpMediaDbConfig['BUSINESS']['input-size'][PHPMEDIADB_ITEM_VIDEO]['itemquantity']				= 255;
+
+//-- ITEM PRINT
+
+$phpMediaDbConfig['BUSINESS']['input-regex'][PHPMEDIADB_ITEM_PRINT]['itemtitle'] 				= '^.{1,255}$';
+$phpMediaDbConfig['BUSINESS']['input-regex'][PHPMEDIADB_ITEM_PRINT]['itemoriginaltitle']		= '^(.{1,255})?$';
+$phpMediaDbConfig['BUSINESS']['input-regex'][PHPMEDIADB_ITEM_PRINT]['itemmedianame']			= '^(.{1,255})?$';
+$phpMediaDbConfig['BUSINESS']['input-regex'][PHPMEDIADB_ITEM_PRINT]['itemlocation']				= '^(.{1,255})?$';
+$phpMediaDbConfig['BUSINESS']['input-regex'][PHPMEDIADB_ITEM_PRINT]['itemidentification']		= '^(.{1,255})?$';
+$phpMediaDbConfig['BUSINESS']['input-regex'][PHPMEDIADB_ITEM_PRINT]['itemreleasedate']				= '^([[:digit:]]{4})?$';
+$phpMediaDbConfig['BUSINESS']['input-regex'][PHPMEDIADB_ITEM_PRINT]['categories']				= '^([[:digit:]]+)?$';
+$phpMediaDbConfig['BUSINESS']['input-regex'][PHPMEDIADB_ITEM_PRINT]['itemmediasize']			= '^(([[:digit:]]+([[:punct:]]{1}[[:digit:]]+)))?$';
+$phpMediaDbConfig['BUSINESS']['input-regex'][PHPMEDIADB_ITEM_PRINT]['mediaformatid']			= '^([[:digit:]]+)?$';
+$phpMediaDbConfig['BUSINESS']['input-regex'][PHPMEDIADB_ITEM_PRINT]['itempublisher']			= '^(.{1,255})?$';
+$phpMediaDbConfig['BUSINESS']['input-regex'][PHPMEDIADB_ITEM_PRINT]['mediaagerestrictionid']	= '^([[:digit:]]+)?$';
+$phpMediaDbConfig['BUSINESS']['input-regex'][PHPMEDIADB_ITEM_PRINT]['mediacodecid']				= '^([[:digit:]]+)?$';
+$phpMediaDbConfig['BUSINESS']['input-regex'][PHPMEDIADB_ITEM_PRINT]['itemquantity']				= '^(.{1,255})?$';
+
+$phpMediaDbConfig['BUSINESS']['input-size'][PHPMEDIADB_ITEM_PRINT]['itemtitle'] 				= 255;
+$phpMediaDbConfig['BUSINESS']['input-size'][PHPMEDIADB_ITEM_PRINT]['itemoriginaltitle']			= 255;
+$phpMediaDbConfig['BUSINESS']['input-size'][PHPMEDIADB_ITEM_PRINT]['itemmedianame']				= 255;
+$phpMediaDbConfig['BUSINESS']['input-size'][PHPMEDIADB_ITEM_PRINT]['itemlocation']				= 255;
+$phpMediaDbConfig['BUSINESS']['input-size'][PHPMEDIADB_ITEM_PRINT]['itemidentification']		= 255;
+$phpMediaDbConfig['BUSINESS']['input-size'][PHPMEDIADB_ITEM_PRINT]['itemreleasedate']			= 4;
+$phpMediaDbConfig['BUSINESS']['input-size'][PHPMEDIADB_ITEM_PRINT]['itemmediasize']				= 255;
+$phpMediaDbConfig['BUSINESS']['input-size'][PHPMEDIADB_ITEM_PRINT]['itempublisher']				= 255;
+$phpMediaDbConfig['BUSINESS']['input-size'][PHPMEDIADB_ITEM_PRINT]['itemquantity']				= 255;
+
 
 //--- EOF --- EOF --- EOF --- EOF --- EOF --- EOF --- EOF --- EOF --- EOF ---
 ?>



From nobody at sheep.berlios.de  Wed Apr 20 22:13:40 2005
From: nobody at sheep.berlios.de (bruf)
Date: Wed, 20 Apr 2005 22:13:40 +0200
Subject: [phpmediadb-cvs] phpmediadb-cvs/_source/tier.configuration config.presentation.php,1.7,1.8
Message-ID: <200504202013.j3KKDem19201@bat.berlios.de>

Update of /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.configuration
In directory sheep:/tmp/cvs-serv2791/_source/tier.configuration

Modified Files:
	config.presentation.php 
Log Message:
* Fixed syntax mistake

Index: config.presentation.php
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.configuration/config.presentation.php,v
retrieving revision 1.7
retrieving revision 1.8
diff -u -d -r1.7 -r1.8
--- config.presentation.php	16 Apr 2005 16:53:37 -0000	1.7
+++ config.presentation.php	20 Apr 2005 20:13:38 -0000	1.8
@@ -35,9 +35,9 @@
   * i18n - Configuration
   */
 $phpMediaDbConfig['PRESENTATION']['i18n']['defaultLanguage']	= 'de';
-$phpMediaDbConfig['PRESENTATION']['i18n']['forcedLanguage']		= true;
+$phpMediaDbConfig['PRESENTATION']['i18n']['forcedLanguage']		= false;
 
 
 
 //--- EOF --- EOF --- EOF --- EOF --- EOF --- EOF --- EOF --- EOF --- EOF ---
-?>
\ No newline at end of file
+?>



From nobody at sheep.berlios.de  Wed Apr 20 22:14:33 2005
From: nobody at sheep.berlios.de (bruf)
Date: Wed, 20 Apr 2005 22:14:33 +0200
Subject: [phpmediadb-cvs] phpmediadb-cvs/_source/tier.data class.phpmediadb_data_audios.php,1.14,1.15
Message-ID: <200504202014.j3KKEXm19214@bat.berlios.de>

Update of /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.data
In directory sheep:/tmp/cvs-serv2848/_source/tier.data

Modified Files:
	class.phpmediadb_data_audios.php 
Log Message:
* Fixed syntax mistake
* Added ItemLocation
* Removed ItemPictures

Index: class.phpmediadb_data_audios.php
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.data/class.phpmediadb_data_audios.php,v
retrieving revision 1.14
retrieving revision 1.15
diff -u -d -r1.14 -r1.15
--- class.phpmediadb_data_audios.php	13 Apr 2005 11:52:22 -0000	1.14
+++ class.phpmediadb_data_audios.php	20 Apr 2005 20:14:30 -0000	1.15
@@ -74,14 +74,13 @@
 		try
 		{
 			$conn = $this->DATA->SQL->getConnection();
-			$stmt = $conn->prepareStatement(	'SELECT Items.*, AudioDatas.*, ItemTypes.*, MediaCodecs.MediaCodecName, MediaFormats.MediaFormatName, MediaAgeRestrictions.MediaAgeRestriction ,BinaryDatas.ItemPicturesID
+			$stmt = $conn->prepareStatement(	'SELECT Items.*, AudioDatas.*, ItemTypes.*, MediaCodecs.MediaCodecName, MediaFormats.MediaFormatName, MediaAgeRestrictions.MediaAgeRestriction
 													FROM Items
 													LEFT JOIN AudioDatas ON AudioDatas.ItemID=Items.ItemID
 													LEFT JOIN ItemTypes ON ItemTypes.ItemTypeID=Items.ItemTypeID
 													LEFT JOIN MediaCodecs ON MediaCodecs.MediaCodecID=Items.MediaCodecID
 													LEFT JOIN MediaFormats ON MediaFormats.MediaFormatID=Items.MediaFormatID
 													LEFT JOIN MediaAgeRestrictions ON MediaAgeRestrictions.MediaAgeRestrictionID=Items.MediaAgeRestrictionID
-													LEFT JOIN BinaryDatas ON  BinaryDatas.ItemPicturesID=Items.ItemPicturesID
 													WHERE Items.ItemID = ?' );
 			$stmt->setString( 1, $id );
 			$rs = $stmt->executeQuery();
@@ -108,14 +107,13 @@
 		try
 		{
 			$conn = $this->DATA->SQL->getConnection();
-			$stmt = $conn->prepareStatement(	'SELECT Items.*, AudioDatas.*, ItemTypes.*, MediaCodecs.MediaCodecName, MediaFormats.MediaFormatName, MediaAgeRestrictions.MediaAgeRestriction ,BinaryDatas.ItemPicturesID
+			$stmt = $conn->prepareStatement(	'SELECT Items.*, AudioDatas.*, ItemTypes.*, MediaCodecs.MediaCodecName, MediaFormats.MediaFormatName, MediaAgeRestrictions.MediaAgeRestriction
 													FROM Items
 													LEFT JOIN AudioDatas ON AudioDatas.ItemID=Items.ItemID
 													LEFT JOIN ItemTypes ON ItemTypes.ItemTypeID=Items.ItemTypeID
 													LEFT JOIN MediaCodecs ON MediaCodecs.MediaCodecID=Items.MediaCodecID
 													LEFT JOIN MediaFormats ON MediaFormats.MediaFormatID=Items.MediaFormatID
 													LEFT JOIN MediaAgeRestrictions ON MediaAgeRestrictions.MediaAgeRestrictionID=Items.MediaAgeRestrictionID
-													LEFT JOIN BinaryDatas ON  BinaryDatas.ItemPicturesID=Items.ItemPicturesID
 													WHERE Items.ItemTypeID = ?' );
 			$stmt->setString( 1, PHPMEDIADB_ITEM_AUDIO );
 			$rs = $stmt->executeQuery();
@@ -140,33 +138,29 @@
 	 */
 	public function create( $data )
 	{
-		
-		/*
-		  INDEX Items_FKIndex3(MediaFormatID),
-  INDEX Items_FKIndex4(MediaCodecID),
-  INDEX Items_FKIndex5(MediaAgeRestrictionID)
-		*/
 		try
 		{
 			$conn = $this->DATA->SQL->getConnection();
 			$this->DATA->SQL->openTransaction( $conn );
 			$stmt = $conn->prepareStatement(	'INSERT INTO Items
-												( ItemTitle, ItemOriginalTitle, ItemReleaseDate, ItemMediaName, ItemCreationDate,
-												ItemModificationDate, ItemComment, ItemQuantity, ItemIdentifier, ItemTypeID,
+												( ItemTitle, ItemOriginalTitle, ItemReleaseDate, ItemMediaName, ItemLocation, ItemCreationDate,
+												ItemModificationDate, ItemPictureURL, ItemComment, ItemQuantity, ItemIdentifier, ItemTypeID,
 												ItemPublisher, MediaCodecID,MediaFormatID,MediaAgeRestrictionID )
-												VALUES( ?, ?, ?, ?, now(), now(), ?, ?, ?, ?, ?, ?, ?, ? )' );
+												VALUES( ?, ?, ?, ?, ?, now(), now(), ?, ?, ?, ?, ?, ?, ?, ?, ? )' );
 			$stmt->setString( 1, $data['itemtitle'] );
 			$stmt->setString( 2, $data['itemoriginaltitle'] );
 			$stmt->setString( 3, $data['itemreleasedate'] );
 			$stmt->setString( 4, $data['itemmedianame'] );
-			$stmt->setString( 5, $data['itemcomment'] );
-			$stmt->setString( 6, $data['itemquantity'] );
-			$stmt->setString( 7, $data['itemidentifier'] );
-			$stmt->setString( 8, PHPMEDIADB_ITEM_AUDIO );
-			$stmt->setString( 9, $data['itempublisher'] );
-			$stmt->setString( 10, $data['mediacodecid'] );
-			$stmt->setString( 11, $data['mediaformatid'] );
-			$stmt->setString( 12, $data['mediaagerestrictionid'] );
+			$stmt->setString( 5, $data['itemlocation'] );
+			$stmt->setString( 6, $data['itempictureurl'] );
+			$stmt->setString( 7, $data['itemcomment'] );
+			$stmt->setString( 8, $data['itemquantity'] );
+			$stmt->setString( 9, $data['itemidentifier'] );
+			$stmt->setString( 10, PHPMEDIADB_ITEM_AUDIO );
+			$stmt->setString( 11, $data['itempublisher'] );
+			$stmt->setString( 12, $data['mediacodecid'] );
+			$stmt->setString( 13, $data['mediaformatid'] );
+			$stmt->setString( 14, $data['mediaagerestrictionid'] );
 			$stmt->executeUpdate();
 		
 			$id = $this->DATA->SQL->getLastInsert( $conn );
@@ -209,7 +203,9 @@
 													Items.ItemOriginalTitle = ?,
 													Items.ItemReleaseDate = ?,
 													Items.ItemMediaName = ?,
+													Items.ItemLocation = ?,
 													Items.ItemModificationDate = now(),
+													Items.ItemPictureURL = ?,
 													Items.ItemComment = ?,
 													Items.ItemQuantity = ?,
 													Items.ItemIdentifier = ?,
@@ -222,14 +218,16 @@
 			$stmt->setString( 2, $data['itemoriginaltitle'] );
 			$stmt->setString( 3, $data['itemreleasedate'] );
 			$stmt->setString( 4, $data['itemmedianame'] );
-			$stmt->setString( 5, $data['itemcomment'] );
-			$stmt->setString( 6, $data['itemquantity'] );
-			$stmt->setString( 7, $data['itemidentifier'] );
-			$stmt->setString( 8, $data['mediacodecid'] );
-			$stmt->setString( 9, $data['mediaformatid'] );
-			$stmt->setString( 10, $data['mediaagerestrictionid'] );
-			$stmt->setString( 11, $data['itempublisher'] );
-			$stmt->setString( 12, $id );
+			$stmt->setString( 5, $data['itemlocation'] );
+			$stmt->setString( 6, $data['itemcomment'] );
+			$stmt->setString( 7, $data['itempictureurl'] );
+			$stmt->setString( 8, $data['itemquantity'] );
+			$stmt->setString( 9, $data['itemidentifier'] );
+			$stmt->setString( 10, $data['mediacodecid'] );
+			$stmt->setString( 11, $data['mediaformatid'] );
+			$stmt->setString( 12, $data['mediaagerestrictionid'] );
+			$stmt->setString( 13, $data['itempublisher'] );
+			$stmt->setString( 14, $id );
 			$stmt->executeUpdate();
 			$this->DATA->SQL->commitTransaction( $conn );
 		}
@@ -260,11 +258,11 @@
 		{
 			$conn = $this->DATA->SQL->getConnection();
 			$this->DATA->SQL->openTransaction( $conn );
-			$stmt = $conn->prepareStatement(	'DELETE AudioDatas, Items, BinaryDatas, Categories_has_Items
+			$stmt = $conn->prepareStatement(	'DELETE VideoDatas, Items, BinaryDatas, Categories_has_Items
 													FROM Items
-													LEFT JOIN AudioDatas ON AudioDatas.ItemID=Items.ItemID
+													LEFT JOIN VideoDatas ON VideoDatas.ItemID=Items.ItemID
 													LEFT JOIN Categories_has_Items ON Categories_has_Items.ItemID=Items.ItemID
-													LEFT JOIN BinaryDatas ON  BinaryDatas.ItemPicturesID=Items.ItemPicturesID
+													LEFT JOIN BinaryDatas ON  BinaryDatas.ItemID=Items.ItemID
 													WHERE Items.ItemID = ?' );
 			$stmt->setString( 1, $id );
 			$rs = $stmt->executeUpdate();



From nobody at sheep.berlios.de  Wed Apr 20 22:15:01 2005
From: nobody at sheep.berlios.de (bruf)
Date: Wed, 20 Apr 2005 22:15:01 +0200
Subject: [phpmediadb-cvs] phpmediadb-cvs/_source/tier.data class.phpmediadb_data_prints.php,1.15,1.16
Message-ID: <200504202015.j3KKF1m19224@bat.berlios.de>

Update of /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.data
In directory sheep:/tmp/cvs-serv2901/_source/tier.data

Modified Files:
	class.phpmediadb_data_prints.php 
Log Message:
* Fixed syntax mistake
* Added ItemLocation
* Removed ItemPictures

Index: class.phpmediadb_data_prints.php
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.data/class.phpmediadb_data_prints.php,v
retrieving revision 1.15
retrieving revision 1.16
diff -u -d -r1.15 -r1.16
--- class.phpmediadb_data_prints.php	13 Apr 2005 14:58:19 -0000	1.15
+++ class.phpmediadb_data_prints.php	20 Apr 2005 20:14:58 -0000	1.16
@@ -73,13 +73,12 @@
 		try
 		{
 			$conn = $this->DATA->SQL->getConnection();
-			$stmt = $conn->prepareStatement(	'SELECT Items.*, ItemTypes.*, MediaCodecs.*, MediaFormats.*, MediaAgeRestrictions.* ,BinaryDatas.ItemPicturesID
+			$stmt = $conn->prepareStatement(	'SELECT Items.*, ItemTypes.*, MediaCodecs.*, MediaFormats.*, MediaAgeRestrictions.*
 													FROM Items
 													LEFT JOIN ItemTypes ON ItemTypes.ItemTypeID=Items.ItemTypeID
 													LEFT JOIN MediaCodecs ON MediaCodecs.MediaCodecID=Items.MediaCodecID
 													LEFT JOIN MediaFormats ON MediaFormats.MediaFormatID=Items.MediaFormatID
 													LEFT JOIN MediaAgeRestrictions ON MediaAgeRestrictions.MediaAgeRestrictionID=Items.MediaAgeRestrictionID
-													LEFT JOIN BinaryDatas ON  BinaryDatas.ItemPicturesID=Items.ItemPicturesID
 													WHERE Items.ItemID = ?' );
 			$stmt->setString( 1, $id );
 			$rs = $stmt->executeQuery();
@@ -106,13 +105,12 @@
 		try
 		{
 			$conn = $this->DATA->SQL->getConnection();
-			$stmt = $conn->prepareStatement(	'SELECT Items.*, ItemTypes.*, MediaCodecs.*, MediaFormats.*, MediaAgeRestrictions.* ,BinaryDatas.ItemPicturesID
+			$stmt = $conn->prepareStatement(	'SELECT Items.*, ItemTypes.*, MediaCodecs.*, MediaFormats.*, MediaAgeRestrictions.* 
 													FROM Items
 													LEFT JOIN ItemTypes ON ItemTypes.ItemTypeID=Items.ItemTypeID
 													LEFT JOIN MediaCodecs ON MediaCodecs.MediaCodecID=Items.MediaCodecID
 													LEFT JOIN MediaFormats ON MediaFormats.MediaFormatID=Items.MediaFormatID
 													LEFT JOIN MediaAgeRestrictions ON MediaAgeRestrictions.MediaAgeRestrictionID=Items.MediaAgeRestrictionID
-													LEFT JOIN BinaryDatas ON  BinaryDatas.ItemPicturesID=Items.ItemPicturesID
 													WHERE Items.ItemTypeID = ?' );
 			$stmt->setString( 1, PHPMEDIADB_ITEM_PRINT );
 			$rs = $stmt->executeQuery();
@@ -142,22 +140,24 @@
 			$conn = $this->DATA->SQL->getConnection();
 			$this->DATA->SQL->openTransaction( $conn );
 			$stmt = $conn->prepareStatement(	'INSERT INTO Items
-												( ItemTitle, ItemOriginalTitle, ItemReleaseDate, ItemMediaName, ItemCreationDate,
-												ItemModificationDate, ItemComment, ItemQuantity, ItemIdentifier, ItemTypeID,
+												( ItemTitle, ItemOriginalTitle, ItemReleaseDate, ItemMediaName, ItemLocation, ItemCreationDate,
+												ItemModificationDate, ItemPictureURL, ItemComment, ItemQuantity, ItemIdentifier, ItemTypeID,
 												ItemPublisher, MediaCodecID,MediaFormatID,MediaAgeRestrictionID )
-												VALUES( ?, ?, ?, ?, now(), now(), ?, ?, ?, ?, ?, ?, ?, ? )' );
+												VALUES( ?, ?, ?, ?, ?, now(), now(), ?, ?, ?, ?, ?, ?, ?, ?, ? )' );
 			$stmt->setString( 1, $data['itemtitle'] );
 			$stmt->setString( 2, $data['itemoriginaltitle'] );
 			$stmt->setString( 3, $data['itemreleasedate'] );
 			$stmt->setString( 4, $data['itemmedianame'] );
-			$stmt->setString( 5, $data['itemcomment'] );
-			$stmt->setString( 6, $data['itemquantity'] );
-			$stmt->setString( 7, $data['itemidentifier'] );
-			$stmt->setString( 8, PHPMEDIADB_ITEM_PRINT );
-			$stmt->setString( 9, $data['itempublisher'] );
-			$stmt->setString( 10, $data['mediacodecid'] );
-			$stmt->setString( 11, $data['mediaformatid'] );
-			$stmt->setString( 12, $data['mediaagerestrictionid'] );
+			$stmt->setString( 5, $data['itemlocation'] );
+			$stmt->setString( 6, $data['itempictureurl'] );
+			$stmt->setString( 7, $data['itemcomment'] );
+			$stmt->setString( 8, $data['itemquantity'] );
+			$stmt->setString( 9, $data['itemidentifier'] );
+			$stmt->setString( 10, PHPMEDIADB_ITEM_PRINT );
+			$stmt->setString( 11, $data['itempublisher'] );
+			$stmt->setString( 12, $data['mediacodecid'] );
+			$stmt->setString( 13, $data['mediaformatid'] );
+			$stmt->setString( 14, $data['mediaagerestrictionid'] );
 			$stmt->executeUpdate();
 			
 			$id = $this->DATA->SQL->getLastInsert( $conn );
@@ -194,12 +194,14 @@
 			$conn = $this->DATA->SQL->getConnection();
 			$this->DATA->SQL->openTransaction( $conn );
 			$stmt = $conn->prepareStatement(	'Update Items
-													LEFT JOIN PrintDatas ON PrintDatas.ItemID=Items.ItemID
+													LEFT JOIN AudioDatas ON AudioDatas.ItemID=Items.ItemID
 													SET Items.ItemTitle = ?,
 													Items.ItemOriginalTitle = ?,
 													Items.ItemReleaseDate = ?,
 													Items.ItemMediaName = ?,
+													Items.ItemLocation = ?,
 													Items.ItemModificationDate = now(),
+													Items.ItemPictureURL = ?,
 													Items.ItemComment = ?,
 													Items.ItemQuantity = ?,
 													Items.ItemIdentifier = ?,
@@ -212,14 +214,16 @@
 			$stmt->setString( 2, $data['itemoriginaltitle'] );
 			$stmt->setString( 3, $data['itemreleasedate'] );
 			$stmt->setString( 4, $data['itemmedianame'] );
-			$stmt->setString( 5, $data['itemcomment'] );
-			$stmt->setString( 6, $data['itemquantity'] );
-			$stmt->setString( 7, $data['itemidentifier'] );
-			$stmt->setString( 8, $data['mediacodecid'] );
-			$stmt->setString( 9, $data['mediaformatid'] );
-			$stmt->setString( 10, $data['mediaagerestrictionid'] );
-			$stmt->setString( 11, $data['itempublisher'] );
-			$stmt->setString( 12, $id );
+			$stmt->setString( 5, $data['itemlocation'] );
+			$stmt->setString( 6, $data['itemcomment'] );
+			$stmt->setString( 7, $data['itempictureurl'] );
+			$stmt->setString( 8, $data['itemquantity'] );
+			$stmt->setString( 9, $data['itemidentifier'] );
+			$stmt->setString( 10, $data['mediacodecid'] );
+			$stmt->setString( 11, $data['mediaformatid'] );
+			$stmt->setString( 12, $data['mediaagerestrictionid'] );
+			$stmt->setString( 13, $data['itempublisher'] );
+			$stmt->setString( 14, $id );
 			$stmt->executeUpdate();
 			$this->DATA->SQL->commitTransaction( $conn );
 		}
@@ -247,11 +251,11 @@
 		{
 			$conn = $this->DATA->SQL->getConnection();
 			$this->DATA->SQL->openTransaction( $conn );
-			$stmt = $conn->prepareStatement(	'DELETE PrintDatas, Items, BinaryDatas, Categories_has_Items
+			$stmt = $conn->prepareStatement(	'DELETE VideoDatas, Items, BinaryDatas, Categories_has_Items
 													FROM Items
-													LEFT JOIN PrintDatas ON PrintDatas.ItemID=Items.ItemID
+													LEFT JOIN VideoDatas ON VideoDatas.ItemID=Items.ItemID
 													LEFT JOIN Categories_has_Items ON Categories_has_Items.ItemID=Items.ItemID
-													LEFT JOIN BinaryDatas ON  BinaryDatas.ItemPicturesID=Items.ItemPicturesID
+													LEFT JOIN BinaryDatas ON  BinaryDatas.ItemID=Items.ItemID
 													WHERE Items.ItemID = ?' );
 			$stmt->setString( 1, $id );
 			$stmt->executeUpdate();



From nobody at sheep.berlios.de  Wed Apr 20 22:17:06 2005
From: nobody at sheep.berlios.de (bruf)
Date: Wed, 20 Apr 2005 22:17:06 +0200
Subject: [phpmediadb-cvs] phpmediadb-cvs/_source/tier.data class.phpmediadb_data_videos.php,1.14,1.15
Message-ID: <200504202017.j3KKH6m19310@bat.berlios.de>

Update of /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.data
In directory sheep:/tmp/cvs-serv3141/_source/tier.data

Modified Files:
	class.phpmediadb_data_videos.php 
Log Message:
* Fixed syntax mistake
* Added ItemLocation
* Removed ItemPictures

Index: class.phpmediadb_data_videos.php
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.data/class.phpmediadb_data_videos.php,v
retrieving revision 1.14
retrieving revision 1.15
diff -u -d -r1.14 -r1.15
--- class.phpmediadb_data_videos.php	13 Apr 2005 11:54:36 -0000	1.14
+++ class.phpmediadb_data_videos.php	20 Apr 2005 20:17:04 -0000	1.15
@@ -73,13 +73,12 @@
 		try
 		{
 			$conn = $this->DATA->SQL->getConnection();
-			$stmt = $conn->prepareStatement(	'SELECT Items.*, ItemTypes.*, MediaCodecs.*, MediaFormats.*, MediaAgeRestrictions.* ,BinaryDatas.ItemPicturesID
+			$stmt = $conn->prepareStatement(	'SELECT Items.*, ItemTypes.*, MediaCodecs.*, MediaFormats.*, MediaAgeRestrictions.*
 													FROM Items
 													LEFT JOIN ItemTypes ON ItemTypes.ItemTypeID=Items.ItemTypeID
 													LEFT JOIN MediaCodecs ON MediaCodecs.MediaCodecID=Items.MediaCodecID
 													LEFT JOIN MediaFormats ON MediaFormats.MediaFormatID=Items.MediaFormatID
 													LEFT JOIN MediaAgeRestrictions ON MediaAgeRestrictions.MediaAgeRestrictionID=Items.MediaAgeRestrictionID
-													LEFT JOIN BinaryDatas ON  BinaryDatas.ItemPicturesID=Items.ItemPicturesID
 													WHERE Items.ItemID = ?' );
 			$stmt->setString( 1, $id );
 			$rs = $stmt->executeQuery();
@@ -106,13 +105,12 @@
 		try
 		{
 			$conn = $this->DATA->SQL->getConnection();
-			$stmt = $conn->prepareStatement(	'SELECT Items.*, ItemTypes.*, MediaCodecs.*, MediaFormats.*, MediaAgeRestrictions.* ,BinaryDatas.ItemPicturesID
+			$stmt = $conn->prepareStatement(	'SELECT Items.*, ItemTypes.*, MediaCodecs.*, MediaFormats.*, MediaAgeRestrictions.*
 													FROM Items
 													LEFT JOIN ItemTypes ON ItemTypes.ItemTypeID=Items.ItemTypeID
 													LEFT JOIN MediaCodecs ON MediaCodecs.MediaCodecID=Items.MediaCodecID
 													LEFT JOIN MediaFormats ON MediaFormats.MediaFormatID=Items.MediaFormatID
 													LEFT JOIN MediaAgeRestrictions ON MediaAgeRestrictions.MediaAgeRestrictionID=Items.MediaAgeRestrictionID
-													LEFT JOIN BinaryDatas ON  BinaryDatas.ItemPicturesID=Items.ItemPicturesID
 													WHERE Items.ItemTypeID = ?' );
 			$stmt->setString( 1, PHPMEDIADB_ITEM_VIDEO );
 			$rs = $stmt->executeQuery();
@@ -142,22 +140,24 @@
 			$conn = $this->DATA->SQL->getConnection();
 			$this->DATA->SQL->openTransaction( $conn );
 			$stmt = $conn->prepareStatement(	'INSERT INTO Items
-												( ItemTitle, ItemOriginalTitle, ItemReleaseDate, ItemMediaName, ItemCreationDate,
-												ItemModificationDate, ItemComment, ItemQuantity, ItemIdentifier, ItemTypeID,
+												( ItemTitle, ItemOriginalTitle, ItemReleaseDate, ItemMediaName, ItemLocation, ItemCreationDate,
+												ItemModificationDate, ItemPictureURL, ItemComment, ItemQuantity, ItemIdentifier, ItemTypeID,
 												ItemPublisher, MediaCodecID,MediaFormatID,MediaAgeRestrictionID )
-												VALUES( ?, ?, ?, ?, now(), now(), ?, ?, ?, ?, ?, ?, ?, ? )' );
+												VALUES( ?, ?, ?, ?, ?, now(), now(), ?, ?, ?, ?, ?, ?, ?, ?, ? )' );
 			$stmt->setString( 1, $data['itemtitle'] );
 			$stmt->setString( 2, $data['itemoriginaltitle'] );
 			$stmt->setString( 3, $data['itemreleasedate'] );
 			$stmt->setString( 4, $data['itemmedianame'] );
-			$stmt->setString( 5, $data['itemcomment'] );
-			$stmt->setString( 6, $data['itemquantity'] );
-			$stmt->setString( 7, $data['itemidentifier'] );
-			$stmt->setString( 8, PHPMEDIADB_ITEM_VIDEO );
-			$stmt->setString( 9, $data['itempublisher'] );
-			$stmt->setString( 10, $data['mediacodecid'] );
-			$stmt->setString( 11, $data['mediaformatid'] );
-			$stmt->setString( 12, $data['mediaagerestrictionid'] );
+			$stmt->setString( 5, $data['itemlocation'] );
+			$stmt->setString( 6, $data['itempictureurl'] );
+			$stmt->setString( 7, $data['itemcomment'] );
+			$stmt->setString( 8, $data['itemquantity'] );
+			$stmt->setString( 9, $data['itemidentifier'] );
+			$stmt->setString( 10, PHPMEDIADB_ITEM_VIDEO );
+			$stmt->setString( 11, $data['itempublisher'] );
+			$stmt->setString( 12, $data['mediacodecid'] );
+			$stmt->setString( 13, $data['mediaformatid'] );
+			$stmt->setString( 14, $data['mediaagerestrictionid'] );
 			$stmt->executeUpdate();
 			
 			$id = $this->DATA->SQL->getLastInsert( $conn );
@@ -194,12 +194,14 @@
 			$conn = $this->DATA->SQL->getConnection();
 			$this->DATA->SQL->openTransaction( $conn );
 			$stmt = $conn->prepareStatement(	'Update Items
-													LEFT JOIN VideoDatas ON VideoDatas.ItemID=Items.ItemID
+													LEFT JOIN AudioDatas ON AudioDatas.ItemID=Items.ItemID
 													SET Items.ItemTitle = ?,
 													Items.ItemOriginalTitle = ?,
 													Items.ItemReleaseDate = ?,
 													Items.ItemMediaName = ?,
+													Items.ItemLocation = ?,
 													Items.ItemModificationDate = now(),
+													Items.ItemPictureURL = ?,
 													Items.ItemComment = ?,
 													Items.ItemQuantity = ?,
 													Items.ItemIdentifier = ?,
@@ -212,14 +214,16 @@
 			$stmt->setString( 2, $data['itemoriginaltitle'] );
 			$stmt->setString( 3, $data['itemreleasedate'] );
 			$stmt->setString( 4, $data['itemmedianame'] );
-			$stmt->setString( 5, $data['itemcomment'] );
-			$stmt->setString( 6, $data['itemquantity'] );
-			$stmt->setString( 7, $data['itemidentifier'] );
-			$stmt->setString( 8, $data['mediacodecid'] );
-			$stmt->setString( 9, $data['mediaformatid'] );
-			$stmt->setString( 10, $data['mediaagerestrictionid'] );
-			$stmt->setString( 11, $data['itempublisher'] );
-			$stmt->setString( 12, $id );
+			$stmt->setString( 5, $data['itemlocation'] );
+			$stmt->setString( 6, $data['itemcomment'] );
+			$stmt->setString( 7, $data['itempictureurl'] );
+			$stmt->setString( 8, $data['itemquantity'] );
+			$stmt->setString( 9, $data['itemidentifier'] );
+			$stmt->setString( 10, $data['mediacodecid'] );
+			$stmt->setString( 11, $data['mediaformatid'] );
+			$stmt->setString( 12, $data['mediaagerestrictionid'] );
+			$stmt->setString( 13, $data['itempublisher'] );
+			$stmt->setString( 14, $id );
 			$stmt->executeUpdate();
 			$this->DATA->SQL->commitTransaction( $conn );
 		}
@@ -251,7 +255,7 @@
 													FROM Items
 													LEFT JOIN VideoDatas ON VideoDatas.ItemID=Items.ItemID
 													LEFT JOIN Categories_has_Items ON Categories_has_Items.ItemID=Items.ItemID
-													LEFT JOIN BinaryDatas ON  BinaryDatas.ItemPicturesID=Items.ItemPicturesID
+													LEFT JOIN BinaryDatas ON  BinaryDatas.ItemID=Items.ItemID
 													WHERE Items.ItemID = ?' );
 			$stmt->setString( 1, $id );
 			$stmt->executeUpdate();



From nobody at sheep.berlios.de  Wed Apr 20 22:17:29 2005
From: nobody at sheep.berlios.de (bruf)
Date: Wed, 20 Apr 2005 22:17:29 +0200
Subject: [phpmediadb-cvs] phpmediadb-cvs/_source/tier.data class.phpmediadb_data.php,1.11,1.12
Message-ID: <200504202017.j3KKHTm19314@bat.berlios.de>

Update of /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.data
In directory sheep:/tmp/cvs-serv3193/_source/tier.data

Modified Files:
	class.phpmediadb_data.php 
Log Message:
* Fixed syntax mistake

Index: class.phpmediadb_data.php
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.data/class.phpmediadb_data.php,v
retrieving revision 1.11
retrieving revision 1.12
diff -u -d -r1.11 -r1.12
--- class.phpmediadb_data.php	17 Apr 2005 10:25:07 -0000	1.11
+++ class.phpmediadb_data.php	20 Apr 2005 20:17:24 -0000	1.12
@@ -83,8 +83,8 @@
 	 * Reference to class phpmediadb_data_items
 	 *
 	 * @access public
-	 * @see phpmediadb_data_formats
-	 * @var phpmediadb_data_formats
+	 * @see phpmediadb_data_items
+	 * @var phpmediadb_data_items
 	 */
 	public $ITEMS = null;
 	



From nobody at sheep.berlios.de  Wed Apr 20 22:18:26 2005
From: nobody at sheep.berlios.de (bruf)
Date: Wed, 20 Apr 2005 22:18:26 +0200
Subject: [phpmediadb-cvs] phpmediadb-cvs/_source/tier.data class.phpmediadb_data_binarydatas.php,1.1,1.2
Message-ID: <200504202018.j3KKIQm19323@bat.berlios.de>

Update of /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.data
In directory sheep:/tmp/cvs-serv3232/_source/tier.data

Modified Files:
	class.phpmediadb_data_binarydatas.php 
Log Message:
* Fixed syntax mistake
* Added ItemLocation
* Removed ItemPictures

Index: class.phpmediadb_data_binarydatas.php
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.data/class.phpmediadb_data_binarydatas.php,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- class.phpmediadb_data_binarydatas.php	17 Apr 2005 10:25:33 -0000	1.1
+++ class.phpmediadb_data_binarydatas.php	20 Apr 2005 20:18:24 -0000	1.2
@@ -76,7 +76,7 @@
 			$conn = $this->DATA->SQL->getConnection();
 			$stmt = $conn->prepareStatement(	'SELECT BinaryDatas.*
 													FROM BinaryDatas
-													WHERE BinaryDatas.ItemPicturesID = ?' );
+													WHERE BinaryDatas.ItemID = ?' );
 			$stmt->setString( 1, $id );
 			$rs = $stmt->executeQuery();
 			
@@ -131,8 +131,9 @@
 			$conn = $this->DATA->SQL->getConnection();
 			$this->DATA->SQL->openTransaction( $conn );
 			$stmt = $conn->prepareStatement(	'INSERT INTO BinaryDatas
-												( BinaryDataMimeType, BinaryDataSize )
-												VALUES( ?, ? )' );
+												( ItemID, BinaryDataMimeType, BinaryDataSize )
+												VALUES( ?, ?, ? )' );
+			$stmt->setString( 1, $data['itemid'] );
 			$stmt->setString( 1, $data['binarydatamimetype'] );
 			$stmt->setString( 2, $data['binarydatasize'] );
 			$stmt->executeUpdate();
@@ -169,7 +170,7 @@
 			$stmt = $conn->prepareStatement(	'Update BinaryDatas
 													SET BinaryDatas.BinaryDataMimeType = ?,
 													BinaryDatas.BinaryDataSize = ?
-													WHERE BinaryDatas.ItemPicturesID = ?' );
+													WHERE BinaryDatas.ItemID = ?' );
 			$stmt->setString( 1, $data['binarydatamimetype'] );
 			$stmt->setString( 2, $data['binarydatasize'] );
 			$stmt->setString( 12, $id );
@@ -204,7 +205,7 @@
 			$conn = $this->DATA->SQL->getConnection();
 			$this->DATA->SQL->openTransaction( $conn );
 			$stmt = $conn->prepareStatement(	'DELETE FROM BinaryDatas
-													WHERE BinaryDatas.ItemPicturesID = ?' );
+													WHERE BinaryDatas.ItemID = ?' );
 			$stmt->setString( 1, $id );
 			$rs = $stmt->executeUpdate();
 			
@@ -241,7 +242,7 @@
 			$conn = $this->DATA->SQL->getConnection();
 			$stmt = $conn->prepareStatement(	'SELECT COUNT(*)
 												FROM BinaryDatas
-												WHERE BinaryDatas.ItemPicturesID = ?' );
+												WHERE BinaryDatas.ItemID = ?' );
 			$stmt->setString( 1, $id );
 			$rs = $stmt->executeQuery( ResultSet::FETCHMODE_NUM );
 			$rs->next();



From nobody at sheep.berlios.de  Wed Apr 20 22:19:05 2005
From: nobody at sheep.berlios.de (bruf)
Date: Wed, 20 Apr 2005 22:19:05 +0200
Subject: [phpmediadb-cvs] phpmediadb-cvs/_source phpmediadb.php,1.12,1.13
Message-ID: <200504202019.j3KKJ5m19347@bat.berlios.de>

Update of /cvsroot/phpmediadb/phpmediadb-cvs/_source
In directory sheep:/tmp/cvs-serv3276/_source

Modified Files:
	phpmediadb.php 
Log Message:
* Added class phpmediadb_business_binarydatas

Index: phpmediadb.php
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/_source/phpmediadb.php,v
retrieving revision 1.12
retrieving revision 1.13
diff -u -d -r1.12 -r1.13
--- phpmediadb.php	17 Apr 2005 10:24:56 -0000	1.12
+++ phpmediadb.php	20 Apr 2005 20:19:02 -0000	1.13
@@ -40,6 +40,7 @@
 	require_once( 'tier.business/class.phpmediadb_business.php' );
 	require_once( 'tier.business/class.phpmediadb_business_agerestrictions.php' );
 	require_once( 'tier.business/class.phpmediadb_business_audios.php' );
+	require_once( 'tier.business/class.phpmediadb_business_binarydatas.php' );
 	require_once( 'tier.business/class.phpmediadb_business_categories.php' );
 	require_once( 'tier.business/class.phpmediadb_business_codecs.php' );
 	require_once( 'tier.business/class.phpmediadb_business_formats.php' );



From nobody at sheep.berlios.de  Wed Apr 20 23:44:48 2005
From: nobody at sheep.berlios.de (mblaschke)
Date: Wed, 20 Apr 2005 23:44:48 +0200
Subject: [phpmediadb-cvs] phpmediadb-cvs about.php,1.3,1.4 error.php,1.2,1.3 index.php,1.3,1.4 item-details.php,1.3,1.4 list.php,1.5,1.6 search.php,1.4,1.5
Message-ID: <200504202144.j3KLimm20890@bat.berlios.de>

Update of /cvsroot/phpmediadb/phpmediadb-cvs
In directory sheep:/tmp/cvs-serv7941

Modified Files:
	about.php error.php index.php item-details.php list.php 
	search.php 
Log Message:
* Changed Filecomment; included GPL-comment

Index: about.php
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/about.php,v
retrieving revision 1.3
retrieving revision 1.4
diff -u -d -r1.3 -r1.4
--- about.php	24 Mar 2005 17:11:59 -0000	1.3
+++ about.php	20 Apr 2005 21:44:45 -0000	1.4
@@ -1,13 +1,39 @@
 <?php
-// phpMediaDB :: Licensed under GNU-GPL :: http://phpmediadb.berlios.de/
-/* $Id$ */
 /**
- * This file displays the about-site
- * 
- * @author		Markus Blaschke <mblaschke at users.berlios.de>
- * @version		$Revision$
+ * $Id$
+ *
+ * Project:     phpMediaDB :: OpenSource Mediadatabase
+ * File:        about.php
+ * License:     GNU General Publice License
+ *
+ * This file is part of phpMediaDB.
+ *
+ * phpMediaDB is free software; you can redistribute it and/or modify
+ * it under the terms of the GNU General Public License as published by
+ * the Free Software Foundation; either version 2 of the License, or
+ * (at your option) any later version.
+ *
+ * Foobar is distributed in the hope that it will be useful,
+ * but WITHOUT ANY WARRANTY; without even the implied warranty of
+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+ * GNU General Public License for more details.
+ *
+ * You should have received a copy of the GNU General Public License
+ * along with Foobar; if not, write to the Free Software
+ * Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA
+ *
+ * For questions, help, comments, discussion, etc., please join the
+ * phpMediaDB mailing list. See phpMediaDB projectportal for more
+ * information.
+ *
+ * @link        http://phpmediadb.berlios.de/
+ * @copyright   2004-2005 &copy; Blaschke, Markus; Ruf, Boris
+ * @license     http://opensource.org/licenses/gpl-license.php GNU General Public License
+ * @author      Markus Blaschke <mblaschke at users.berlios.de>
+ * @author      Boris Ruf <bruf at users.berlios.de>
  * @package		phpmediadb_html
  * @subpackage	access_anonymous
+ * @version     $Revision$
  */
  
 /* include main phpmediadb-project */

Index: error.php
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/error.php,v
retrieving revision 1.2
retrieving revision 1.3
diff -u -d -r1.2 -r1.3
--- error.php	12 Apr 2005 19:05:40 -0000	1.2
+++ error.php	20 Apr 2005 21:44:45 -0000	1.3
@@ -1,13 +1,39 @@
 <?php
-// phpMediaDB :: Licensed under GNU-GPL :: http://phpmediadb.berlios.de/
-/* $Id$ */
 /**
- * This file displays an error-message
- * 
- * @author		Markus Blaschke <mblaschke at users.berlios.de>
- * @version		$Revision$
+ * $Id$
+ *
+ * Project:     phpMediaDB :: OpenSource Mediadatabase
+ * File:        error.php
+ * License:     GNU General Publice License
+ *
+ * This file is part of phpMediaDB.
+ *
+ * phpMediaDB is free software; you can redistribute it and/or modify
+ * it under the terms of the GNU General Public License as published by
+ * the Free Software Foundation; either version 2 of the License, or
+ * (at your option) any later version.
+ *
+ * Foobar is distributed in the hope that it will be useful,
+ * but WITHOUT ANY WARRANTY; without even the implied warranty of
+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+ * GNU General Public License for more details.
+ *
+ * You should have received a copy of the GNU General Public License
+ * along with Foobar; if not, write to the Free Software
+ * Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA
+ *
+ * For questions, help, comments, discussion, etc., please join the
+ * phpMediaDB mailing list. See phpMediaDB projectportal for more
+ * information.
+ *
+ * @link        http://phpmediadb.berlios.de/
+ * @copyright   2004-2005 &copy; Blaschke, Markus; Ruf, Boris
+ * @license     http://opensource.org/licenses/gpl-license.php GNU General Public License
+ * @author      Markus Blaschke <mblaschke at users.berlios.de>
+ * @author      Boris Ruf <bruf at users.berlios.de>
  * @package		phpmediadb_html
  * @subpackage	access_anonymous
+ * @version     $Revision$
  */
  
 /* include main phpmediadb-project */

Index: index.php
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/index.php,v
retrieving revision 1.3
retrieving revision 1.4
diff -u -d -r1.3 -r1.4
--- index.php	24 Mar 2005 17:11:59 -0000	1.3
+++ index.php	20 Apr 2005 21:44:45 -0000	1.4
@@ -1,13 +1,39 @@
 <?php
-// phpMediaDB :: Licensed under GNU-GPL :: http://phpmediadb.berlios.de/
-/* $Id$ */
 /**
- * This file displays the index-site
- * 
- * @author		Markus Blaschke <mblaschke at users.berlios.de>
- * @version		$Revision$
+ * $Id$
+ *
+ * Project:     phpMediaDB :: OpenSource Mediadatabase
+ * File:        index.php
+ * License:     GNU General Publice License
+ *
+ * This file is part of phpMediaDB.
+ *
+ * phpMediaDB is free software; you can redistribute it and/or modify
+ * it under the terms of the GNU General Public License as published by
+ * the Free Software Foundation; either version 2 of the License, or
+ * (at your option) any later version.
+ *
+ * Foobar is distributed in the hope that it will be useful,
+ * but WITHOUT ANY WARRANTY; without even the implied warranty of
+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+ * GNU General Public License for more details.
+ *
+ * You should have received a copy of the GNU General Public License
+ * along with Foobar; if not, write to the Free Software
+ * Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA
+ *
+ * For questions, help, comments, discussion, etc., please join the
+ * phpMediaDB mailing list. See phpMediaDB projectportal for more
+ * information.
+ *
+ * @link        http://phpmediadb.berlios.de/
+ * @copyright   2004-2005 &copy; Blaschke, Markus; Ruf, Boris
+ * @license     http://opensource.org/licenses/gpl-license.php GNU General Public License
+ * @author      Markus Blaschke <mblaschke at users.berlios.de>
+ * @author      Boris Ruf <bruf at users.berlios.de>
  * @package		phpmediadb_html
  * @subpackage	access_anonymous
+ * @version     $Revision$
  */
  
 /* include main phpmediadb-project */

Index: item-details.php
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/item-details.php,v
retrieving revision 1.3
retrieving revision 1.4
diff -u -d -r1.3 -r1.4
--- item-details.php	13 Apr 2005 14:59:30 -0000	1.3
+++ item-details.php	20 Apr 2005 21:44:45 -0000	1.4
@@ -1,13 +1,39 @@
 <?php
-// phpMediaDB :: Licensed under GNU-GPL :: http://phpmediadb.berlios.de/
-/* $Id$ */
 /**
- * This file displays all details of an item
- * 
- * @author		Markus Blaschke <mblaschke at users.berlios.de>
- * @version		$Revision$
+ * $Id$
+ *
+ * Project:     phpMediaDB :: OpenSource Mediadatabase
+ * File:        item-details.php
+ * License:     GNU General Publice License
+ *
+ * This file is part of phpMediaDB.
+ *
+ * phpMediaDB is free software; you can redistribute it and/or modify
+ * it under the terms of the GNU General Public License as published by
+ * the Free Software Foundation; either version 2 of the License, or
+ * (at your option) any later version.
+ *
+ * Foobar is distributed in the hope that it will be useful,
+ * but WITHOUT ANY WARRANTY; without even the implied warranty of
+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+ * GNU General Public License for more details.
+ *
+ * You should have received a copy of the GNU General Public License
+ * along with Foobar; if not, write to the Free Software
+ * Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA
+ *
+ * For questions, help, comments, discussion, etc., please join the
+ * phpMediaDB mailing list. See phpMediaDB projectportal for more
+ * information.
+ *
+ * @link        http://phpmediadb.berlios.de/
+ * @copyright   2004-2005 &copy; Blaschke, Markus; Ruf, Boris
+ * @license     http://opensource.org/licenses/gpl-license.php GNU General Public License
+ * @author      Markus Blaschke <mblaschke at users.berlios.de>
+ * @author      Boris Ruf <bruf at users.berlios.de>
  * @package		phpmediadb_html
  * @subpackage	access_anonymous
+ * @version     $Revision$
  */
  
 /* include main phpmediadb-project */

Index: list.php
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/list.php,v
retrieving revision 1.5
retrieving revision 1.6
diff -u -d -r1.5 -r1.6
--- list.php	13 Apr 2005 15:00:18 -0000	1.5
+++ list.php	20 Apr 2005 21:44:45 -0000	1.6
@@ -1,13 +1,39 @@
 <?php
-// phpMediaDB :: Licensed under GNU-GPL :: http://phpmediadb.berlios.de/
-/* $Id$ */
 /**
- * This file displays the itemlist
- * 
- * @author		Markus Blaschke <mblaschke at users.berlios.de>
- * @version		$Revision$
+ * $Id$
+ *
+ * Project:     phpMediaDB :: OpenSource Mediadatabase
+ * File:        list.php
+ * License:     GNU General Publice License
+ *
+ * This file is part of phpMediaDB.
+ *
+ * phpMediaDB is free software; you can redistribute it and/or modify
+ * it under the terms of the GNU General Public License as published by
+ * the Free Software Foundation; either version 2 of the License, or
+ * (at your option) any later version.
+ *
+ * Foobar is distributed in the hope that it will be useful,
+ * but WITHOUT ANY WARRANTY; without even the implied warranty of
+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+ * GNU General Public License for more details.
+ *
+ * You should have received a copy of the GNU General Public License
+ * along with Foobar; if not, write to the Free Software
+ * Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA
+ *
+ * For questions, help, comments, discussion, etc., please join the
+ * phpMediaDB mailing list. See phpMediaDB projectportal for more
+ * information.
+ *
+ * @link        http://phpmediadb.berlios.de/
+ * @copyright   2004-2005 &copy; Blaschke, Markus; Ruf, Boris
+ * @license     http://opensource.org/licenses/gpl-license.php GNU General Public License
+ * @author      Markus Blaschke <mblaschke at users.berlios.de>
+ * @author      Boris Ruf <bruf at users.berlios.de>
  * @package		phpmediadb_html
  * @subpackage	access_anonymous
+ * @version     $Revision$
  */
  
 /* include main phpmediadb-project */

Index: search.php
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/search.php,v
retrieving revision 1.4
retrieving revision 1.5
diff -u -d -r1.4 -r1.5
--- search.php	24 Mar 2005 17:11:59 -0000	1.4
+++ search.php	20 Apr 2005 21:44:45 -0000	1.5
@@ -1,13 +1,39 @@
 <?php
-// phpMediaDB :: Licensed under GNU-GPL :: http://phpmediadb.berlios.de/
-/* $Id$ */
 /**
- * This file searches for items
- * 
- * @author		Markus Blaschke <mblaschke at users.berlios.de>
- * @version		$Revision$
+ * $Id$
+ *
+ * Project:     phpMediaDB :: OpenSource Mediadatabase
+ * File:        search.php
+ * License:     GNU General Publice License
+ *
+ * This file is part of phpMediaDB.
+ *
+ * phpMediaDB is free software; you can redistribute it and/or modify
+ * it under the terms of the GNU General Public License as published by
+ * the Free Software Foundation; either version 2 of the License, or
+ * (at your option) any later version.
+ *
+ * Foobar is distributed in the hope that it will be useful,
+ * but WITHOUT ANY WARRANTY; without even the implied warranty of
+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+ * GNU General Public License for more details.
+ *
+ * You should have received a copy of the GNU General Public License
+ * along with Foobar; if not, write to the Free Software
+ * Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA
+ *
+ * For questions, help, comments, discussion, etc., please join the
+ * phpMediaDB mailing list. See phpMediaDB projectportal for more
+ * information.
+ *
+ * @link        http://phpmediadb.berlios.de/
+ * @copyright   2004-2005 &copy; Blaschke, Markus; Ruf, Boris
+ * @license     http://opensource.org/licenses/gpl-license.php GNU General Public License
+ * @author      Markus Blaschke <mblaschke at users.berlios.de>
+ * @author      Boris Ruf <bruf at users.berlios.de>
  * @package		phpmediadb_html
  * @subpackage	access_anonymous
+ * @version     $Revision$
  */
  
 /* include main phpmediadb-project */



From nobody at sheep.berlios.de  Wed Apr 20 23:44:59 2005
From: nobody at sheep.berlios.de (mblaschke)
Date: Wed, 20 Apr 2005 23:44:59 +0200
Subject: [phpmediadb-cvs] phpmediadb-cvs/admin item-add.php,1.3,1.4 item-del.php,1.4,1.5 item-mod.php,1.3,1.4 item-session.php,1.12,1.13
Message-ID: <200504202144.j3KLixm20894@bat.berlios.de>

Update of /cvsroot/phpmediadb/phpmediadb-cvs/admin
In directory sheep:/tmp/cvs-serv7973/admin

Modified Files:
	item-add.php item-del.php item-mod.php item-session.php 
Log Message:
* Changed Filecomment; included GPL-comment

Index: item-add.php
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/admin/item-add.php,v
retrieving revision 1.3
retrieving revision 1.4
diff -u -d -r1.3 -r1.4
--- item-add.php	24 Mar 2005 17:12:17 -0000	1.3
+++ item-add.php	20 Apr 2005 21:44:56 -0000	1.4
@@ -1,13 +1,39 @@
 <?php
-// phpMediaDB :: Licensed under GNU-GPL :: http://phpmediadb.berlios.de/
-/* $Id$ */
 /**
- * This file adds one item to the session and redirects to item-session.php
- * 
- * @author		Markus Blaschke <mblaschke at users.berlios.de>
- * @version		$Revision$
+ * $Id$
+ *
+ * Project:     phpMediaDB :: OpenSource Mediadatabase
+ * File:        item-add.php
+ * License:     GNU General Publice License
+ *
+ * This file is part of phpMediaDB.
+ *
+ * phpMediaDB is free software; you can redistribute it and/or modify
+ * it under the terms of the GNU General Public License as published by
+ * the Free Software Foundation; either version 2 of the License, or
+ * (at your option) any later version.
+ *
+ * Foobar is distributed in the hope that it will be useful,
+ * but WITHOUT ANY WARRANTY; without even the implied warranty of
+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+ * GNU General Public License for more details.
+ *
+ * You should have received a copy of the GNU General Public License
+ * along with Foobar; if not, write to the Free Software
+ * Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA
+ *
+ * For questions, help, comments, discussion, etc., please join the
+ * phpMediaDB mailing list. See phpMediaDB projectportal for more
+ * information.
+ *
+ * @link        http://phpmediadb.berlios.de/
+ * @copyright   2004-2005 &copy; Blaschke, Markus; Ruf, Boris
+ * @license     http://opensource.org/licenses/gpl-license.php GNU General Public License
+ * @author      Markus Blaschke <mblaschke at users.berlios.de>
+ * @author      Boris Ruf <bruf at users.berlios.de>
  * @package		phpmediadb_html
- * @subpackage	access_admin
+ * @subpackage	access_administration
+ * @version     $Revision$
  */
  
 /* include main phpmediadb-project */

Index: item-del.php
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/admin/item-del.php,v
retrieving revision 1.4
retrieving revision 1.5
diff -u -d -r1.4 -r1.5
--- item-del.php	13 Apr 2005 11:46:19 -0000	1.4
+++ item-del.php	20 Apr 2005 21:44:56 -0000	1.5
@@ -1,13 +1,39 @@
 <?php
-// phpMediaDB :: Licensed under GNU-GPL :: http://phpmediadb.berlios.de/
-/* $Id$ */
 /**
- * This file deletes one item
- * 
- * @author		Markus Blaschke <mblaschke at users.berlios.de>
- * @version		$Revision$
+ * $Id$
+ *
+ * Project:     phpMediaDB :: OpenSource Mediadatabase
+ * File:        item-del.php
+ * License:     GNU General Publice License
+ *
+ * This file is part of phpMediaDB.
+ *
+ * phpMediaDB is free software; you can redistribute it and/or modify
+ * it under the terms of the GNU General Public License as published by
+ * the Free Software Foundation; either version 2 of the License, or
+ * (at your option) any later version.
+ *
+ * Foobar is distributed in the hope that it will be useful,
+ * but WITHOUT ANY WARRANTY; without even the implied warranty of
+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+ * GNU General Public License for more details.
+ *
+ * You should have received a copy of the GNU General Public License
+ * along with Foobar; if not, write to the Free Software
+ * Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA
+ *
+ * For questions, help, comments, discussion, etc., please join the
+ * phpMediaDB mailing list. See phpMediaDB projectportal for more
+ * information.
+ *
+ * @link        http://phpmediadb.berlios.de/
+ * @copyright   2004-2005 &copy; Blaschke, Markus; Ruf, Boris
+ * @license     http://opensource.org/licenses/gpl-license.php GNU General Public License
+ * @author      Markus Blaschke <mblaschke at users.berlios.de>
+ * @author      Boris Ruf <bruf at users.berlios.de>
  * @package		phpmediadb_html
- * @subpackage	access_admin
+ * @subpackage	access_administration
+ * @version     $Revision$
  */
  
 /* include main phpmediadb-project */

Index: item-mod.php
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/admin/item-mod.php,v
retrieving revision 1.3
retrieving revision 1.4
diff -u -d -r1.3 -r1.4
--- item-mod.php	13 Apr 2005 11:46:33 -0000	1.3
+++ item-mod.php	20 Apr 2005 21:44:56 -0000	1.4
@@ -1,13 +1,39 @@
 <?php
-// phpMediaDB :: Licensed under GNU-GPL :: http://phpmediadb.berlios.de/
-/* $Id$ */
 /**
- * This file loads one item and redirect to item-session.php
- * 
- * @author		Markus Blaschke <mblaschke at users.berlios.de>
- * @version		$Revision$
+ * $Id$
+ *
+ * Project:     phpMediaDB :: OpenSource Mediadatabase
+ * File:        item-mod.php
+ * License:     GNU General Publice License
+ *
+ * This file is part of phpMediaDB.
+ *
+ * phpMediaDB is free software; you can redistribute it and/or modify
+ * it under the terms of the GNU General Public License as published by
+ * the Free Software Foundation; either version 2 of the License, or
+ * (at your option) any later version.
+ *
+ * Foobar is distributed in the hope that it will be useful,
+ * but WITHOUT ANY WARRANTY; without even the implied warranty of
+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+ * GNU General Public License for more details.
+ *
+ * You should have received a copy of the GNU General Public License
+ * along with Foobar; if not, write to the Free Software
+ * Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA
+ *
+ * For questions, help, comments, discussion, etc., please join the
+ * phpMediaDB mailing list. See phpMediaDB projectportal for more
+ * information.
+ *
+ * @link        http://phpmediadb.berlios.de/
+ * @copyright   2004-2005 &copy; Blaschke, Markus; Ruf, Boris
+ * @license     http://opensource.org/licenses/gpl-license.php GNU General Public License
+ * @author      Markus Blaschke <mblaschke at users.berlios.de>
+ * @author      Boris Ruf <bruf at users.berlios.de>
  * @package		phpmediadb_html
- * @subpackage	access_admin
+ * @subpackage	access_administration
+ * @version     $Revision$
  */
  
 /* include main phpmediadb-project */

Index: item-session.php
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/admin/item-session.php,v
retrieving revision 1.12
retrieving revision 1.13
diff -u -d -r1.12 -r1.13
--- item-session.php	13 Apr 2005 11:46:43 -0000	1.12
+++ item-session.php	20 Apr 2005 21:44:56 -0000	1.13
@@ -1,13 +1,39 @@
 <?php
-// phpMediaDB :: Licensed under GNU-GPL :: http://phpmediadb.berlios.de/
-/* $Id$ */
 /**
- * This file edits the item in the session and save or creates it
- * 
- * @author		Markus Blaschke <mblaschke at users.berlios.de>
- * @version		$Revision$
+ * $Id$
+ *
+ * Project:     phpMediaDB :: OpenSource Mediadatabase
+ * File:        item-session.php
+ * License:     GNU General Publice License
+ *
+ * This file is part of phpMediaDB.
+ *
+ * phpMediaDB is free software; you can redistribute it and/or modify
+ * it under the terms of the GNU General Public License as published by
+ * the Free Software Foundation; either version 2 of the License, or
+ * (at your option) any later version.
+ *
+ * Foobar is distributed in the hope that it will be useful,
+ * but WITHOUT ANY WARRANTY; without even the implied warranty of
+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+ * GNU General Public License for more details.
+ *
+ * You should have received a copy of the GNU General Public License
+ * along with Foobar; if not, write to the Free Software
+ * Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA
+ *
+ * For questions, help, comments, discussion, etc., please join the
+ * phpMediaDB mailing list. See phpMediaDB projectportal for more
+ * information.
+ *
+ * @link        http://phpmediadb.berlios.de/
+ * @copyright   2004-2005 &copy; Blaschke, Markus; Ruf, Boris
+ * @license     http://opensource.org/licenses/gpl-license.php GNU General Public License
+ * @author      Markus Blaschke <mblaschke at users.berlios.de>
+ * @author      Boris Ruf <bruf at users.berlios.de>
  * @package		phpmediadb_html
- * @subpackage	access_admin
+ * @subpackage	access_administration
+ * @version     $Revision$
  */
  
 /* include main phpmediadb-project */



From nobody at sheep.berlios.de  Wed Apr 20 23:45:08 2005
From: nobody at sheep.berlios.de (mblaschke)
Date: Wed, 20 Apr 2005 23:45:08 +0200
Subject: [phpmediadb-cvs] phpmediadb-cvs/install index.php,1.2,1.3
Message-ID: <200504202145.j3KLj8m20933@bat.berlios.de>

Update of /cvsroot/phpmediadb/phpmediadb-cvs/install
In directory sheep:/tmp/cvs-serv8002/install

Modified Files:
	index.php 
Log Message:
* Changed Filecomment; included GPL-comment

Index: index.php
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/install/index.php,v
retrieving revision 1.2
retrieving revision 1.3
diff -u -d -r1.2 -r1.3
--- index.php	24 Mar 2005 17:12:07 -0000	1.2
+++ index.php	20 Apr 2005 21:45:06 -0000	1.3
@@ -1,13 +1,39 @@
 <?php
-// phpMediaDB :: Licensed under GNU-GPL :: http://phpmediadb.berlios.de/
-/* $Id$ */
 /**
- * This file adds one item to the session and redirects to item-session.php
- * 
- * @author		Markus Blaschke <mblaschke at users.berlios.de>
- * @version		$Revision$
+ * $Id$
+ *
+ * Project:     phpMediaDB :: OpenSource Mediadatabase
+ * File:        index.php
+ * License:     GNU General Publice License
+ *
+ * This file is part of phpMediaDB.
+ *
+ * phpMediaDB is free software; you can redistribute it and/or modify
+ * it under the terms of the GNU General Public License as published by
+ * the Free Software Foundation; either version 2 of the License, or
+ * (at your option) any later version.
+ *
+ * Foobar is distributed in the hope that it will be useful,
+ * but WITHOUT ANY WARRANTY; without even the implied warranty of
+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+ * GNU General Public License for more details.
+ *
+ * You should have received a copy of the GNU General Public License
+ * along with Foobar; if not, write to the Free Software
+ * Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA
+ *
+ * For questions, help, comments, discussion, etc., please join the
+ * phpMediaDB mailing list. See phpMediaDB projectportal for more
+ * information.
+ *
+ * @link        http://phpmediadb.berlios.de/
+ * @copyright   2004-2005 &copy; Blaschke, Markus; Ruf, Boris
+ * @license     http://opensource.org/licenses/gpl-license.php GNU General Public License
+ * @author      Markus Blaschke <mblaschke at users.berlios.de>
+ * @author      Boris Ruf <bruf at users.berlios.de>
  * @package		phpmediadb_html
  * @subpackage	access_installation
+ * @version     $Revision$
  */
  
 //--- EOF --- EOF --- EOF --- EOF --- EOF --- EOF --- EOF --- EOF --- EOF ---



From nobody at sheep.berlios.de  Wed Apr 20 23:45:19 2005
From: nobody at sheep.berlios.de (mblaschke)
Date: Wed, 20 Apr 2005 23:45:19 +0200
Subject: [phpmediadb-cvs] phpmediadb-cvs/_source phpmediadb.php,1.13,1.14
Message-ID: <200504202145.j3KLjJm20957@bat.berlios.de>

Update of /cvsroot/phpmediadb/phpmediadb-cvs/_source
In directory sheep:/tmp/cvs-serv8019/_source

Modified Files:
	phpmediadb.php 
Log Message:
* Changed Filecomment; included GPL-comment

Index: phpmediadb.php
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/_source/phpmediadb.php,v
retrieving revision 1.13
retrieving revision 1.14
diff -u -d -r1.13 -r1.14
--- phpmediadb.php	20 Apr 2005 20:19:02 -0000	1.13
+++ phpmediadb.php	20 Apr 2005 21:45:17 -0000	1.14
@@ -1,14 +1,41 @@
 <?php
-// phpMediaDB :: Licensed under GNU-GPL :: http://phpmediadb.berlios.de/
-/* $Id$ */
 /**
- * This file includes all required files for phpMediaDB to work
- * 
- * @author		Markus Blaschke <mblaschke at users.berlios.de>
- * @version		$Revision$
+ * $Id$
+ *
+ * Project:     phpMediaDB :: OpenSource Mediadatabase
+ * File:        phpmediadb.php
+ * License:     GNU General Publice License
+ *
+ * This file is part of phpMediaDB.
+ *
+ * phpMediaDB is free software; you can redistribute it and/or modify
+ * it under the terms of the GNU General Public License as published by
+ * the Free Software Foundation; either version 2 of the License, or
+ * (at your option) any later version.
+ *
+ * Foobar is distributed in the hope that it will be useful,
+ * but WITHOUT ANY WARRANTY; without even the implied warranty of
+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+ * GNU General Public License for more details.
+ *
+ * You should have received a copy of the GNU General Public License
+ * along with Foobar; if not, write to the Free Software
+ * Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA
+ *
+ * For questions, help, comments, discussion, etc., please join the
+ * phpMediaDB mailing list. See phpMediaDB projectportal for more
+ * information.
+ *
+ * @link        http://phpmediadb.berlios.de/
+ * @copyright   2004-2005 &copy; Blaschke, Markus; Ruf, Boris
+ * @license     http://opensource.org/licenses/gpl-license.php GNU General Public License
+ * @author      Markus Blaschke <mblaschke at users.berlios.de>
+ * @author      Boris Ruf <bruf at users.berlios.de>
  * @package		phpmediadb
  * @subpackage	global
+ * @version     $Revision$
  */
+
 /* let's begin */
 
 /* run preinit */



From nobody at sheep.berlios.de  Wed Apr 20 23:45:27 2005
From: nobody at sheep.berlios.de (mblaschke)
Date: Wed, 20 Apr 2005 23:45:27 +0200
Subject: [phpmediadb-cvs] phpmediadb-cvs/_source/tier.business class.phpmediadb_business_agerestrictions.php,1.8,1.9 class.phpmediadb_business_audios.php,1.10,1.11 class.phpmediadb_business_categories.php,1.10,1.11 class.phpmediadb_business_codecs.php,1.8,1.9 class.phpmediadb_business_formats.php,1.8,1.9 class.phpmediadb_business_inspector.php,1.6,1.7 class.phpmediadb_business_items.php,1.2,1.3 class.phpmediadb_business.php,1.12,1.13 class.phpmediadb_business_prints.php,1.7,1.8 class.phpmediadb_business_videos.php,1.7,1.8
Message-ID: <200504202145.j3KLjRm20961@bat.berlios.de>

Update of /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.business
In directory sheep:/tmp/cvs-serv8027/_source/tier.business

Modified Files:
	class.phpmediadb_business_agerestrictions.php 
	class.phpmediadb_business_audios.php 
	class.phpmediadb_business_categories.php 
	class.phpmediadb_business_codecs.php 
	class.phpmediadb_business_formats.php 
	class.phpmediadb_business_inspector.php 
	class.phpmediadb_business_items.php 
	class.phpmediadb_business.php 
	class.phpmediadb_business_prints.php 
	class.phpmediadb_business_videos.php 
Log Message:
* Changed Filecomment; included GPL-comment

Index: class.phpmediadb_business_agerestrictions.php
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.business/class.phpmediadb_business_agerestrictions.php,v
retrieving revision 1.8
retrieving revision 1.9
diff -u -d -r1.8 -r1.9
--- class.phpmediadb_business_agerestrictions.php	20 Apr 2005 20:07:29 -0000	1.8
+++ class.phpmediadb_business_agerestrictions.php	20 Apr 2005 21:45:25 -0000	1.9
@@ -1,6 +1,40 @@
 <?php
-// phpMediaDB :: Licensed under GNU-GPL :: http://phpmediadb.berlios.de/
-/* $Id$ */
+/**
+ * $Id$
+ *
+ * Project:     phpMediaDB :: OpenSource Mediadatabase
+ * File:        class.phpmediadb_business_agerestrictions.php
+ * License:     GNU General Publice License
+ *
+ * This file is part of phpMediaDB.
+ *
+ * phpMediaDB is free software; you can redistribute it and/or modify
+ * it under the terms of the GNU General Public License as published by
+ * the Free Software Foundation; either version 2 of the License, or
+ * (at your option) any later version.
+ *
+ * Foobar is distributed in the hope that it will be useful,
+ * but WITHOUT ANY WARRANTY; without even the implied warranty of
+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+ * GNU General Public License for more details.
+ *
+ * You should have received a copy of the GNU General Public License
+ * along with Foobar; if not, write to the Free Software
+ * Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA
+ *
+ * For questions, help, comments, discussion, etc., please join the
+ * phpMediaDB mailing list. See phpMediaDB projectportal for more
+ * information.
+ *
+ * @link        http://phpmediadb.berlios.de/
+ * @copyright   2004-2005 &copy; Blaschke, Markus; Ruf, Boris
+ * @license     http://opensource.org/licenses/gpl-license.php GNU General Public License
+ * @author      Markus Blaschke <mblaschke at users.berlios.de>
+ * @author      Boris Ruf <bruf at users.berlios.de>
+ * @package		phpmediadb
+ * @subpackage	business
+ * @version     $Revision$
+ */
 
 /**
  * This is the class that manages all functions of the agerestrictions

Index: class.phpmediadb_business_audios.php
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.business/class.phpmediadb_business_audios.php,v
retrieving revision 1.10
retrieving revision 1.11
diff -u -d -r1.10 -r1.11
--- class.phpmediadb_business_audios.php	20 Apr 2005 20:08:00 -0000	1.10
+++ class.phpmediadb_business_audios.php	20 Apr 2005 21:45:25 -0000	1.11
@@ -1,6 +1,40 @@
 <?php
-// phpMediaDB :: Licensed under GNU-GPL :: http://phpmediadb.berlios.de/
-/* $Id$ */
+/**
+ * $Id$
+ *
+ * Project:     phpMediaDB :: OpenSource Mediadatabase
+ * File:        class.phpmediadb_business_audios.php
+ * License:     GNU General Publice License
+ *
+ * This file is part of phpMediaDB.
+ *
+ * phpMediaDB is free software; you can redistribute it and/or modify
+ * it under the terms of the GNU General Public License as published by
+ * the Free Software Foundation; either version 2 of the License, or
+ * (at your option) any later version.
+ *
+ * Foobar is distributed in the hope that it will be useful,
+ * but WITHOUT ANY WARRANTY; without even the implied warranty of
+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+ * GNU General Public License for more details.
+ *
+ * You should have received a copy of the GNU General Public License
+ * along with Foobar; if not, write to the Free Software
+ * Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA
+ *
+ * For questions, help, comments, discussion, etc., please join the
+ * phpMediaDB mailing list. See phpMediaDB projectportal for more
+ * information.
+ *
+ * @link        http://phpmediadb.berlios.de/
+ * @copyright   2004-2005 &copy; Blaschke, Markus; Ruf, Boris
+ * @license     http://opensource.org/licenses/gpl-license.php GNU General Public License
+ * @author      Markus Blaschke <mblaschke at users.berlios.de>
+ * @author      Boris Ruf <bruf at users.berlios.de>
+ * @package		phpmediadb
+ * @subpackage	business
+ * @version     $Revision$
+ */
 
 /**
  * This is the class that manages all functions of the audios

Index: class.phpmediadb_business_categories.php
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.business/class.phpmediadb_business_categories.php,v
retrieving revision 1.10
retrieving revision 1.11
diff -u -d -r1.10 -r1.11
--- class.phpmediadb_business_categories.php	20 Apr 2005 20:08:47 -0000	1.10
+++ class.phpmediadb_business_categories.php	20 Apr 2005 21:45:25 -0000	1.11
@@ -1,6 +1,40 @@
 <?php
-// phpMediaDB :: Licensed under GNU-GPL :: http://phpmediadb.berlios.de/
-/* $Id$ */
+/**
+ * $Id$
+ *
+ * Project:     phpMediaDB :: OpenSource Mediadatabase
+ * File:        class.phpmediadb_business_categories.php
+ * License:     GNU General Publice License
+ *
+ * This file is part of phpMediaDB.
+ *
+ * phpMediaDB is free software; you can redistribute it and/or modify
+ * it under the terms of the GNU General Public License as published by
+ * the Free Software Foundation; either version 2 of the License, or
+ * (at your option) any later version.
+ *
+ * Foobar is distributed in the hope that it will be useful,
+ * but WITHOUT ANY WARRANTY; without even the implied warranty of
+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+ * GNU General Public License for more details.
+ *
+ * You should have received a copy of the GNU General Public License
+ * along with Foobar; if not, write to the Free Software
+ * Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA
+ *
+ * For questions, help, comments, discussion, etc., please join the
+ * phpMediaDB mailing list. See phpMediaDB projectportal for more
+ * information.
+ *
+ * @link        http://phpmediadb.berlios.de/
+ * @copyright   2004-2005 &copy; Blaschke, Markus; Ruf, Boris
+ * @license     http://opensource.org/licenses/gpl-license.php GNU General Public License
+ * @author      Markus Blaschke <mblaschke at users.berlios.de>
+ * @author      Boris Ruf <bruf at users.berlios.de>
+ * @package		phpmediadb
+ * @subpackage	business
+ * @version     $Revision$
+ */
 
 /**
  * This is the class that manages all functions of the categories

Index: class.phpmediadb_business_codecs.php
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.business/class.phpmediadb_business_codecs.php,v
retrieving revision 1.8
retrieving revision 1.9
diff -u -d -r1.8 -r1.9
--- class.phpmediadb_business_codecs.php	20 Apr 2005 20:09:00 -0000	1.8
+++ class.phpmediadb_business_codecs.php	20 Apr 2005 21:45:25 -0000	1.9
@@ -1,6 +1,40 @@
 <?php
-// phpMediaDB :: Licensed under GNU-GPL :: http://phpmediadb.berlios.de/
-/* $Id$ */
+/**
+ * $Id$
+ *
+ * Project:     phpMediaDB :: OpenSource Mediadatabase
+ * File:        class.phpmediadb_business_codecs.php
+ * License:     GNU General Publice License
+ *
+ * This file is part of phpMediaDB.
+ *
+ * phpMediaDB is free software; you can redistribute it and/or modify
+ * it under the terms of the GNU General Public License as published by
+ * the Free Software Foundation; either version 2 of the License, or
+ * (at your option) any later version.
+ *
+ * Foobar is distributed in the hope that it will be useful,
+ * but WITHOUT ANY WARRANTY; without even the implied warranty of
+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+ * GNU General Public License for more details.
+ *
+ * You should have received a copy of the GNU General Public License
+ * along with Foobar; if not, write to the Free Software
+ * Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA
+ *
+ * For questions, help, comments, discussion, etc., please join the
+ * phpMediaDB mailing list. See phpMediaDB projectportal for more
+ * information.
+ *
+ * @link        http://phpmediadb.berlios.de/
+ * @copyright   2004-2005 &copy; Blaschke, Markus; Ruf, Boris
+ * @license     http://opensource.org/licenses/gpl-license.php GNU General Public License
+ * @author      Markus Blaschke <mblaschke at users.berlios.de>
+ * @author      Boris Ruf <bruf at users.berlios.de>
+ * @package		phpmediadb
+ * @subpackage	business
+ * @version     $Revision$
+ */
 
 /**
  * This is the class that manages all functions of the codecs

Index: class.phpmediadb_business_formats.php
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.business/class.phpmediadb_business_formats.php,v
retrieving revision 1.8
retrieving revision 1.9
diff -u -d -r1.8 -r1.9
--- class.phpmediadb_business_formats.php	20 Apr 2005 20:09:31 -0000	1.8
+++ class.phpmediadb_business_formats.php	20 Apr 2005 21:45:25 -0000	1.9
@@ -1,6 +1,40 @@
 <?php
-// phpMediaDB :: Licensed under GNU-GPL :: http://phpmediadb.berlios.de/
-/* $Id$ */
+/**
+ * $Id$
+ *
+ * Project:     phpMediaDB :: OpenSource Mediadatabase
+ * File:        class.phpmediadb_business_formats.php
+ * License:     GNU General Publice License
+ *
+ * This file is part of phpMediaDB.
+ *
+ * phpMediaDB is free software; you can redistribute it and/or modify
+ * it under the terms of the GNU General Public License as published by
+ * the Free Software Foundation; either version 2 of the License, or
+ * (at your option) any later version.
+ *
+ * Foobar is distributed in the hope that it will be useful,
+ * but WITHOUT ANY WARRANTY; without even the implied warranty of
+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+ * GNU General Public License for more details.
+ *
+ * You should have received a copy of the GNU General Public License
+ * along with Foobar; if not, write to the Free Software
+ * Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA
+ *
+ * For questions, help, comments, discussion, etc., please join the
+ * phpMediaDB mailing list. See phpMediaDB projectportal for more
+ * information.
+ *
+ * @link        http://phpmediadb.berlios.de/
+ * @copyright   2004-2005 &copy; Blaschke, Markus; Ruf, Boris
+ * @license     http://opensource.org/licenses/gpl-license.php GNU General Public License
+ * @author      Markus Blaschke <mblaschke at users.berlios.de>
+ * @author      Boris Ruf <bruf at users.berlios.de>
+ * @package		phpmediadb
+ * @subpackage	business
+ * @version     $Revision$
+ */
 
 /**
  * This is the class that manages all functions of the formats

Index: class.phpmediadb_business_inspector.php
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.business/class.phpmediadb_business_inspector.php,v
retrieving revision 1.6
retrieving revision 1.7
diff -u -d -r1.6 -r1.7
--- class.phpmediadb_business_inspector.php	31 Mar 2005 16:26:36 -0000	1.6
+++ class.phpmediadb_business_inspector.php	20 Apr 2005 21:45:25 -0000	1.7
@@ -1,7 +1,40 @@
 <?php
-// phpMediaDB :: Licensed under GNU-GPL :: http://phpmediadb.berlios.de/
-/* $Id$ */
-
+/**
+ * $Id$
+ *
+ * Project:     phpMediaDB :: OpenSource Mediadatabase
+ * File:        class.phpmediadb_business_inspector.php
+ * License:     GNU General Publice License
+ *
+ * This file is part of phpMediaDB.
+ *
+ * phpMediaDB is free software; you can redistribute it and/or modify
+ * it under the terms of the GNU General Public License as published by
+ * the Free Software Foundation; either version 2 of the License, or
+ * (at your option) any later version.
+ *
+ * Foobar is distributed in the hope that it will be useful,
+ * but WITHOUT ANY WARRANTY; without even the implied warranty of
+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+ * GNU General Public License for more details.
+ *
+ * You should have received a copy of the GNU General Public License
+ * along with Foobar; if not, write to the Free Software
+ * Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA
+ *
+ * For questions, help, comments, discussion, etc., please join the
+ * phpMediaDB mailing list. See phpMediaDB projectportal for more
+ * information.
+ *
+ * @link        http://phpmediadb.berlios.de/
+ * @copyright   2004-2005 &copy; Blaschke, Markus; Ruf, Boris
+ * @license     http://opensource.org/licenses/gpl-license.php GNU General Public License
+ * @author      Markus Blaschke <mblaschke at users.berlios.de>
+ * @author      Boris Ruf <bruf at users.berlios.de>
+ * @package		phpmediadb
+ * @subpackage	business
+ * @version     $Revision$
+ */
 /**
  * This is the class that manages all inspector functions like datavalidation
  *

Index: class.phpmediadb_business_items.php
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.business/class.phpmediadb_business_items.php,v
retrieving revision 1.2
retrieving revision 1.3
diff -u -d -r1.2 -r1.3
--- class.phpmediadb_business_items.php	13 Apr 2005 15:02:24 -0000	1.2
+++ class.phpmediadb_business_items.php	20 Apr 2005 21:45:25 -0000	1.3
@@ -1,6 +1,40 @@
 <?php
-// phpMediaDB :: Licensed under GNU-GPL :: http://phpmediadb.berlios.de/
-/* $Id$ */
+/**
+ * $Id$
+ *
+ * Project:     phpMediaDB :: OpenSource Mediadatabase
+ * File:        class.phpmediadb_business_items.php
+ * License:     GNU General Publice License
+ *
+ * This file is part of phpMediaDB.
+ *
+ * phpMediaDB is free software; you can redistribute it and/or modify
+ * it under the terms of the GNU General Public License as published by
+ * the Free Software Foundation; either version 2 of the License, or
+ * (at your option) any later version.
+ *
+ * Foobar is distributed in the hope that it will be useful,
+ * but WITHOUT ANY WARRANTY; without even the implied warranty of
+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+ * GNU General Public License for more details.
+ *
+ * You should have received a copy of the GNU General Public License
+ * along with Foobar; if not, write to the Free Software
+ * Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA
+ *
+ * For questions, help, comments, discussion, etc., please join the
+ * phpMediaDB mailing list. See phpMediaDB projectportal for more
+ * information.
+ *
+ * @link        http://phpmediadb.berlios.de/
+ * @copyright   2004-2005 &copy; Blaschke, Markus; Ruf, Boris
+ * @license     http://opensource.org/licenses/gpl-license.php GNU General Public License
+ * @author      Markus Blaschke <mblaschke at users.berlios.de>
+ * @author      Boris Ruf <bruf at users.berlios.de>
+ * @package		phpmediadb
+ * @subpackage	business
+ * @version     $Revision$
+ */
 
 /**
  * This is the class that manages all database activities for the items

Index: class.phpmediadb_business.php
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.business/class.phpmediadb_business.php,v
retrieving revision 1.12
retrieving revision 1.13
diff -u -d -r1.12 -r1.13
--- class.phpmediadb_business.php	20 Apr 2005 20:12:27 -0000	1.12
+++ class.phpmediadb_business.php	20 Apr 2005 21:45:25 -0000	1.13
@@ -1,6 +1,40 @@
 <?php
-// phpMediaDB :: Licensed under GNU-GPL :: http://phpmediadb.berlios.de/
-/* $Id$ */
+/**
+ * $Id$
+ *
+ * Project:     phpMediaDB :: OpenSource Mediadatabase
+ * File:        class.phpmediadb_business.php
+ * License:     GNU General Publice License
+ *
+ * This file is part of phpMediaDB.
+ *
+ * phpMediaDB is free software; you can redistribute it and/or modify
+ * it under the terms of the GNU General Public License as published by
+ * the Free Software Foundation; either version 2 of the License, or
+ * (at your option) any later version.
+ *
+ * Foobar is distributed in the hope that it will be useful,
+ * but WITHOUT ANY WARRANTY; without even the implied warranty of
+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+ * GNU General Public License for more details.
+ *
+ * You should have received a copy of the GNU General Public License
+ * along with Foobar; if not, write to the Free Software
+ * Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA
+ *
+ * For questions, help, comments, discussion, etc., please join the
+ * phpMediaDB mailing list. See phpMediaDB projectportal for more
+ * information.
+ *
+ * @link        http://phpmediadb.berlios.de/
+ * @copyright   2004-2005 &copy; Blaschke, Markus; Ruf, Boris
+ * @license     http://opensource.org/licenses/gpl-license.php GNU General Public License
+ * @author      Markus Blaschke <mblaschke at users.berlios.de>
+ * @author      Boris Ruf <bruf at users.berlios.de>
+ * @package		phpmediadb
+ * @subpackage	business
+ * @version     $Revision$
+ */
 
 /**
  * This class contains all subclasses of the TIER.BUSINESS and the configuration

Index: class.phpmediadb_business_prints.php
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.business/class.phpmediadb_business_prints.php,v
retrieving revision 1.7
retrieving revision 1.8
diff -u -d -r1.7 -r1.8
--- class.phpmediadb_business_prints.php	20 Apr 2005 20:09:40 -0000	1.7
+++ class.phpmediadb_business_prints.php	20 Apr 2005 21:45:25 -0000	1.8
@@ -1,6 +1,40 @@
 <?php
-// phpMediaDB :: Licensed under GNU-GPL :: http://phpmediadb.berlios.de/
-/* $Id$ */
+/**
+ * $Id$
+ *
+ * Project:     phpMediaDB :: OpenSource Mediadatabase
+ * File:        class.phpmediadb_business_prints.php
+ * License:     GNU General Publice License
+ *
+ * This file is part of phpMediaDB.
+ *
+ * phpMediaDB is free software; you can redistribute it and/or modify
+ * it under the terms of the GNU General Public License as published by
+ * the Free Software Foundation; either version 2 of the License, or
+ * (at your option) any later version.
+ *
+ * Foobar is distributed in the hope that it will be useful,
+ * but WITHOUT ANY WARRANTY; without even the implied warranty of
+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+ * GNU General Public License for more details.
+ *
+ * You should have received a copy of the GNU General Public License
+ * along with Foobar; if not, write to the Free Software
+ * Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA
+ *
+ * For questions, help, comments, discussion, etc., please join the
+ * phpMediaDB mailing list. See phpMediaDB projectportal for more
+ * information.
+ *
+ * @link        http://phpmediadb.berlios.de/
+ * @copyright   2004-2005 &copy; Blaschke, Markus; Ruf, Boris
+ * @license     http://opensource.org/licenses/gpl-license.php GNU General Public License
+ * @author      Markus Blaschke <mblaschke at users.berlios.de>
+ * @author      Boris Ruf <bruf at users.berlios.de>
+ * @package		phpmediadb
+ * @subpackage	business
+ * @version     $Revision$
+ */
 
 /**
  * This is the class that manages all functions of the prints

Index: class.phpmediadb_business_videos.php
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.business/class.phpmediadb_business_videos.php,v
retrieving revision 1.7
retrieving revision 1.8
diff -u -d -r1.7 -r1.8
--- class.phpmediadb_business_videos.php	20 Apr 2005 20:09:50 -0000	1.7
+++ class.phpmediadb_business_videos.php	20 Apr 2005 21:45:25 -0000	1.8
@@ -1,6 +1,40 @@
 <?php
-// phpMediaDB :: Licensed under GNU-GPL :: http://phpmediadb.berlios.de/
-/* $Id$ */
+/**
+ * $Id$
+ *
+ * Project:     phpMediaDB :: OpenSource Mediadatabase
+ * File:        class.phpmediadb_business_videos.php
+ * License:     GNU General Publice License
+ *
+ * This file is part of phpMediaDB.
+ *
+ * phpMediaDB is free software; you can redistribute it and/or modify
+ * it under the terms of the GNU General Public License as published by
+ * the Free Software Foundation; either version 2 of the License, or
+ * (at your option) any later version.
+ *
+ * Foobar is distributed in the hope that it will be useful,
+ * but WITHOUT ANY WARRANTY; without even the implied warranty of
+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+ * GNU General Public License for more details.
+ *
+ * You should have received a copy of the GNU General Public License
+ * along with Foobar; if not, write to the Free Software
+ * Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA
+ *
+ * For questions, help, comments, discussion, etc., please join the
+ * phpMediaDB mailing list. See phpMediaDB projectportal for more
+ * information.
+ *
+ * @link        http://phpmediadb.berlios.de/
+ * @copyright   2004-2005 &copy; Blaschke, Markus; Ruf, Boris
+ * @license     http://opensource.org/licenses/gpl-license.php GNU General Public License
+ * @author      Markus Blaschke <mblaschke at users.berlios.de>
+ * @author      Boris Ruf <bruf at users.berlios.de>
+ * @package		phpmediadb
+ * @subpackage	business
+ * @version     $Revision$
+ */
 
 /**
  * This is the class that manages all functions of the videos



From nobody at sheep.berlios.de  Wed Apr 20 23:45:40 2005
From: nobody at sheep.berlios.de (mblaschke)
Date: Wed, 20 Apr 2005 23:45:40 +0200
Subject: [phpmediadb-cvs] phpmediadb-cvs/_source/tier.configuration config.business.php,1.10,1.11 config.data.php,1.7,1.8 config.postinit.php,1.3,1.4 config.preinit.php,1.3,1.4 config.presentation.php,1.8,1.9
Message-ID: <200504202145.j3KLjem20968@bat.berlios.de>

Update of /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.configuration
In directory sheep:/tmp/cvs-serv8062/_source/tier.configuration

Modified Files:
	config.business.php config.data.php config.postinit.php 
	config.preinit.php config.presentation.php 
Log Message:
* Changed Filecomment; included GPL-comment

Index: config.business.php
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.configuration/config.business.php,v
retrieving revision 1.10
retrieving revision 1.11
diff -u -d -r1.10 -r1.11
--- config.business.php	20 Apr 2005 20:13:05 -0000	1.10
+++ config.business.php	20 Apr 2005 21:45:38 -0000	1.11
@@ -1,13 +1,39 @@
 <?php
-// phpMediaDB :: Licensed under GNU-GPL :: http://phpmediadb.berlios.de/
-/* $Id $ */
 /**
- * This file stores all configurations in tier.business
+ * $Id$
  *
- * @author		Markus Blaschke <mblaschke at users.berlios.de>
- * @version		$Revision$
+ * Project:     phpMediaDB :: OpenSource Mediadatabase
+ * File:        config.business.php
+ * License:     GNU General Publice License
+ *
+ * This file is part of phpMediaDB.
+ *
+ * phpMediaDB is free software; you can redistribute it and/or modify
+ * it under the terms of the GNU General Public License as published by
+ * the Free Software Foundation; either version 2 of the License, or
+ * (at your option) any later version.
+ *
+ * Foobar is distributed in the hope that it will be useful,
+ * but WITHOUT ANY WARRANTY; without even the implied warranty of
+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+ * GNU General Public License for more details.
+ *
+ * You should have received a copy of the GNU General Public License
+ * along with Foobar; if not, write to the Free Software
+ * Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA
+ *
+ * For questions, help, comments, discussion, etc., please join the
+ * phpMediaDB mailing list. See phpMediaDB projectportal for more
+ * information.
+ *
+ * @link        http://phpmediadb.berlios.de/
+ * @copyright   2004-2005 &copy; Blaschke, Markus; Ruf, Boris
+ * @license     http://opensource.org/licenses/gpl-license.php GNU General Public License
+ * @author      Markus Blaschke <mblaschke at users.berlios.de>
+ * @author      Boris Ruf <bruf at users.berlios.de>
  * @package		phpmediadb
  * @subpackage	configuration
+ * @version     $Revision$
  */
  
 // $phpMediaDbConfig['BUSINESS']['example-config'] = "abc";

Index: config.data.php
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.configuration/config.data.php,v
retrieving revision 1.7
retrieving revision 1.8
diff -u -d -r1.7 -r1.8
--- config.data.php	6 Apr 2005 13:59:09 -0000	1.7
+++ config.data.php	20 Apr 2005 21:45:38 -0000	1.8
@@ -1,13 +1,39 @@
 <?php
-// phpMediaDB :: Licensed under GNU-GPL :: http://phpmediadb.berlios.de/
-/* $Id $ */
 /**
- * This file stores all configurations in tier.data
+ * $Id$
  *
- * @author		Markus Blaschke <mblaschke at users.berlios.de>
- * @version		$Revision$
+ * Project:     phpMediaDB :: OpenSource Mediadatabase
+ * File:        config.data.php
+ * License:     GNU General Publice License
+ *
+ * This file is part of phpMediaDB.
+ *
+ * phpMediaDB is free software; you can redistribute it and/or modify
+ * it under the terms of the GNU General Public License as published by
+ * the Free Software Foundation; either version 2 of the License, or
+ * (at your option) any later version.
+ *
+ * Foobar is distributed in the hope that it will be useful,
+ * but WITHOUT ANY WARRANTY; without even the implied warranty of
+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+ * GNU General Public License for more details.
+ *
+ * You should have received a copy of the GNU General Public License
+ * along with Foobar; if not, write to the Free Software
+ * Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA
+ *
+ * For questions, help, comments, discussion, etc., please join the
+ * phpMediaDB mailing list. See phpMediaDB projectportal for more
+ * information.
+ *
+ * @link        http://phpmediadb.berlios.de/
+ * @copyright   2004-2005 &copy; Blaschke, Markus; Ruf, Boris
+ * @license     http://opensource.org/licenses/gpl-license.php GNU General Public License
+ * @author      Markus Blaschke <mblaschke at users.berlios.de>
+ * @author      Boris Ruf <bruf at users.berlios.de>
  * @package		phpmediadb
  * @subpackage	configuration
+ * @version     $Revision$
  */
 // $phpMediaDbConfig['DATA']['example-config'] = "abc";
 

Index: config.postinit.php
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.configuration/config.postinit.php,v
retrieving revision 1.3
retrieving revision 1.4
diff -u -d -r1.3 -r1.4
--- config.postinit.php	24 Mar 2005 17:12:56 -0000	1.3
+++ config.postinit.php	20 Apr 2005 21:45:38 -0000	1.4
@@ -1,13 +1,39 @@
 <?php
-// phpMediaDB :: Licensed under GNU-GPL :: http://phpmediadb.berlios.de/
-/* $Id $ */
 /**
- * This file is used for init-functions after deklaration of the classes
+ * $Id$
  *
- * @author		Markus Blaschke <mblaschke at users.berlios.de>
- * @version		$Revision$
+ * Project:     phpMediaDB :: OpenSource Mediadatabase
+ * File:        config.postinit.php
+ * License:     GNU General Publice License
+ *
+ * This file is part of phpMediaDB.
+ *
+ * phpMediaDB is free software; you can redistribute it and/or modify
+ * it under the terms of the GNU General Public License as published by
+ * the Free Software Foundation; either version 2 of the License, or
+ * (at your option) any later version.
+ *
+ * Foobar is distributed in the hope that it will be useful,
+ * but WITHOUT ANY WARRANTY; without even the implied warranty of
+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+ * GNU General Public License for more details.
+ *
+ * You should have received a copy of the GNU General Public License
+ * along with Foobar; if not, write to the Free Software
+ * Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA
+ *
+ * For questions, help, comments, discussion, etc., please join the
+ * phpMediaDB mailing list. See phpMediaDB projectportal for more
+ * information.
+ *
+ * @link        http://phpmediadb.berlios.de/
+ * @copyright   2004-2005 &copy; Blaschke, Markus; Ruf, Boris
+ * @license     http://opensource.org/licenses/gpl-license.php GNU General Public License
+ * @author      Markus Blaschke <mblaschke at users.berlios.de>
+ * @author      Boris Ruf <bruf at users.berlios.de>
  * @package		phpmediadb
  * @subpackage	configuration
+ * @version     $Revision$
  */
 
 

Index: config.preinit.php
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.configuration/config.preinit.php,v
retrieving revision 1.3
retrieving revision 1.4
diff -u -d -r1.3 -r1.4
--- config.preinit.php	24 Mar 2005 17:12:56 -0000	1.3
+++ config.preinit.php	20 Apr 2005 21:45:38 -0000	1.4
@@ -1,13 +1,39 @@
 <?php
-// phpMediaDB :: Licensed under GNU-GPL :: http://phpmediadb.berlios.de/
-/* $Id $ */
 /**
- * This file is used for init-functions before deklaration of the classes
+ * $Id$
  *
- * @author		Markus Blaschke <mblaschke at users.berlios.de>
- * @version		$Revision$
+ * Project:     phpMediaDB :: OpenSource Mediadatabase
+ * File:        config.preinit.php
+ * License:     GNU General Publice License
+ *
+ * This file is part of phpMediaDB.
+ *
+ * phpMediaDB is free software; you can redistribute it and/or modify
+ * it under the terms of the GNU General Public License as published by
+ * the Free Software Foundation; either version 2 of the License, or
+ * (at your option) any later version.
+ *
+ * Foobar is distributed in the hope that it will be useful,
+ * but WITHOUT ANY WARRANTY; without even the implied warranty of
+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+ * GNU General Public License for more details.
+ *
+ * You should have received a copy of the GNU General Public License
+ * along with Foobar; if not, write to the Free Software
+ * Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA
+ *
+ * For questions, help, comments, discussion, etc., please join the
+ * phpMediaDB mailing list. See phpMediaDB projectportal for more
+ * information.
+ *
+ * @link        http://phpmediadb.berlios.de/
+ * @copyright   2004-2005 &copy; Blaschke, Markus; Ruf, Boris
+ * @license     http://opensource.org/licenses/gpl-license.php GNU General Public License
+ * @author      Markus Blaschke <mblaschke at users.berlios.de>
+ * @author      Boris Ruf <bruf at users.berlios.de>
  * @package		phpmediadb
  * @subpackage	configuration
+ * @version     $Revision$
  */
 
 /**

Index: config.presentation.php
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.configuration/config.presentation.php,v
retrieving revision 1.8
retrieving revision 1.9
diff -u -d -r1.8 -r1.9
--- config.presentation.php	20 Apr 2005 20:13:38 -0000	1.8
+++ config.presentation.php	20 Apr 2005 21:45:38 -0000	1.9
@@ -1,13 +1,39 @@
 <?php
-// phpMediaDB :: Licensed under GNU-GPL :: http://phpmediadb.berlios.de/
-/* $Id $ */
 /**
- * This file stores all configurations in tier.presentation
+ * $Id$
  *
- * @author		Markus Blaschke <mblaschke at users.berlios.de>
- * @version		$Revision$
+ * Project:     phpMediaDB :: OpenSource Mediadatabase
+ * File:        config.presentation.php
+ * License:     GNU General Publice License
+ *
+ * This file is part of phpMediaDB.
+ *
+ * phpMediaDB is free software; you can redistribute it and/or modify
+ * it under the terms of the GNU General Public License as published by
+ * the Free Software Foundation; either version 2 of the License, or
+ * (at your option) any later version.
+ *
+ * Foobar is distributed in the hope that it will be useful,
+ * but WITHOUT ANY WARRANTY; without even the implied warranty of
+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+ * GNU General Public License for more details.
+ *
+ * You should have received a copy of the GNU General Public License
+ * along with Foobar; if not, write to the Free Software
+ * Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA
+ *
+ * For questions, help, comments, discussion, etc., please join the
+ * phpMediaDB mailing list. See phpMediaDB projectportal for more
+ * information.
+ *
+ * @link        http://phpmediadb.berlios.de/
+ * @copyright   2004-2005 &copy; Blaschke, Markus; Ruf, Boris
+ * @license     http://opensource.org/licenses/gpl-license.php GNU General Public License
+ * @author      Markus Blaschke <mblaschke at users.berlios.de>
+ * @author      Boris Ruf <bruf at users.berlios.de>
  * @package		phpmediadb
  * @subpackage	configuration
+ * @version     $Revision$
  */
 // $phpMediaDbConfig['PRESENTATION']['example-config'] = "abc";
 



From nobody at sheep.berlios.de  Wed Apr 20 23:45:49 2005
From: nobody at sheep.berlios.de (mblaschke)
Date: Wed, 20 Apr 2005 23:45:49 +0200
Subject: [phpmediadb-cvs] phpmediadb-cvs/_source/tier.configuration/i18n i18n.de.php,1.8,1.9 i18n.en.php,1.5,1.6
Message-ID: <200504202145.j3KLjnm20973@bat.berlios.de>

Update of /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.configuration/i18n
In directory sheep:/tmp/cvs-serv8072/_source/tier.configuration/i18n

Modified Files:
	i18n.de.php i18n.en.php 
Log Message:
* Changed Filecomment; included GPL-comment

Index: i18n.de.php
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.configuration/i18n/i18n.de.php,v
retrieving revision 1.8
retrieving revision 1.9
diff -u -d -r1.8 -r1.9
--- i18n.de.php	16 Apr 2005 16:55:08 -0000	1.8
+++ i18n.de.php	20 Apr 2005 21:45:46 -0000	1.9
@@ -1,13 +1,39 @@
 <?php
-// phpMediaDB :: Licensed under GNU-GPL :: http://phpmediadb.berlios.de/
-/* $Id $ */
 /**
- * This file stores all i18n strings (GERMAN)
+ * $Id$
  *
- * @author		Markus Blaschke <mblaschke at users.berlios.de>
- * @version		$Revision$
+ * Project:     phpMediaDB :: OpenSource Mediadatabase
+ * File:        i18n.de.php
+ * License:     GNU General Publice License
+ *
+ * This file is part of phpMediaDB.
+ *
+ * phpMediaDB is free software; you can redistribute it and/or modify
+ * it under the terms of the GNU General Public License as published by
+ * the Free Software Foundation; either version 2 of the License, or
+ * (at your option) any later version.
+ *
+ * Foobar is distributed in the hope that it will be useful,
+ * but WITHOUT ANY WARRANTY; without even the implied warranty of
+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+ * GNU General Public License for more details.
+ *
+ * You should have received a copy of the GNU General Public License
+ * along with Foobar; if not, write to the Free Software
+ * Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA
+ *
+ * For questions, help, comments, discussion, etc., please join the
+ * phpMediaDB mailing list. See phpMediaDB projectportal for more
+ * information.
+ *
+ * @link        http://phpmediadb.berlios.de/
+ * @copyright   2004-2005 &copy; Blaschke, Markus; Ruf, Boris
+ * @license     http://opensource.org/licenses/gpl-license.php GNU General Public License
+ * @author      Markus Blaschke <mblaschke at users.berlios.de>
+ * @author      Boris Ruf <bruf at users.berlios.de>
  * @package		phpmediadb
  * @subpackage	configuration
+ * @version     $Revision$
  */
 // $i18n['STRING-ID'] = "";
 

Index: i18n.en.php
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.configuration/i18n/i18n.en.php,v
retrieving revision 1.5
retrieving revision 1.6
diff -u -d -r1.5 -r1.6
--- i18n.en.php	16 Apr 2005 16:55:29 -0000	1.5
+++ i18n.en.php	20 Apr 2005 21:45:46 -0000	1.6
@@ -1,13 +1,39 @@
 <?php
-// phpMediaDB :: Licensed under GNU-GPL :: http://phpmediadb.berlios.de/
-/* $Id $ */
 /**
- * This file stores all i18n strings (ENGLISH)
+ * $Id$
  *
- * @author		Markus Blaschke <mblaschke at users.berlios.de>
- * @version		$Revision$
+ * Project:     phpMediaDB :: OpenSource Mediadatabase
+ * File:        i18n.en.php
+ * License:     GNU General Publice License
+ *
+ * This file is part of phpMediaDB.
+ *
+ * phpMediaDB is free software; you can redistribute it and/or modify
+ * it under the terms of the GNU General Public License as published by
+ * the Free Software Foundation; either version 2 of the License, or
+ * (at your option) any later version.
+ *
+ * Foobar is distributed in the hope that it will be useful,
+ * but WITHOUT ANY WARRANTY; without even the implied warranty of
+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+ * GNU General Public License for more details.
+ *
+ * You should have received a copy of the GNU General Public License
+ * along with Foobar; if not, write to the Free Software
+ * Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA
+ *
+ * For questions, help, comments, discussion, etc., please join the
+ * phpMediaDB mailing list. See phpMediaDB projectportal for more
+ * information.
+ *
+ * @link        http://phpmediadb.berlios.de/
+ * @copyright   2004-2005 &copy; Blaschke, Markus; Ruf, Boris
+ * @license     http://opensource.org/licenses/gpl-license.php GNU General Public License
+ * @author      Markus Blaschke <mblaschke at users.berlios.de>
+ * @author      Boris Ruf <bruf at users.berlios.de>
  * @package		phpmediadb
  * @subpackage	configuration
+ * @version     $Revision$
  */
 // $i18n['STRING-ID'] = "";
 



From nobody at sheep.berlios.de  Wed Apr 20 23:46:09 2005
From: nobody at sheep.berlios.de (mblaschke)
Date: Wed, 20 Apr 2005 23:46:09 +0200
Subject: [phpmediadb-cvs] phpmediadb-cvs/_source/tier.global class.phpmediadb_exception.php,1.6,1.7 class.phpmediadb.php,1.6,1.7 constants.phpmediadb.php,1.6,1.7
Message-ID: <200504202146.j3KLk9m20987@bat.berlios.de>

Update of /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.global
In directory sheep:/tmp/cvs-serv8119/_source/tier.global

Modified Files:
	class.phpmediadb_exception.php class.phpmediadb.php 
	constants.phpmediadb.php 
Log Message:
* Changed Filecomment; included GPL-comment

Index: class.phpmediadb_exception.php
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.global/class.phpmediadb_exception.php,v
retrieving revision 1.6
retrieving revision 1.7
diff -u -d -r1.6 -r1.7
--- class.phpmediadb_exception.php	12 Apr 2005 20:49:19 -0000	1.6
+++ class.phpmediadb_exception.php	20 Apr 2005 21:46:07 -0000	1.7
@@ -1,6 +1,40 @@
 <?php
-// phpMediaDB :: Licensed under GNU-GPL :: http://phpmediadb.berlios.de/
-/* $Id$ */
+/**
+ * $Id$
+ *
+ * Project:     phpMediaDB :: OpenSource Mediadatabase
+ * File:        class.phpmediadb_exception.php
+ * License:     GNU General Publice License
+ *
+ * This file is part of phpMediaDB.
+ *
+ * phpMediaDB is free software; you can redistribute it and/or modify
+ * it under the terms of the GNU General Public License as published by
+ * the Free Software Foundation; either version 2 of the License, or
+ * (at your option) any later version.
+ *
+ * Foobar is distributed in the hope that it will be useful,
+ * but WITHOUT ANY WARRANTY; without even the implied warranty of
+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+ * GNU General Public License for more details.
+ *
+ * You should have received a copy of the GNU General Public License
+ * along with Foobar; if not, write to the Free Software
+ * Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA
+ *
+ * For questions, help, comments, discussion, etc., please join the
+ * phpMediaDB mailing list. See phpMediaDB projectportal for more
+ * information.
+ *
+ * @link        http://phpmediadb.berlios.de/
+ * @copyright   2004-2005 &copy; Blaschke, Markus; Ruf, Boris
+ * @license     http://opensource.org/licenses/gpl-license.php GNU General Public License
+ * @author      Markus Blaschke <mblaschke at users.berlios.de>
+ * @author      Boris Ruf <bruf at users.berlios.de>
+ * @package		phpmediadb
+ * @subpackage	global
+ * @version     $Revision$
+ */
 
 /**
  * This is the class that manages the exceptions.

Index: class.phpmediadb.php
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.global/class.phpmediadb.php,v
retrieving revision 1.6
retrieving revision 1.7
diff -u -d -r1.6 -r1.7
--- class.phpmediadb.php	27 Mar 2005 00:40:27 -0000	1.6
+++ class.phpmediadb.php	20 Apr 2005 21:46:07 -0000	1.7
@@ -1,6 +1,40 @@
 <?php
-// phpMediaDB :: Licensed under GNU-GPL :: http://phpmediadb.berlios.de/
-/* $Id$ */
+/**
+ * $Id$
+ *
+ * Project:     phpMediaDB :: OpenSource Mediadatabase
+ * File:        class.phpmediadb.php
+ * License:     GNU General Publice License
+ *
+ * This file is part of phpMediaDB.
+ *
+ * phpMediaDB is free software; you can redistribute it and/or modify
+ * it under the terms of the GNU General Public License as published by
+ * the Free Software Foundation; either version 2 of the License, or
+ * (at your option) any later version.
+ *
+ * Foobar is distributed in the hope that it will be useful,
+ * but WITHOUT ANY WARRANTY; without even the implied warranty of
+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+ * GNU General Public License for more details.
+ *
+ * You should have received a copy of the GNU General Public License
+ * along with Foobar; if not, write to the Free Software
+ * Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA
+ *
+ * For questions, help, comments, discussion, etc., please join the
+ * phpMediaDB mailing list. See phpMediaDB projectportal for more
+ * information.
+ *
+ * @link        http://phpmediadb.berlios.de/
+ * @copyright   2004-2005 &copy; Blaschke, Markus; Ruf, Boris
+ * @license     http://opensource.org/licenses/gpl-license.php GNU General Public License
+ * @author      Markus Blaschke <mblaschke at users.berlios.de>
+ * @author      Boris Ruf <bruf at users.berlios.de>
+ * @package		phpmediadb
+ * @subpackage	global
+ * @version     $Revision$
+ */
 
 /**
  * This is the class that manages the whole tiers.

Index: constants.phpmediadb.php
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.global/constants.phpmediadb.php,v
retrieving revision 1.6
retrieving revision 1.7
diff -u -d -r1.6 -r1.7
--- constants.phpmediadb.php	9 Apr 2005 15:43:24 -0000	1.6
+++ constants.phpmediadb.php	20 Apr 2005 21:46:07 -0000	1.7
@@ -1,6 +1,41 @@
 <?php
-// phpMediaDB :: Licensed under GNU-GPL :: http://phpmediadb.berlios.de/
-/* $Id$ */
+/**
+ * $Id$
+ *
+ * Project:     phpMediaDB :: OpenSource Mediadatabase
+ * File:        constants.phpmediadb.php
+ * License:     GNU General Publice License
+ *
+ * This file is part of phpMediaDB.
+ *
+ * phpMediaDB is free software; you can redistribute it and/or modify
+ * it under the terms of the GNU General Public License as published by
+ * the Free Software Foundation; either version 2 of the License, or
+ * (at your option) any later version.
+ *
+ * Foobar is distributed in the hope that it will be useful,
+ * but WITHOUT ANY WARRANTY; without even the implied warranty of
+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+ * GNU General Public License for more details.
+ *
+ * You should have received a copy of the GNU General Public License
+ * along with Foobar; if not, write to the Free Software
+ * Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA
+ *
+ * For questions, help, comments, discussion, etc., please join the
+ * phpMediaDB mailing list. See phpMediaDB projectportal for more
+ * information.
+ *
+ * @link        http://phpmediadb.berlios.de/
+ * @copyright   2004-2005 &copy; Blaschke, Markus; Ruf, Boris
+ * @license     http://opensource.org/licenses/gpl-license.php GNU General Public License
+ * @author      Markus Blaschke <mblaschke at users.berlios.de>
+ * @author      Boris Ruf <bruf at users.berlios.de>
+ * @package		phpmediadb
+ * @subpackage	global
+ * @version     $Revision$
+ */
+ 
 /**
  * This files handels all contants
  * 



From nobody at sheep.berlios.de  Wed Apr 20 23:46:19 2005
From: nobody at sheep.berlios.de (mblaschke)
Date: Wed, 20 Apr 2005 23:46:19 +0200
Subject: [phpmediadb-cvs] phpmediadb-cvs/_source/tier.presentation class.phpmediadb_presentation_contentvars.php,1.10,1.11 class.phpmediadb_presentation_htmlservice.php,1.10,1.11 class.phpmediadb_presentation_i18n.php,1.11,1.12 class.phpmediadb_presentation.php,1.8,1.9 class.phpmediadb_presentation_session.php,1.6,1.7 class.phpmediadb_presentation_xmlservice.php,1.5,1.6
Message-ID: <200504202146.j3KLkJm20992@bat.berlios.de>

Update of /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.presentation
In directory sheep:/tmp/cvs-serv8131/_source/tier.presentation

Modified Files:
	class.phpmediadb_presentation_contentvars.php 
	class.phpmediadb_presentation_htmlservice.php 
	class.phpmediadb_presentation_i18n.php 
	class.phpmediadb_presentation.php 
	class.phpmediadb_presentation_session.php 
	class.phpmediadb_presentation_xmlservice.php 
Log Message:
* Changed Filecomment; included GPL-comment

Index: class.phpmediadb_presentation_contentvars.php
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.presentation/class.phpmediadb_presentation_contentvars.php,v
retrieving revision 1.10
retrieving revision 1.11
diff -u -d -r1.10 -r1.11
--- class.phpmediadb_presentation_contentvars.php	24 Mar 2005 17:12:36 -0000	1.10
+++ class.phpmediadb_presentation_contentvars.php	20 Apr 2005 21:46:16 -0000	1.11
@@ -1,6 +1,40 @@
 <?php
-// phpMediaDB :: Licensed under GNU-GPL :: http://phpmediadb.berlios.de/
-/* $Id$ */
+/**
+ * $Id$
+ *
+ * Project:     phpMediaDB :: OpenSource Mediadatabase
+ * File:        class.phpmediadb_presentation_contentvars.php
+ * License:     GNU General Publice License
+ *
+ * This file is part of phpMediaDB.
+ *
+ * phpMediaDB is free software; you can redistribute it and/or modify
+ * it under the terms of the GNU General Public License as published by
+ * the Free Software Foundation; either version 2 of the License, or
+ * (at your option) any later version.
+ *
+ * Foobar is distributed in the hope that it will be useful,
+ * but WITHOUT ANY WARRANTY; without even the implied warranty of
+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+ * GNU General Public License for more details.
+ *
+ * You should have received a copy of the GNU General Public License
+ * along with Foobar; if not, write to the Free Software
+ * Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA
+ *
+ * For questions, help, comments, discussion, etc., please join the
+ * phpMediaDB mailing list. See phpMediaDB projectportal for more
+ * information.
+ *
+ * @link        http://phpmediadb.berlios.de/
+ * @copyright   2004-2005 &copy; Blaschke, Markus; Ruf, Boris
+ * @license     http://opensource.org/licenses/gpl-license.php GNU General Public License
+ * @author      Markus Blaschke <mblaschke at users.berlios.de>
+ * @author      Boris Ruf <bruf at users.berlios.de>
+ * @package		phpmediadb
+ * @subpackage	presentation
+ * @version     $Revision$
+ */
 
 /**
  * This is the class that manages all template/content-variables of the tier.presentation

Index: class.phpmediadb_presentation_htmlservice.php
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.presentation/class.phpmediadb_presentation_htmlservice.php,v
retrieving revision 1.10
retrieving revision 1.11
diff -u -d -r1.10 -r1.11
--- class.phpmediadb_presentation_htmlservice.php	24 Mar 2005 17:12:36 -0000	1.10
+++ class.phpmediadb_presentation_htmlservice.php	20 Apr 2005 21:46:16 -0000	1.11
@@ -1,6 +1,40 @@
 <?php
-// phpMediaDB :: Licensed under GNU-GPL :: http://phpmediadb.berlios.de/
-/* $Id$ */
+/**
+ * $Id$
+ *
+ * Project:     phpMediaDB :: OpenSource Mediadatabase
+ * File:        class.phpmediadb_presentation_htmlservice.php
+ * License:     GNU General Publice License
+ *
+ * This file is part of phpMediaDB.
+ *
+ * phpMediaDB is free software; you can redistribute it and/or modify
+ * it under the terms of the GNU General Public License as published by
+ * the Free Software Foundation; either version 2 of the License, or
+ * (at your option) any later version.
+ *
+ * Foobar is distributed in the hope that it will be useful,
+ * but WITHOUT ANY WARRANTY; without even the implied warranty of
+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+ * GNU General Public License for more details.
+ *
+ * You should have received a copy of the GNU General Public License
+ * along with Foobar; if not, write to the Free Software
+ * Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA
+ *
+ * For questions, help, comments, discussion, etc., please join the
+ * phpMediaDB mailing list. See phpMediaDB projectportal for more
+ * information.
+ *
+ * @link        http://phpmediadb.berlios.de/
+ * @copyright   2004-2005 &copy; Blaschke, Markus; Ruf, Boris
+ * @license     http://opensource.org/licenses/gpl-license.php GNU General Public License
+ * @author      Markus Blaschke <mblaschke at users.berlios.de>
+ * @author      Boris Ruf <bruf at users.berlios.de>
+ * @package		phpmediadb
+ * @subpackage	presentation
+ * @version     $Revision$
+ */
 
 /**
  * This is the class that manages all html-serivces like template-compilation

Index: class.phpmediadb_presentation_i18n.php
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.presentation/class.phpmediadb_presentation_i18n.php,v
retrieving revision 1.11
retrieving revision 1.12
diff -u -d -r1.11 -r1.12
--- class.phpmediadb_presentation_i18n.php	31 Mar 2005 16:28:22 -0000	1.11
+++ class.phpmediadb_presentation_i18n.php	20 Apr 2005 21:46:16 -0000	1.12
@@ -1,6 +1,40 @@
 <?php
-// phpMediaDB :: Licensed under GNU-GPL :: http://phpmediadb.berlios.de/
-/* $Id$ */
+/**
+ * $Id$
+ *
+ * Project:     phpMediaDB :: OpenSource Mediadatabase
+ * File:        class.phpmediadb_presentation_i18n.php
+ * License:     GNU General Publice License
+ *
+ * This file is part of phpMediaDB.
+ *
+ * phpMediaDB is free software; you can redistribute it and/or modify
+ * it under the terms of the GNU General Public License as published by
+ * the Free Software Foundation; either version 2 of the License, or
+ * (at your option) any later version.
+ *
+ * Foobar is distributed in the hope that it will be useful,
+ * but WITHOUT ANY WARRANTY; without even the implied warranty of
+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+ * GNU General Public License for more details.
+ *
+ * You should have received a copy of the GNU General Public License
+ * along with Foobar; if not, write to the Free Software
+ * Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA
+ *
+ * For questions, help, comments, discussion, etc., please join the
+ * phpMediaDB mailing list. See phpMediaDB projectportal for more
+ * information.
+ *
+ * @link        http://phpmediadb.berlios.de/
+ * @copyright   2004-2005 &copy; Blaschke, Markus; Ruf, Boris
+ * @license     http://opensource.org/licenses/gpl-license.php GNU General Public License
+ * @author      Markus Blaschke <mblaschke at users.berlios.de>
+ * @author      Boris Ruf <bruf at users.berlios.de>
+ * @package		phpmediadb
+ * @subpackage	presentation
+ * @version     $Revision$
+ */
 
 /**
  * This is the class that manages all internationalization-functions and also contains

Index: class.phpmediadb_presentation.php
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.presentation/class.phpmediadb_presentation.php,v
retrieving revision 1.8
retrieving revision 1.9
diff -u -d -r1.8 -r1.9
--- class.phpmediadb_presentation.php	24 Mar 2005 17:12:36 -0000	1.8
+++ class.phpmediadb_presentation.php	20 Apr 2005 21:46:16 -0000	1.9
@@ -1,6 +1,40 @@
 <?php
-// phpMediaDB :: Licensed under GNU-GPL :: http://phpmediadb.berlios.de/
-/* $Id$ */
+/**
+ * $Id$
+ *
+ * Project:     phpMediaDB :: OpenSource Mediadatabase
+ * File:        class.phpmediadb_presentation.php
+ * License:     GNU General Publice License
+ *
+ * This file is part of phpMediaDB.
+ *
+ * phpMediaDB is free software; you can redistribute it and/or modify
+ * it under the terms of the GNU General Public License as published by
+ * the Free Software Foundation; either version 2 of the License, or
+ * (at your option) any later version.
+ *
+ * Foobar is distributed in the hope that it will be useful,
+ * but WITHOUT ANY WARRANTY; without even the implied warranty of
+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+ * GNU General Public License for more details.
+ *
+ * You should have received a copy of the GNU General Public License
+ * along with Foobar; if not, write to the Free Software
+ * Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA
+ *
+ * For questions, help, comments, discussion, etc., please join the
+ * phpMediaDB mailing list. See phpMediaDB projectportal for more
+ * information.
+ *
+ * @link        http://phpmediadb.berlios.de/
+ * @copyright   2004-2005 &copy; Blaschke, Markus; Ruf, Boris
+ * @license     http://opensource.org/licenses/gpl-license.php GNU General Public License
+ * @author      Markus Blaschke <mblaschke at users.berlios.de>
+ * @author      Boris Ruf <bruf at users.berlios.de>
+ * @package		phpmediadb
+ * @subpackage	presentation
+ * @version     $Revision$
+ */
 
 /**
  * This class contains all subclasses of the TIER.PRESENTATION and the configuration

Index: class.phpmediadb_presentation_session.php
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.presentation/class.phpmediadb_presentation_session.php,v
retrieving revision 1.6
retrieving revision 1.7
diff -u -d -r1.6 -r1.7
--- class.phpmediadb_presentation_session.php	24 Mar 2005 17:12:36 -0000	1.6
+++ class.phpmediadb_presentation_session.php	20 Apr 2005 21:46:16 -0000	1.7
@@ -1,6 +1,40 @@
 <?php
-// phpMediaDB :: Licensed under GNU-GPL :: http://phpmediadb.berlios.de/
-/* $Id$ */
+/**
+ * $Id$
+ *
+ * Project:     phpMediaDB :: OpenSource Mediadatabase
+ * File:        class.phpmediadb_presentation_session.php
+ * License:     GNU General Publice License
+ *
+ * This file is part of phpMediaDB.
+ *
+ * phpMediaDB is free software; you can redistribute it and/or modify
+ * it under the terms of the GNU General Public License as published by
+ * the Free Software Foundation; either version 2 of the License, or
+ * (at your option) any later version.
+ *
+ * Foobar is distributed in the hope that it will be useful,
+ * but WITHOUT ANY WARRANTY; without even the implied warranty of
+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+ * GNU General Public License for more details.
+ *
+ * You should have received a copy of the GNU General Public License
+ * along with Foobar; if not, write to the Free Software
+ * Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA
+ *
+ * For questions, help, comments, discussion, etc., please join the
+ * phpMediaDB mailing list. See phpMediaDB projectportal for more
+ * information.
+ *
+ * @link        http://phpmediadb.berlios.de/
+ * @copyright   2004-2005 &copy; Blaschke, Markus; Ruf, Boris
+ * @license     http://opensource.org/licenses/gpl-license.php GNU General Public License
+ * @author      Markus Blaschke <mblaschke at users.berlios.de>
+ * @author      Boris Ruf <bruf at users.berlios.de>
+ * @package		phpmediadb
+ * @subpackage	presentation
+ * @version     $Revision$
+ */
 
 /**
  * This is the class that manages the session-access

Index: class.phpmediadb_presentation_xmlservice.php
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.presentation/class.phpmediadb_presentation_xmlservice.php,v
retrieving revision 1.5
retrieving revision 1.6
diff -u -d -r1.5 -r1.6
--- class.phpmediadb_presentation_xmlservice.php	24 Mar 2005 17:12:36 -0000	1.5
+++ class.phpmediadb_presentation_xmlservice.php	20 Apr 2005 21:46:16 -0000	1.6
@@ -1,6 +1,41 @@
 <?php
-// phpMediaDB :: Licensed under GNU-GPL :: http://phpmediadb.berlios.de/
-/* $Id$ */
+/**
+ * $Id$
+ *
+ * Project:     phpMediaDB :: OpenSource Mediadatabase
+ * File:        class.phpmediadb_presentation_xmlservice.php
+ * License:     GNU General Publice License
+ *
+ * This file is part of phpMediaDB.
+ *
+ * phpMediaDB is free software; you can redistribute it and/or modify
+ * it under the terms of the GNU General Public License as published by
+ * the Free Software Foundation; either version 2 of the License, or
+ * (at your option) any later version.
+ *
+ * Foobar is distributed in the hope that it will be useful,
+ * but WITHOUT ANY WARRANTY; without even the implied warranty of
+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+ * GNU General Public License for more details.
+ *
+ * You should have received a copy of the GNU General Public License
+ * along with Foobar; if not, write to the Free Software
+ * Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA
+ *
+ * For questions, help, comments, discussion, etc., please join the
+ * phpMediaDB mailing list. See phpMediaDB projectportal for more
+ * information.
+ *
+ * @link        http://phpmediadb.berlios.de/
+ * @copyright   2004-2005 &copy; Blaschke, Markus; Ruf, Boris
+ * @license     http://opensource.org/licenses/gpl-license.php GNU General Public License
+ * @author      Markus Blaschke <mblaschke at users.berlios.de>
+ * @author      Boris Ruf <bruf at users.berlios.de>
+ * @package		phpmediadb
+ * @subpackage	presentation
+ * @version     $Revision$
+ */
+ 
 /**
  * This is the class that manages all xml-serivces
  * 



From nobody at sheep.berlios.de  Wed Apr 20 23:46:01 2005
From: nobody at sheep.berlios.de (mblaschke)
Date: Wed, 20 Apr 2005 23:46:01 +0200
Subject: [phpmediadb-cvs] phpmediadb-cvs/_source/tier.data class.phpmediadb_data_agerestrictions.php,1.13,1.14 class.phpmediadb_data_audios.php,1.15,1.16 class.phpmediadb_data_binarydatas.php,1.2,1.3 class.phpmediadb_data_categories.php,1.12,1.13 class.phpmediadb_data_codecs.php,1.16,1.17 class.phpmediadb_data_formats.php,1.16,1.17 class.phpmediadb_data_items.php,1.4,1.5 class.phpmediadb_data.php,1.12,1.13 class.phpmediadb_data_prints.php,1.16,1.17 class.phpmediadb_data_sql.php,1.11,1.12 class.phpmediadb_data_status.php,1.13,1.14 class.phpmediadb_data_videos.php,1.15,1.16
Message-ID: <200504202146.j3KLk1m20981@bat.berlios.de>

Update of /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.data
In directory sheep:/tmp/cvs-serv8080/_source/tier.data

Modified Files:
	class.phpmediadb_data_agerestrictions.php 
	class.phpmediadb_data_audios.php 
	class.phpmediadb_data_binarydatas.php 
	class.phpmediadb_data_categories.php 
	class.phpmediadb_data_codecs.php 
	class.phpmediadb_data_formats.php 
	class.phpmediadb_data_items.php class.phpmediadb_data.php 
	class.phpmediadb_data_prints.php class.phpmediadb_data_sql.php 
	class.phpmediadb_data_status.php 
	class.phpmediadb_data_videos.php 
Log Message:
* Changed Filecomment; included GPL-comment

Index: class.phpmediadb_data_agerestrictions.php
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.data/class.phpmediadb_data_agerestrictions.php,v
retrieving revision 1.13
retrieving revision 1.14
diff -u -d -r1.13 -r1.14
--- class.phpmediadb_data_agerestrictions.php	13 Apr 2005 11:52:08 -0000	1.13
+++ class.phpmediadb_data_agerestrictions.php	20 Apr 2005 21:45:59 -0000	1.14
@@ -1,6 +1,40 @@
 <?php
-// phpMediaDB :: Licensed under GNU-GPL :: http://phpmediadb.berlios.de/
-/* $Id$ */
+/**
+ * $Id$
+ *
+ * Project:     phpMediaDB :: OpenSource Mediadatabase
+ * File:        class.phpmediadb_data_agerestrictions.php
+ * License:     GNU General Publice License
+ *
+ * This file is part of phpMediaDB.
+ *
+ * phpMediaDB is free software; you can redistribute it and/or modify
+ * it under the terms of the GNU General Public License as published by
+ * the Free Software Foundation; either version 2 of the License, or
+ * (at your option) any later version.
+ *
+ * Foobar is distributed in the hope that it will be useful,
+ * but WITHOUT ANY WARRANTY; without even the implied warranty of
+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+ * GNU General Public License for more details.
+ *
+ * You should have received a copy of the GNU General Public License
+ * along with Foobar; if not, write to the Free Software
+ * Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA
+ *
+ * For questions, help, comments, discussion, etc., please join the
+ * phpMediaDB mailing list. See phpMediaDB projectportal for more
+ * information.
+ *
+ * @link        http://phpmediadb.berlios.de/
+ * @copyright   2004-2005 &copy; Blaschke, Markus; Ruf, Boris
+ * @license     http://opensource.org/licenses/gpl-license.php GNU General Public License
+ * @author      Markus Blaschke <mblaschke at users.berlios.de>
+ * @author      Boris Ruf <bruf at users.berlios.de>
+ * @package		phpmediadb
+ * @subpackage	data
+ * @version     $Revision$
+ */
 
 /**
  * This is the class that manages all database activities for the agerestrictions

Index: class.phpmediadb_data_audios.php
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.data/class.phpmediadb_data_audios.php,v
retrieving revision 1.15
retrieving revision 1.16
diff -u -d -r1.15 -r1.16
--- class.phpmediadb_data_audios.php	20 Apr 2005 20:14:30 -0000	1.15
+++ class.phpmediadb_data_audios.php	20 Apr 2005 21:45:59 -0000	1.16
@@ -1,7 +1,40 @@
 <?php
-// phpMediaDB :: Licensed under GNU-GPL :: http://phpmediadb.berlios.de/
-/* $Id$ */
-
+/**
+ * $Id$
+ *
+ * Project:     phpMediaDB :: OpenSource Mediadatabase
+ * File:        class.phpmediadb_data_audios.php
+ * License:     GNU General Publice License
+ *
+ * This file is part of phpMediaDB.
+ *
+ * phpMediaDB is free software; you can redistribute it and/or modify
+ * it under the terms of the GNU General Public License as published by
+ * the Free Software Foundation; either version 2 of the License, or
+ * (at your option) any later version.
+ *
+ * Foobar is distributed in the hope that it will be useful,
+ * but WITHOUT ANY WARRANTY; without even the implied warranty of
+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+ * GNU General Public License for more details.
+ *
+ * You should have received a copy of the GNU General Public License
+ * along with Foobar; if not, write to the Free Software
+ * Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA
+ *
+ * For questions, help, comments, discussion, etc., please join the
+ * phpMediaDB mailing list. See phpMediaDB projectportal for more
+ * information.
+ *
+ * @link        http://phpmediadb.berlios.de/
+ * @copyright   2004-2005 &copy; Blaschke, Markus; Ruf, Boris
+ * @license     http://opensource.org/licenses/gpl-license.php GNU General Public License
+ * @author      Markus Blaschke <mblaschke at users.berlios.de>
+ * @author      Boris Ruf <bruf at users.berlios.de>
+ * @package		phpmediadb
+ * @subpackage	data
+ * @version     $Revision$
+ */
 /**
  * This is the class that manages all database activities for the audios
  *

Index: class.phpmediadb_data_binarydatas.php
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.data/class.phpmediadb_data_binarydatas.php,v
retrieving revision 1.2
retrieving revision 1.3
diff -u -d -r1.2 -r1.3
--- class.phpmediadb_data_binarydatas.php	20 Apr 2005 20:18:24 -0000	1.2
+++ class.phpmediadb_data_binarydatas.php	20 Apr 2005 21:45:59 -0000	1.3
@@ -1,6 +1,40 @@
 <?php
-// phpMediaDB :: Licensed under GNU-GPL :: http://phpmediadb.berlios.de/
-/* $Id$ */
+/**
+ * $Id$
+ *
+ * Project:     phpMediaDB :: OpenSource Mediadatabase
+ * File:        class.phpmediadb_data_binarydatas.php
+ * License:     GNU General Publice License
+ *
+ * This file is part of phpMediaDB.
+ *
+ * phpMediaDB is free software; you can redistribute it and/or modify
+ * it under the terms of the GNU General Public License as published by
+ * the Free Software Foundation; either version 2 of the License, or
+ * (at your option) any later version.
+ *
+ * Foobar is distributed in the hope that it will be useful,
+ * but WITHOUT ANY WARRANTY; without even the implied warranty of
+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+ * GNU General Public License for more details.
+ *
+ * You should have received a copy of the GNU General Public License
+ * along with Foobar; if not, write to the Free Software
+ * Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA
+ *
+ * For questions, help, comments, discussion, etc., please join the
+ * phpMediaDB mailing list. See phpMediaDB projectportal for more
+ * information.
+ *
+ * @link        http://phpmediadb.berlios.de/
+ * @copyright   2004-2005 &copy; Blaschke, Markus; Ruf, Boris
+ * @license     http://opensource.org/licenses/gpl-license.php GNU General Public License
+ * @author      Markus Blaschke <mblaschke at users.berlios.de>
+ * @author      Boris Ruf <bruf at users.berlios.de>
+ * @package		phpmediadb
+ * @subpackage	data
+ * @version     $Revision$
+ */
 
 /**
  * This is the class that manages all database activities for the binarydatas

Index: class.phpmediadb_data_categories.php
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.data/class.phpmediadb_data_categories.php,v
retrieving revision 1.12
retrieving revision 1.13
diff -u -d -r1.12 -r1.13
--- class.phpmediadb_data_categories.php	13 Apr 2005 11:53:10 -0000	1.12
+++ class.phpmediadb_data_categories.php	20 Apr 2005 21:45:59 -0000	1.13
@@ -1,6 +1,40 @@
 <?php
-// phpMediaDB :: Licensed under GNU-GPL :: http://phpmediadb.berlios.de/
-/* $Id$ */
+/**
+ * $Id$
+ *
+ * Project:     phpMediaDB :: OpenSource Mediadatabase
+ * File:        class.phpmediadb_data_categories.php
+ * License:     GNU General Publice License
+ *
+ * This file is part of phpMediaDB.
+ *
+ * phpMediaDB is free software; you can redistribute it and/or modify
+ * it under the terms of the GNU General Public License as published by
+ * the Free Software Foundation; either version 2 of the License, or
+ * (at your option) any later version.
+ *
+ * Foobar is distributed in the hope that it will be useful,
+ * but WITHOUT ANY WARRANTY; without even the implied warranty of
+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+ * GNU General Public License for more details.
+ *
+ * You should have received a copy of the GNU General Public License
+ * along with Foobar; if not, write to the Free Software
+ * Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA
+ *
+ * For questions, help, comments, discussion, etc., please join the
+ * phpMediaDB mailing list. See phpMediaDB projectportal for more
+ * information.
+ *
+ * @link        http://phpmediadb.berlios.de/
+ * @copyright   2004-2005 &copy; Blaschke, Markus; Ruf, Boris
+ * @license     http://opensource.org/licenses/gpl-license.php GNU General Public License
+ * @author      Markus Blaschke <mblaschke at users.berlios.de>
+ * @author      Boris Ruf <bruf at users.berlios.de>
+ * @package		phpmediadb
+ * @subpackage	data
+ * @version     $Revision$
+ */
 
 /**
  * This is the class that manages all database activities for the categories

Index: class.phpmediadb_data_codecs.php
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.data/class.phpmediadb_data_codecs.php,v
retrieving revision 1.16
retrieving revision 1.17
diff -u -d -r1.16 -r1.17
--- class.phpmediadb_data_codecs.php	13 Apr 2005 11:53:21 -0000	1.16
+++ class.phpmediadb_data_codecs.php	20 Apr 2005 21:45:59 -0000	1.17
@@ -1,6 +1,40 @@
 <?php
-// phpMediaDB :: Licensed under GNU-GPL :: http://phpmediadb.berlios.de/
-/* $Id$ */
+/**
+ * $Id$
+ *
+ * Project:     phpMediaDB :: OpenSource Mediadatabase
+ * File:        class.phpmediadb_data_codecs.php
+ * License:     GNU General Publice License
+ *
+ * This file is part of phpMediaDB.
+ *
+ * phpMediaDB is free software; you can redistribute it and/or modify
+ * it under the terms of the GNU General Public License as published by
+ * the Free Software Foundation; either version 2 of the License, or
+ * (at your option) any later version.
+ *
+ * Foobar is distributed in the hope that it will be useful,
+ * but WITHOUT ANY WARRANTY; without even the implied warranty of
+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+ * GNU General Public License for more details.
+ *
+ * You should have received a copy of the GNU General Public License
+ * along with Foobar; if not, write to the Free Software
+ * Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA
+ *
+ * For questions, help, comments, discussion, etc., please join the
+ * phpMediaDB mailing list. See phpMediaDB projectportal for more
+ * information.
+ *
+ * @link        http://phpmediadb.berlios.de/
+ * @copyright   2004-2005 &copy; Blaschke, Markus; Ruf, Boris
+ * @license     http://opensource.org/licenses/gpl-license.php GNU General Public License
+ * @author      Markus Blaschke <mblaschke at users.berlios.de>
+ * @author      Boris Ruf <bruf at users.berlios.de>
+ * @package		phpmediadb
+ * @subpackage	data
+ * @version     $Revision$
+ */
 
 /**
  * This is the class that manages all database activities for the codecs

Index: class.phpmediadb_data_formats.php
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.data/class.phpmediadb_data_formats.php,v
retrieving revision 1.16
retrieving revision 1.17
diff -u -d -r1.16 -r1.17
--- class.phpmediadb_data_formats.php	13 Apr 2005 11:53:31 -0000	1.16
+++ class.phpmediadb_data_formats.php	20 Apr 2005 21:45:59 -0000	1.17
@@ -1,6 +1,40 @@
 <?php
-// phpMediaDB :: Licensed under GNU-GPL :: http://phpmediadb.berlios.de/
-/* $Id$ */
+/**
+ * $Id$
+ *
+ * Project:     phpMediaDB :: OpenSource Mediadatabase
+ * File:        class.phpmediadb_data_formats.php
+ * License:     GNU General Publice License
+ *
+ * This file is part of phpMediaDB.
+ *
+ * phpMediaDB is free software; you can redistribute it and/or modify
+ * it under the terms of the GNU General Public License as published by
+ * the Free Software Foundation; either version 2 of the License, or
+ * (at your option) any later version.
+ *
+ * Foobar is distributed in the hope that it will be useful,
+ * but WITHOUT ANY WARRANTY; without even the implied warranty of
+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+ * GNU General Public License for more details.
+ *
+ * You should have received a copy of the GNU General Public License
+ * along with Foobar; if not, write to the Free Software
+ * Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA
+ *
+ * For questions, help, comments, discussion, etc., please join the
+ * phpMediaDB mailing list. See phpMediaDB projectportal for more
+ * information.
+ *
+ * @link        http://phpmediadb.berlios.de/
+ * @copyright   2004-2005 &copy; Blaschke, Markus; Ruf, Boris
+ * @license     http://opensource.org/licenses/gpl-license.php GNU General Public License
+ * @author      Markus Blaschke <mblaschke at users.berlios.de>
+ * @author      Boris Ruf <bruf at users.berlios.de>
+ * @package		phpmediadb
+ * @subpackage	data
+ * @version     $Revision$
+ */
 
 /**
  * This is the class that manages all database activities for the formats

Index: class.phpmediadb_data_items.php
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.data/class.phpmediadb_data_items.php,v
retrieving revision 1.4
retrieving revision 1.5
diff -u -d -r1.4 -r1.5
--- class.phpmediadb_data_items.php	12 Apr 2005 19:12:17 -0000	1.4
+++ class.phpmediadb_data_items.php	20 Apr 2005 21:45:59 -0000	1.5
@@ -1,6 +1,40 @@
 <?php
-// phpMediaDB :: Licensed under GNU-GPL :: http://phpmediadb.berlios.de/
-/* $Id$ */
+/**
+ * $Id$
+ *
+ * Project:     phpMediaDB :: OpenSource Mediadatabase
+ * File:        class.phpmediadb_data_items.php
+ * License:     GNU General Publice License
+ *
+ * This file is part of phpMediaDB.
+ *
+ * phpMediaDB is free software; you can redistribute it and/or modify
+ * it under the terms of the GNU General Public License as published by
+ * the Free Software Foundation; either version 2 of the License, or
+ * (at your option) any later version.
+ *
+ * Foobar is distributed in the hope that it will be useful,
+ * but WITHOUT ANY WARRANTY; without even the implied warranty of
+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+ * GNU General Public License for more details.
+ *
+ * You should have received a copy of the GNU General Public License
+ * along with Foobar; if not, write to the Free Software
+ * Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA
+ *
+ * For questions, help, comments, discussion, etc., please join the
+ * phpMediaDB mailing list. See phpMediaDB projectportal for more
+ * information.
+ *
+ * @link        http://phpmediadb.berlios.de/
+ * @copyright   2004-2005 &copy; Blaschke, Markus; Ruf, Boris
+ * @license     http://opensource.org/licenses/gpl-license.php GNU General Public License
+ * @author      Markus Blaschke <mblaschke at users.berlios.de>
+ * @author      Boris Ruf <bruf at users.berlios.de>
+ * @package		phpmediadb
+ * @subpackage	data
+ * @version     $Revision$
+ */
 
 /**
  * This is the class that manages all database activities for the items

Index: class.phpmediadb_data.php
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.data/class.phpmediadb_data.php,v
retrieving revision 1.12
retrieving revision 1.13
diff -u -d -r1.12 -r1.13
--- class.phpmediadb_data.php	20 Apr 2005 20:17:24 -0000	1.12
+++ class.phpmediadb_data.php	20 Apr 2005 21:45:59 -0000	1.13
@@ -1,6 +1,40 @@
 <?php
-// phpMediaDB :: Licensed under GNU-GPL :: http://phpmediadb.berlios.de/
-/* $Id$ */
+/**
+ * $Id$
+ *
+ * Project:     phpMediaDB :: OpenSource Mediadatabase
+ * File:        class.phpmediadb_data.php
+ * License:     GNU General Publice License
+ *
+ * This file is part of phpMediaDB.
+ *
+ * phpMediaDB is free software; you can redistribute it and/or modify
+ * it under the terms of the GNU General Public License as published by
+ * the Free Software Foundation; either version 2 of the License, or
+ * (at your option) any later version.
+ *
+ * Foobar is distributed in the hope that it will be useful,
+ * but WITHOUT ANY WARRANTY; without even the implied warranty of
+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+ * GNU General Public License for more details.
+ *
+ * You should have received a copy of the GNU General Public License
+ * along with Foobar; if not, write to the Free Software
+ * Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA
+ *
+ * For questions, help, comments, discussion, etc., please join the
+ * phpMediaDB mailing list. See phpMediaDB projectportal for more
+ * information.
+ *
+ * @link        http://phpmediadb.berlios.de/
+ * @copyright   2004-2005 &copy; Blaschke, Markus; Ruf, Boris
+ * @license     http://opensource.org/licenses/gpl-license.php GNU General Public License
+ * @author      Markus Blaschke <mblaschke at users.berlios.de>
+ * @author      Boris Ruf <bruf at users.berlios.de>
+ * @package		phpmediadb
+ * @subpackage	data
+ * @version     $Revision$
+ */
 
 /**
  * This class contains all subclasses of the TIER.DATA and the configuration

Index: class.phpmediadb_data_prints.php
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.data/class.phpmediadb_data_prints.php,v
retrieving revision 1.16
retrieving revision 1.17
diff -u -d -r1.16 -r1.17
--- class.phpmediadb_data_prints.php	20 Apr 2005 20:14:58 -0000	1.16
+++ class.phpmediadb_data_prints.php	20 Apr 2005 21:45:59 -0000	1.17
@@ -1,6 +1,40 @@
 <?php
-// phpMediaDB :: Licensed under GNU-GPL :: http://phpmediadb.berlios.de/
-/* $Id$ */
+/**
+ * $Id$
+ *
+ * Project:     phpMediaDB :: OpenSource Mediadatabase
+ * File:        class.phpmediadb_data_prints.php
+ * License:     GNU General Publice License
+ *
+ * This file is part of phpMediaDB.
+ *
+ * phpMediaDB is free software; you can redistribute it and/or modify
+ * it under the terms of the GNU General Public License as published by
+ * the Free Software Foundation; either version 2 of the License, or
+ * (at your option) any later version.
+ *
+ * Foobar is distributed in the hope that it will be useful,
+ * but WITHOUT ANY WARRANTY; without even the implied warranty of
+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+ * GNU General Public License for more details.
+ *
+ * You should have received a copy of the GNU General Public License
+ * along with Foobar; if not, write to the Free Software
+ * Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA
+ *
+ * For questions, help, comments, discussion, etc., please join the
+ * phpMediaDB mailing list. See phpMediaDB projectportal for more
+ * information.
+ *
+ * @link        http://phpmediadb.berlios.de/
+ * @copyright   2004-2005 &copy; Blaschke, Markus; Ruf, Boris
+ * @license     http://opensource.org/licenses/gpl-license.php GNU General Public License
+ * @author      Markus Blaschke <mblaschke at users.berlios.de>
+ * @author      Boris Ruf <bruf at users.berlios.de>
+ * @package		phpmediadb
+ * @subpackage	data
+ * @version     $Revision$
+ */
 
 /**
  * This is the class that manages all database activities for the prints

Index: class.phpmediadb_data_sql.php
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.data/class.phpmediadb_data_sql.php,v
retrieving revision 1.11
retrieving revision 1.12
diff -u -d -r1.11 -r1.12
--- class.phpmediadb_data_sql.php	9 Apr 2005 23:59:35 -0000	1.11
+++ class.phpmediadb_data_sql.php	20 Apr 2005 21:45:59 -0000	1.12
@@ -1,6 +1,40 @@
 <?php
-// phpMediaDB :: Licensed under GNU-GPL :: http://phpmediadb.berlios.de/
-/* $Id$ */
+/**
+ * $Id$
+ *
+ * Project:     phpMediaDB :: OpenSource Mediadatabase
+ * File:        class.phpmediadb_data_sql.php
+ * License:     GNU General Publice License
+ *
+ * This file is part of phpMediaDB.
+ *
+ * phpMediaDB is free software; you can redistribute it and/or modify
+ * it under the terms of the GNU General Public License as published by
+ * the Free Software Foundation; either version 2 of the License, or
+ * (at your option) any later version.
+ *
+ * Foobar is distributed in the hope that it will be useful,
+ * but WITHOUT ANY WARRANTY; without even the implied warranty of
+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+ * GNU General Public License for more details.
+ *
+ * You should have received a copy of the GNU General Public License
+ * along with Foobar; if not, write to the Free Software
+ * Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA
+ *
+ * For questions, help, comments, discussion, etc., please join the
+ * phpMediaDB mailing list. See phpMediaDB projectportal for more
+ * information.
+ *
+ * @link        http://phpmediadb.berlios.de/
+ * @copyright   2004-2005 &copy; Blaschke, Markus; Ruf, Boris
+ * @license     http://opensource.org/licenses/gpl-license.php GNU General Public License
+ * @author      Markus Blaschke <mblaschke at users.berlios.de>
+ * @author      Boris Ruf <bruf at users.berlios.de>
+ * @package		phpmediadb
+ * @subpackage	data
+ * @version     $Revision$
+ */
 
 /**
  * This is the class that provides often used sql actions

Index: class.phpmediadb_data_status.php
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.data/class.phpmediadb_data_status.php,v
retrieving revision 1.13
retrieving revision 1.14
diff -u -d -r1.13 -r1.14
--- class.phpmediadb_data_status.php	13 Apr 2005 11:54:01 -0000	1.13
+++ class.phpmediadb_data_status.php	20 Apr 2005 21:45:59 -0000	1.14
@@ -1,6 +1,40 @@
 <?php
-// phpMediaDB :: Licensed under GNU-GPL :: http://phpmediadb.berlios.de/
-/* $Id$ */
+/**
+ * $Id$
+ *
+ * Project:     phpMediaDB :: OpenSource Mediadatabase
+ * File:        class.phpmediadb_data_status.php
+ * License:     GNU General Publice License
+ *
+ * This file is part of phpMediaDB.
+ *
+ * phpMediaDB is free software; you can redistribute it and/or modify
+ * it under the terms of the GNU General Public License as published by
+ * the Free Software Foundation; either version 2 of the License, or
+ * (at your option) any later version.
+ *
+ * Foobar is distributed in the hope that it will be useful,
+ * but WITHOUT ANY WARRANTY; without even the implied warranty of
+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+ * GNU General Public License for more details.
+ *
+ * You should have received a copy of the GNU General Public License
+ * along with Foobar; if not, write to the Free Software
+ * Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA
+ *
+ * For questions, help, comments, discussion, etc., please join the
+ * phpMediaDB mailing list. See phpMediaDB projectportal for more
+ * information.
+ *
+ * @link        http://phpmediadb.berlios.de/
+ * @copyright   2004-2005 &copy; Blaschke, Markus; Ruf, Boris
+ * @license     http://opensource.org/licenses/gpl-license.php GNU General Public License
+ * @author      Markus Blaschke <mblaschke at users.berlios.de>
+ * @author      Boris Ruf <bruf at users.berlios.de>
+ * @package		phpmediadb
+ * @subpackage	data
+ * @version     $Revision$
+ */
 
 /**
  * This is the class that manages all database activities for the status

Index: class.phpmediadb_data_videos.php
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.data/class.phpmediadb_data_videos.php,v
retrieving revision 1.15
retrieving revision 1.16
diff -u -d -r1.15 -r1.16
--- class.phpmediadb_data_videos.php	20 Apr 2005 20:17:04 -0000	1.15
+++ class.phpmediadb_data_videos.php	20 Apr 2005 21:45:59 -0000	1.16
@@ -1,6 +1,40 @@
 <?php
-// phpMediaDB :: Licensed under GNU-GPL :: http://phpmediadb.berlios.de/
-/* $Id$ */
+/**
+ * $Id$
+ *
+ * Project:     phpMediaDB :: OpenSource Mediadatabase
+ * File:        class.phpmediadb_data_videos.php
+ * License:     GNU General Publice License
+ *
+ * This file is part of phpMediaDB.
+ *
+ * phpMediaDB is free software; you can redistribute it and/or modify
+ * it under the terms of the GNU General Public License as published by
+ * the Free Software Foundation; either version 2 of the License, or
+ * (at your option) any later version.
+ *
+ * Foobar is distributed in the hope that it will be useful,
+ * but WITHOUT ANY WARRANTY; without even the implied warranty of
+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+ * GNU General Public License for more details.
+ *
+ * You should have received a copy of the GNU General Public License
+ * along with Foobar; if not, write to the Free Software
+ * Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA
+ *
+ * For questions, help, comments, discussion, etc., please join the
+ * phpMediaDB mailing list. See phpMediaDB projectportal for more
+ * information.
+ *
+ * @link        http://phpmediadb.berlios.de/
+ * @copyright   2004-2005 &copy; Blaschke, Markus; Ruf, Boris
+ * @license     http://opensource.org/licenses/gpl-license.php GNU General Public License
+ * @author      Markus Blaschke <mblaschke at users.berlios.de>
+ * @author      Boris Ruf <bruf at users.berlios.de>
+ * @package		phpmediadb
+ * @subpackage	data
+ * @version     $Revision$
+ */
 
 /**
  * This is the class that manages all database activities for the videos



From nobody at sheep.berlios.de  Thu Apr 21 22:30:16 2005
From: nobody at sheep.berlios.de (mblaschke)
Date: Thu, 21 Apr 2005 22:30:16 +0200
Subject: [phpmediadb-cvs] phpmediadb-cvs/install create-tables.sql,1.7,1.8
Message-ID: <200504212030.j3LKUGm27761@bat.berlios.de>

Update of /cvsroot/phpmediadb/phpmediadb-cvs/install
In directory sheep:/tmp/cvs-serv24091/install

Modified Files:
	create-tables.sql 
Log Message:
* Fixed bug - TIMESTAMP is always updating, changed to DATETIME

Index: create-tables.sql
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/install/create-tables.sql,v
retrieving revision 1.7
retrieving revision 1.8
diff -u -d -r1.7 -r1.8
--- create-tables.sql	20 Apr 2005 20:06:41 -0000	1.7
+++ create-tables.sql	21 Apr 2005 20:30:14 -0000	1.8
@@ -41,8 +41,8 @@
   ItemOriginalTitle VARCHAR(255) NOT NULL,
   ItemReleaseDate VARCHAR(255) NOT NULL,
   ItemMediaName VARCHAR(255) NOT NULL,
-  ItemCreationDate TIMESTAMP,
-  ItemModificationDate TIMESTAMP,
+  ItemCreationDate DATETIME,
+  ItemModificationDate DATETIME,
   ItemComment BLOB NOT NULL,
   ItemQuantity VARCHAR(255) NOT NULL,
   ItemIdentifier VARCHAR(255) NOT NULL,



From nobody at sheep.berlios.de  Thu Apr 21 22:32:13 2005
From: nobody at sheep.berlios.de (mblaschke)
Date: Thu, 21 Apr 2005 22:32:13 +0200
Subject: [phpmediadb-cvs] phpmediadb-cvs/_source/tier.business class.phpmediadb_business_items.php,1.3,1.4
Message-ID: <200504212032.j3LKWDm27794@bat.berlios.de>

Update of /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.business
In directory sheep:/tmp/cvs-serv24282/_source/tier.business

Modified Files:
	class.phpmediadb_business_items.php 
Log Message:
* Fixed tabstop

Index: class.phpmediadb_business_items.php
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.business/class.phpmediadb_business_items.php,v
retrieving revision 1.3
retrieving revision 1.4
diff -u -d -r1.3 -r1.4
--- class.phpmediadb_business_items.php	20 Apr 2005 21:45:25 -0000	1.3
+++ class.phpmediadb_business_items.php	21 Apr 2005 20:32:11 -0000	1.4
@@ -133,7 +133,7 @@
 		{
 			foreach( $categories as $value )
 			{
-				$returnValue['categories'][]		= $value['categoryid'];
+				$returnValue['categories'][]	= $value['categoryid'];
 				$specialValue['categoryid']		= $value['categoryid'];
 				$specialValue['categoryname']	= $value['categoryname'];
 				



From nobody at sheep.berlios.de  Thu Apr 21 22:34:55 2005
From: nobody at sheep.berlios.de (mblaschke)
Date: Thu, 21 Apr 2005 22:34:55 +0200
Subject: [phpmediadb-cvs] phpmediadb-cvs/_source/tier.data class.phpmediadb_data_audios.php,1.16,1.17 class.phpmediadb_data_items.php,1.5,1.6 class.phpmediadb_data_prints.php,1.17,1.18 class.phpmediadb_data_videos.php,1.16,1.17
Message-ID: <200504212034.j3LKYtm27874@bat.berlios.de>

Update of /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.data
In directory sheep:/tmp/cvs-serv24466/_source/tier.data

Modified Files:
	class.phpmediadb_data_audios.php 
	class.phpmediadb_data_items.php 
	class.phpmediadb_data_prints.php 
	class.phpmediadb_data_videos.php 
Log Message:
* Fixed order of tables in SELECT

Index: class.phpmediadb_data_audios.php
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.data/class.phpmediadb_data_audios.php,v
retrieving revision 1.16
retrieving revision 1.17
diff -u -d -r1.16 -r1.17
--- class.phpmediadb_data_audios.php	20 Apr 2005 21:45:59 -0000	1.16
+++ class.phpmediadb_data_audios.php	21 Apr 2005 20:34:53 -0000	1.17
@@ -107,7 +107,7 @@
 		try
 		{
 			$conn = $this->DATA->SQL->getConnection();
-			$stmt = $conn->prepareStatement(	'SELECT Items.*, AudioDatas.*, ItemTypes.*, MediaCodecs.MediaCodecName, MediaFormats.MediaFormatName, MediaAgeRestrictions.MediaAgeRestriction
+			$stmt = $conn->prepareStatement(	'SELECT AudioDatas.*, ItemTypes.*, MediaCodecs.MediaCodecName, MediaFormats.MediaFormatName, MediaAgeRestrictions.MediaAgeRestriction, Items.*
 													FROM Items
 													LEFT JOIN AudioDatas ON AudioDatas.ItemID=Items.ItemID
 													LEFT JOIN ItemTypes ON ItemTypes.ItemTypeID=Items.ItemTypeID
@@ -247,6 +247,7 @@
 													Items.MediaAgeRestrictionID = ?,
 													Items.ItemPublisher = ?
 													WHERE Items.ItemID = ?' );
+
 			$stmt->setString( 1, $data['itemtitle'] );
 			$stmt->setString( 2, $data['itemoriginaltitle'] );
 			$stmt->setString( 3, $data['itemreleasedate'] );

Index: class.phpmediadb_data_items.php
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.data/class.phpmediadb_data_items.php,v
retrieving revision 1.5
retrieving revision 1.6
diff -u -d -r1.5 -r1.6
--- class.phpmediadb_data_items.php	20 Apr 2005 21:45:59 -0000	1.5
+++ class.phpmediadb_data_items.php	21 Apr 2005 20:34:53 -0000	1.6
@@ -298,11 +298,11 @@
 			$stmt->setString( 1, $itemId );
 			$rs = $stmt->executeQuery( ResultSet::FETCHMODE_NUM );
 			$rs->next();
-			
+
 			/* check if item exists */
 			if( $rs->get(1) >= 1 )
 				$returnValue = true;
-				
+
 			return $returnValue;
 		}
 		catch( Exception $exception )

Index: class.phpmediadb_data_prints.php
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.data/class.phpmediadb_data_prints.php,v
retrieving revision 1.17
retrieving revision 1.18
diff -u -d -r1.17 -r1.18
--- class.phpmediadb_data_prints.php	20 Apr 2005 21:45:59 -0000	1.17
+++ class.phpmediadb_data_prints.php	21 Apr 2005 20:34:53 -0000	1.18
@@ -107,7 +107,7 @@
 		try
 		{
 			$conn = $this->DATA->SQL->getConnection();
-			$stmt = $conn->prepareStatement(	'SELECT Items.*, ItemTypes.*, MediaCodecs.*, MediaFormats.*, MediaAgeRestrictions.*
+			$stmt = $conn->prepareStatement(	'SELECT ItemTypes.*, MediaCodecs.*, MediaFormats.*, MediaAgeRestrictions.*, Items.*
 													FROM Items
 													LEFT JOIN ItemTypes ON ItemTypes.ItemTypeID=Items.ItemTypeID
 													LEFT JOIN MediaCodecs ON MediaCodecs.MediaCodecID=Items.MediaCodecID

Index: class.phpmediadb_data_videos.php
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.data/class.phpmediadb_data_videos.php,v
retrieving revision 1.16
retrieving revision 1.17
diff -u -d -r1.16 -r1.17
--- class.phpmediadb_data_videos.php	20 Apr 2005 21:45:59 -0000	1.16
+++ class.phpmediadb_data_videos.php	21 Apr 2005 20:34:53 -0000	1.17
@@ -107,7 +107,7 @@
 		try
 		{
 			$conn = $this->DATA->SQL->getConnection();
-			$stmt = $conn->prepareStatement(	'SELECT Items.*, ItemTypes.*, MediaCodecs.*, MediaFormats.*, MediaAgeRestrictions.*
+			$stmt = $conn->prepareStatement(	'SELECT ItemTypes.*, MediaCodecs.*, MediaFormats.*, MediaAgeRestrictions.*, Items.*
 													FROM Items
 													LEFT JOIN ItemTypes ON ItemTypes.ItemTypeID=Items.ItemTypeID
 													LEFT JOIN MediaCodecs ON MediaCodecs.MediaCodecID=Items.MediaCodecID



From nobody at sheep.berlios.de  Fri Apr 22 23:54:34 2005
From: nobody at sheep.berlios.de (mblaschke)
Date: Fri, 22 Apr 2005 23:54:34 +0200
Subject: [phpmediadb-cvs] phpmediadb-cvs/_source/tier.business class.phpmediadb_business_binarydatas.php,NONE,1.1
Message-ID: <200504222154.j3MLsYm04549@bat.berlios.de>

Update of /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.business
In directory sheep:/tmp/cvs-serv26755/_source/tier.business

Added Files:
	class.phpmediadb_business_binarydatas.php 
Log Message:
* Initial revision

--- NEW FILE: class.phpmediadb_business_binarydatas.php ---
<?php
/**
 * $Id: class.phpmediadb_business_binarydatas.php,v 1.1 2005/04/22 21:54:32 mblaschke Exp $
 *
 * Project:     phpMediaDB :: OpenSource Mediadatabase
 * File:        class.phpmediadb_business_binarydatas.php
 * License:     GNU General Publice License
 *
 * This file is part of phpMediaDB.
 *
 * phpMediaDB is free software; you can redistribute it and/or modify
 * it under the terms of the GNU General Public License as published by
 * the Free Software Foundation; either version 2 of the License, or
 * (at your option) any later version.
 *
 * Foobar is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with Foobar; if not, write to the Free Software
 * Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA
 *
 * For questions, help, comments, discussion, etc., please join the
 * phpMediaDB mailing list. See phpMediaDB projectportal for more
 * information.
 *
 * @link        http://phpmediadb.berlios.de/
 * @copyright   2004-2005 &copy; Blaschke, Markus; Ruf, Boris
 * @license     http://opensource.org/licenses/gpl-license.php GNU General Public License
 * @author      Markus Blaschke <mblaschke at users.berlios.de>
 * @author      Boris Ruf <bruf at users.berlios.de>
 * @package		phpmediadb
 * @subpackage	business
 * @version     $Revision: 1.1 $
 */

/**
 * This is the class that manages all functions of the binarydatas
 */
class phpmediadb_business_binarydatas
{
	// --- ATTRIBUTES ---

	/**
	 * Reference to class phpmediadb
	 *
	 * @access protected
	 * @see phpmediadb
	 * @var phpmediadb
	 */
	protected $PHPMEDIADB = null;

	/**
	 * Reference to class phpmediadb_business
	 *
	 * @access protected
	 * @see phpmediadb_business
	 * @var phpmediadb_business
	 */
	protected $BUSINESS = null;
	
	/**
	 * Reference to class phpmediadb_data
	 *
	 * @access protected
	 * @see phpmediadb_data
	 * @var phpmediadb_data
	 */
	protected $DATA = null;
	
	// --- OPERATIONS ---
	
//-----------------------------------------------------------------------------
	/**
	 * The constructor __construct initalizes the Class.
	 *
	 * @access public
	 * @param phpmediadb_business $sender Reference to parent class
	 */
	public function __construct( $sender )
	{
		/* init */
    	 
		/* assign parent */
		$this->BUSINESS		= $sender;
		$this->PHPMEDIADB	= $sender->PHPMEDIADB;
		$this->DATA			= $sender->PHPMEDIADB->DATA;
	}
	
//-----------------------------------------------------------------------------
} /* end of class phpmediadb_business_binarydatas */

//--- EOF --- EOF --- EOF --- EOF --- EOF --- EOF --- EOF --- EOF --- EOF ---
?>


From nobody at sheep.berlios.de  Fri Apr 22 23:54:47 2005
From: nobody at sheep.berlios.de (mblaschke)
Date: Fri, 22 Apr 2005 23:54:47 +0200
Subject: [phpmediadb-cvs] phpmediadb-cvs/_source/tier.business class.phpmediadb_business_agerestrictions.php,1.9,1.10 class.phpmediadb_business_audios.php,1.11,1.12 class.phpmediadb_business_categories.php,1.11,1.12 class.phpmediadb_business_codecs.php,1.9,1.10 class.phpmediadb_business_formats.php,1.9,1.10 class.phpmediadb_business_inspector.php,1.7,1.8 class.phpmediadb_business_items.php,1.4,1.5 class.phpmediadb_business.php,1.13,1.14 class.phpmediadb_business_prints.php,1.8,1.9 class.phpmediadb_business_videos.php,1.8,1.9
Message-ID: <200504222154.j3MLslm04575@bat.berlios.de>

Update of /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.business
In directory sheep:/tmp/cvs-serv26791/_source/tier.business

Modified Files:
	class.phpmediadb_business_agerestrictions.php 
	class.phpmediadb_business_audios.php 
	class.phpmediadb_business_categories.php 
	class.phpmediadb_business_codecs.php 
	class.phpmediadb_business_formats.php 
	class.phpmediadb_business_inspector.php 
	class.phpmediadb_business_items.php 
	class.phpmediadb_business.php 
	class.phpmediadb_business_prints.php 
	class.phpmediadb_business_videos.php 
Log Message:
* Fixed comments

Index: class.phpmediadb_business_agerestrictions.php
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.business/class.phpmediadb_business_agerestrictions.php,v
retrieving revision 1.9
retrieving revision 1.10
diff -u -d -r1.9 -r1.10
--- class.phpmediadb_business_agerestrictions.php	20 Apr 2005 21:45:25 -0000	1.9
+++ class.phpmediadb_business_agerestrictions.php	22 Apr 2005 21:54:44 -0000	1.10
@@ -38,11 +38,6 @@
 
 /**
  * This is the class that manages all functions of the agerestrictions
- *
- * @author		Markus Blaschke <mblaschke at users.berlios.de>
- * @version		$Revision$
- * @package		phpmediadb
- * @subpackage	business
  */
 class phpmediadb_business_agerestrictions
 {

Index: class.phpmediadb_business_audios.php
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.business/class.phpmediadb_business_audios.php,v
retrieving revision 1.11
retrieving revision 1.12
diff -u -d -r1.11 -r1.12
--- class.phpmediadb_business_audios.php	20 Apr 2005 21:45:25 -0000	1.11
+++ class.phpmediadb_business_audios.php	22 Apr 2005 21:54:44 -0000	1.12
@@ -38,11 +38,6 @@
 
 /**
  * This is the class that manages all functions of the audios
- *
- * @author		Markus Blaschke <mblaschke at users.berlios.de>
- * @version		$Revision$
- * @package		phpmediadb
- * @subpackage	business
  */
 class phpmediadb_business_audios
 {
@@ -82,7 +77,6 @@
 	 * The constructor __construct initalizes the Class.
 	 *
 	 * @access public
-	 * @author phpMediaDB Team - http://phpmediadb.berlios.de/
 	 * @param phpmediadb_business $sender Reference to parent class
 	 */
 	public function __construct( $sender )
@@ -100,7 +94,6 @@
 	 * Creates an empty dataset
 	 *
 	 * @access public
-	 * @author phpMediaDB Team - http://phpmediadb.berlios.de/
 	 * @return Array Empty dataset
 	 */
 	 public function createEmpty()

Index: class.phpmediadb_business_categories.php
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.business/class.phpmediadb_business_categories.php,v
retrieving revision 1.11
retrieving revision 1.12
diff -u -d -r1.11 -r1.12
--- class.phpmediadb_business_categories.php	20 Apr 2005 21:45:25 -0000	1.11
+++ class.phpmediadb_business_categories.php	22 Apr 2005 21:54:44 -0000	1.12
@@ -38,11 +38,6 @@
 
 /**
  * This is the class that manages all functions of the categories
- *
- * @author		Markus Blaschke <mblaschke at users.berlios.de>
- * @version		$Revision$
- * @package		phpmediadb
- * @subpackage	business
  */
 class phpmediadb_business_categories
 {
@@ -82,7 +77,6 @@
 	 * The constructor __construct initalizes the Class.
 	 *
 	 * @access public
-	 * @author phpMediaDB Team - http://phpmediadb.berlios.de/
 	 * @param phpmediadb_business $sender Reference to parent class
 	 */
 	public function __construct( $sender )

Index: class.phpmediadb_business_codecs.php
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.business/class.phpmediadb_business_codecs.php,v
retrieving revision 1.9
retrieving revision 1.10
diff -u -d -r1.9 -r1.10
--- class.phpmediadb_business_codecs.php	20 Apr 2005 21:45:25 -0000	1.9
+++ class.phpmediadb_business_codecs.php	22 Apr 2005 21:54:44 -0000	1.10
@@ -38,11 +38,6 @@
 
 /**
  * This is the class that manages all functions of the codecs
- *
- * @author		Markus Blaschke <mblaschke at users.berlios.de>
- * @version		$Revision$
- * @package		phpmediadb
- * @subpackage	business
  */
 class phpmediadb_business_codecs
 {

Index: class.phpmediadb_business_formats.php
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.business/class.phpmediadb_business_formats.php,v
retrieving revision 1.9
retrieving revision 1.10
diff -u -d -r1.9 -r1.10
--- class.phpmediadb_business_formats.php	20 Apr 2005 21:45:25 -0000	1.9
+++ class.phpmediadb_business_formats.php	22 Apr 2005 21:54:45 -0000	1.10
@@ -38,11 +38,6 @@
 
 /**
  * This is the class that manages all functions of the formats
- *
- * @author		Markus Blaschke <mblaschke at users.berlios.de>
- * @version		$Revision$
- * @package		phpmediadb
- * @subpackage	business
  */
 class phpmediadb_business_formats
 {
@@ -81,7 +76,6 @@
 	 * The constructor __construct initalizes the Class.
 	 *
 	 * @access public
-	 * @author phpMediaDB Team - http://phpmediadb.berlios.de/
 	 * @param phpmediadb_business $sender Reference to parent class
 	 */
 	public function __construct( $sender )

Index: class.phpmediadb_business_inspector.php
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.business/class.phpmediadb_business_inspector.php,v
retrieving revision 1.7
retrieving revision 1.8
diff -u -d -r1.7 -r1.8
--- class.phpmediadb_business_inspector.php	20 Apr 2005 21:45:25 -0000	1.7
+++ class.phpmediadb_business_inspector.php	22 Apr 2005 21:54:45 -0000	1.8
@@ -37,11 +37,6 @@
  */
 /**
  * This is the class that manages all inspector functions like datavalidation
- *
- * @author		Markus Blaschke <mblaschke at users.berlios.de>
- * @version		$Revision$
- * @package		phpmediadb
- * @subpackage	business
  */
 class phpmediadb_business_inspector
 {
@@ -81,7 +76,6 @@
 	 * The constructor __construct initalizes the Class.
 	 *
 	 * @access public
-	 * @author phpMediaDB Team - http://phpmediadb.berlios.de/
 	 * @param phpmediadb_business $sender Refreence to parent class
 	 */
 	public function __construct( $sender )
@@ -98,7 +92,6 @@
 	 * Checkengine: Checks if data is valid or generates an error-array
 	 *
 	 * @access public
-	 * @author phpMediaDB Team - http://phpmediadb.berlios.de/
 	 * @param Integer $type Itemtype which should be checked
 	 * @param Array $data Data which should be checked
 	 * @return mixed Success if Null, failed if error-array
@@ -192,7 +185,6 @@
 	 * Returns all size-specifications for variable check
 	 *
 	 * @access public
-	 * @author phpMediaDB Team - http://phpmediadb.berlios.de/
 	 * @param Integer $type Itemtype
 	 * @return mixed Specifications of variable-value sizes
 	 */
@@ -216,7 +208,6 @@
 	 * Returns all regex-specifications for variable check
 	 *
 	 * @access public
-	 * @author phpMediaDB Team - http://phpmediadb.berlios.de/
 	 * @param Integer $type Itemtype
 	 * @return mixed Specifications of variable-value regex
 	 */

Index: class.phpmediadb_business_items.php
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.business/class.phpmediadb_business_items.php,v
retrieving revision 1.4
retrieving revision 1.5
diff -u -d -r1.4 -r1.5
--- class.phpmediadb_business_items.php	21 Apr 2005 20:32:11 -0000	1.4
+++ class.phpmediadb_business_items.php	22 Apr 2005 21:54:45 -0000	1.5
@@ -38,11 +38,6 @@
 
 /**
  * This is the class that manages all database activities for the items
- *
- * @author		Markus Blaschke <mblaschke at users.berlios.de>
- * @version		$Revision$
- * @package		phpmediadb
- * @subpackage	business
  */
 class phpmediadb_business_items
 {
@@ -81,7 +76,6 @@
 	 * The constructor __construct initalizes the Class.
 	 *
 	 * @access public
-	 * @author phpMediaDB Team - http://phpmediadb.berlios.de/
 	 * @param phpmediadb_business $sender Reference to parent class
 	 */
 	public function __construct( $sender )

Index: class.phpmediadb_business.php
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.business/class.phpmediadb_business.php,v
retrieving revision 1.13
retrieving revision 1.14
diff -u -d -r1.13 -r1.14
--- class.phpmediadb_business.php	20 Apr 2005 21:45:25 -0000	1.13
+++ class.phpmediadb_business.php	22 Apr 2005 21:54:45 -0000	1.14
@@ -40,11 +40,6 @@
  * This class contains all subclasses of the TIER.BUSINESS and the configuration
  * for the whole TIER.BUSINESS.
  * The subclasses can be accessed through the public references.
- * 
- * @author		Markus Blaschke <mblaschke at users.berlios.de>
- * @version		$Revision$
- * @package		phpmediadb
- * @subpackage	business
  */
 class phpmediadb_business
 {
@@ -164,7 +159,6 @@
 	 * The constructor __construct initalizes the Class.
 	 *
 	 * @access public
-	 * @author phpMediaDB Team - http://phpmediadb.berlios.de/
 	 * @param phpmediadb $sender Reference to parent class
 	 */
 	public function __construct( $sender )
@@ -195,7 +189,6 @@
 	 * Loads the configuration from the global array and resets the array
 	 *
 	 * @access public
-	 * @author phpMediaDB Team - http://phpmediadb.berlios.de/
 	 */
 	private function loadConfiguration()
 	{

Index: class.phpmediadb_business_prints.php
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.business/class.phpmediadb_business_prints.php,v
retrieving revision 1.8
retrieving revision 1.9
diff -u -d -r1.8 -r1.9
--- class.phpmediadb_business_prints.php	20 Apr 2005 21:45:25 -0000	1.8
+++ class.phpmediadb_business_prints.php	22 Apr 2005 21:54:45 -0000	1.9
@@ -38,11 +38,6 @@
 
 /**
  * This is the class that manages all functions of the prints
- *
- * @author		Markus Blaschke <mblaschke at users.berlios.de>
- * @version		$Revision$
- * @package		phpmediadb
- * @subpackage	business
  */
 class phpmediadb_business_prints
 {
@@ -82,7 +77,6 @@
 	 * The constructor __construct initalizes the Class.
 	 *
 	 * @access public
-	 * @author phpMediaDB Team - http://phpmediadb.berlios.de/
 	 * @param phpmediadb_business $sender Reference to parent class
 	 */
 	public function __construct( $sender )
@@ -100,7 +94,6 @@
 	 * Creates an empty dataset
 	 *
 	 * @access public
-	 * @author phpMediaDB Team - http://phpmediadb.berlios.de/
 	 * @return Array Empty dataset
 	 */
 	 public function createEmpty()

Index: class.phpmediadb_business_videos.php
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.business/class.phpmediadb_business_videos.php,v
retrieving revision 1.8
retrieving revision 1.9
diff -u -d -r1.8 -r1.9
--- class.phpmediadb_business_videos.php	20 Apr 2005 21:45:25 -0000	1.8
+++ class.phpmediadb_business_videos.php	22 Apr 2005 21:54:45 -0000	1.9
@@ -38,11 +38,6 @@
 
 /**
  * This is the class that manages all functions of the videos
- *
- * @author		Markus Blaschke <mblaschke at users.berlios.de>
- * @version		$Revision$
- * @package		phpmediadb
- * @subpackage	business
  */
 class phpmediadb_business_videos
 {
@@ -82,7 +77,6 @@
 	 * The constructor __construct initalizes the Class.
 	 *
 	 * @access public
-	 * @author phpMediaDB Team - http://phpmediadb.berlios.de/
 	 * @param phpmediadb_business $sender Reference to parent class
 	 */
 	public function __construct( $sender )
@@ -100,7 +94,6 @@
 	 * Creates an empty dataset
 	 *
 	 * @access public
-	 * @author phpMediaDB Team - http://phpmediadb.berlios.de/
 	 * @return Array Empty dataset
 	 */
 	 public function createEmpty()



From nobody at sheep.berlios.de  Fri Apr 22 23:55:10 2005
From: nobody at sheep.berlios.de (mblaschke)
Date: Fri, 22 Apr 2005 23:55:10 +0200
Subject: [phpmediadb-cvs] phpmediadb-cvs/_source/tier.global class.phpmediadb_exception.php,1.7,1.8 class.phpmediadb.php,1.7,1.8 constants.phpmediadb.php,1.7,1.8
Message-ID: <200504222155.j3MLtAm04591@bat.berlios.de>

Update of /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.global
In directory sheep:/tmp/cvs-serv26830/_source/tier.global

Modified Files:
	class.phpmediadb_exception.php class.phpmediadb.php 
	constants.phpmediadb.php 
Log Message:
* Fixed comments

Index: class.phpmediadb_exception.php
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.global/class.phpmediadb_exception.php,v
retrieving revision 1.7
retrieving revision 1.8
diff -u -d -r1.7 -r1.8
--- class.phpmediadb_exception.php	20 Apr 2005 21:46:07 -0000	1.7
+++ class.phpmediadb_exception.php	22 Apr 2005 21:55:08 -0000	1.8
@@ -38,11 +38,6 @@
 
 /**
  * This is the class that manages the exceptions.
- * 
- * @author		Markus Blaschke <mblaschke at users.berlios.de>
- * @version		$Revision$
- * @package		phpmediadb
- * @subpackage	global
  */
 class phpmediadb_exception extends Exception
 {

Index: class.phpmediadb.php
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.global/class.phpmediadb.php,v
retrieving revision 1.7
retrieving revision 1.8
diff -u -d -r1.7 -r1.8
--- class.phpmediadb.php	20 Apr 2005 21:46:07 -0000	1.7
+++ class.phpmediadb.php	22 Apr 2005 21:55:08 -0000	1.8
@@ -40,11 +40,6 @@
  * This is the class that manages the whole tiers.
  *
  * All tiers can be accessed via the refereces eg. PRESENTATION.
- * 
- * @author		Markus Blaschke <mblaschke at users.berlios.de>
- * @version		$Revision$
- * @package		phpmediadb
- * @subpackage	global
  */
 class phpmediadb
 {

Index: constants.phpmediadb.php
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.global/constants.phpmediadb.php,v
retrieving revision 1.7
retrieving revision 1.8
diff -u -d -r1.7 -r1.8
--- constants.phpmediadb.php	20 Apr 2005 21:46:07 -0000	1.7
+++ constants.phpmediadb.php	22 Apr 2005 21:55:08 -0000	1.8
@@ -38,11 +38,6 @@
  
 /**
  * This files handels all contants
- * 
- * @author		Markus Blaschke <mblaschke at users.berlios.de>
- * @version		$Revision$
- * @package		phpmediadb
- * @subpackage	global
  */
  
 // --- tier.global ---



From nobody at sheep.berlios.de  Fri Apr 22 23:55:01 2005
From: nobody at sheep.berlios.de (mblaschke)
Date: Fri, 22 Apr 2005 23:55:01 +0200
Subject: [phpmediadb-cvs] phpmediadb-cvs/_source/tier.data class.phpmediadb_data_agerestrictions.php,1.14,1.15 class.phpmediadb_data_audios.php,1.17,1.18 class.phpmediadb_data_binarydatas.php,1.3,1.4 class.phpmediadb_data_categories.php,1.13,1.14 class.phpmediadb_data_codecs.php,1.17,1.18 class.phpmediadb_data_formats.php,1.17,1.18 class.phpmediadb_data_items.php,1.6,1.7 class.phpmediadb_data.php,1.13,1.14 class.phpmediadb_data_prints.php,1.18,1.19 class.phpmediadb_data_sql.php,1.12,1.13 class.phpmediadb_data_status.php,1.14,1.15 class.phpmediadb_data_videos.php,1.17,1.18
Message-ID: <200504222155.j3MLt1m04583@bat.berlios.de>

Update of /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.data
In directory sheep:/tmp/cvs-serv26809/_source/tier.data

Modified Files:
	class.phpmediadb_data_agerestrictions.php 
	class.phpmediadb_data_audios.php 
	class.phpmediadb_data_binarydatas.php 
	class.phpmediadb_data_categories.php 
	class.phpmediadb_data_codecs.php 
	class.phpmediadb_data_formats.php 
	class.phpmediadb_data_items.php class.phpmediadb_data.php 
	class.phpmediadb_data_prints.php class.phpmediadb_data_sql.php 
	class.phpmediadb_data_status.php 
	class.phpmediadb_data_videos.php 
Log Message:
* Fixed comments

Index: class.phpmediadb_data_agerestrictions.php
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.data/class.phpmediadb_data_agerestrictions.php,v
retrieving revision 1.14
retrieving revision 1.15
diff -u -d -r1.14 -r1.15
--- class.phpmediadb_data_agerestrictions.php	20 Apr 2005 21:45:59 -0000	1.14
+++ class.phpmediadb_data_agerestrictions.php	22 Apr 2005 21:54:59 -0000	1.15
@@ -38,11 +38,6 @@
 
 /**
  * This is the class that manages all database activities for the agerestrictions
- *
- * @author		Boris Ruf <bruf at users.berlios.de>
- * @version		$Revision$
- * @package		phpmediadb
- * @subpackage	data
  */
 class phpmediadb_data_agerestrictions
 {

Index: class.phpmediadb_data_audios.php
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.data/class.phpmediadb_data_audios.php,v
retrieving revision 1.17
retrieving revision 1.18
diff -u -d -r1.17 -r1.18
--- class.phpmediadb_data_audios.php	21 Apr 2005 20:34:53 -0000	1.17
+++ class.phpmediadb_data_audios.php	22 Apr 2005 21:54:59 -0000	1.18
@@ -37,11 +37,6 @@
  */
 /**
  * This is the class that manages all database activities for the audios
- *
- * @author		Boris Ruf <bruf at users.berlios.de>
- * @version		$Revision$
- * @package		phpmediadb
- * @subpackage	data
  */
 class phpmediadb_data_audios
 {

Index: class.phpmediadb_data_binarydatas.php
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.data/class.phpmediadb_data_binarydatas.php,v
retrieving revision 1.3
retrieving revision 1.4
diff -u -d -r1.3 -r1.4
--- class.phpmediadb_data_binarydatas.php	20 Apr 2005 21:45:59 -0000	1.3
+++ class.phpmediadb_data_binarydatas.php	22 Apr 2005 21:54:59 -0000	1.4
@@ -38,11 +38,6 @@
 
 /**
  * This is the class that manages all database activities for the binarydatas
- *
- * @author		Boris Ruf <bruf at users.berlios.de>
- * @version		$Revision$
- * @package		phpmediadb
- * @subpackage	data
  */
 class phpmediadb_data_binarydatas
 {

Index: class.phpmediadb_data_categories.php
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.data/class.phpmediadb_data_categories.php,v
retrieving revision 1.13
retrieving revision 1.14
diff -u -d -r1.13 -r1.14
--- class.phpmediadb_data_categories.php	20 Apr 2005 21:45:59 -0000	1.13
+++ class.phpmediadb_data_categories.php	22 Apr 2005 21:54:59 -0000	1.14
@@ -38,11 +38,6 @@
 
 /**
  * This is the class that manages all database activities for the categories
- *
- * @author		Boris Ruf <bruf at users.berlios.de>
- * @version		$Revision$
- * @package		phpmediadb
- * @subpackage	data
  */
 class phpmediadb_data_categories
 {

Index: class.phpmediadb_data_codecs.php
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.data/class.phpmediadb_data_codecs.php,v
retrieving revision 1.17
retrieving revision 1.18
diff -u -d -r1.17 -r1.18
--- class.phpmediadb_data_codecs.php	20 Apr 2005 21:45:59 -0000	1.17
+++ class.phpmediadb_data_codecs.php	22 Apr 2005 21:54:59 -0000	1.18
@@ -38,11 +38,6 @@
 
 /**
  * This is the class that manages all database activities for the codecs
- *
- * @author		Boris Ruf <bruf at users.berlios.de>
- * @version		$Revision$
- * @package		phpmediadb
- * @subpackage	data
  */
 class phpmediadb_data_codecs
 {

Index: class.phpmediadb_data_formats.php
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.data/class.phpmediadb_data_formats.php,v
retrieving revision 1.17
retrieving revision 1.18
diff -u -d -r1.17 -r1.18
--- class.phpmediadb_data_formats.php	20 Apr 2005 21:45:59 -0000	1.17
+++ class.phpmediadb_data_formats.php	22 Apr 2005 21:54:59 -0000	1.18
@@ -38,11 +38,6 @@
 
 /**
  * This is the class that manages all database activities for the formats
- *
- * @author		Boris Ruf <bruf at users.berlios.de>
- * @version		$Revision$
- * @package		phpmediadb
- * @subpackage	data
  */
 class phpmediadb_data_formats
 {

Index: class.phpmediadb_data_items.php
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.data/class.phpmediadb_data_items.php,v
retrieving revision 1.6
retrieving revision 1.7
diff -u -d -r1.6 -r1.7
--- class.phpmediadb_data_items.php	21 Apr 2005 20:34:53 -0000	1.6
+++ class.phpmediadb_data_items.php	22 Apr 2005 21:54:59 -0000	1.7
@@ -38,11 +38,6 @@
 
 /**
  * This is the class that manages all database activities for the items
- *
- * @author		Boris Ruf <bruf at users.berlios.de>
- * @version		$Revision$
- * @package		phpmediadb
- * @subpackage	data
  */
 class phpmediadb_data_items
 {

Index: class.phpmediadb_data.php
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.data/class.phpmediadb_data.php,v
retrieving revision 1.13
retrieving revision 1.14
diff -u -d -r1.13 -r1.14
--- class.phpmediadb_data.php	20 Apr 2005 21:45:59 -0000	1.13
+++ class.phpmediadb_data.php	22 Apr 2005 21:54:59 -0000	1.14
@@ -40,11 +40,6 @@
  * This class contains all subclasses of the TIER.DATA and the configuration
  * for the whole TIER.DATA.
  * The subclasses can be accessed through the public references.
- *
- * @author		Boris Ruf <bruf at users.berlios.de>
- * @version		$Revision$
- * @package		phpmediadb
- * @subpackage	data
  */
 class phpmediadb_data
 {

Index: class.phpmediadb_data_prints.php
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.data/class.phpmediadb_data_prints.php,v
retrieving revision 1.18
retrieving revision 1.19
diff -u -d -r1.18 -r1.19
--- class.phpmediadb_data_prints.php	21 Apr 2005 20:34:53 -0000	1.18
+++ class.phpmediadb_data_prints.php	22 Apr 2005 21:54:59 -0000	1.19
@@ -38,11 +38,6 @@
 
 /**
  * This is the class that manages all database activities for the prints
- *
- * @author		Boris Ruf <bruf at users.berlios.de>
- * @version		$Revision$
- * @package		phpmediadb
- * @subpackage	data
  */
 class phpmediadb_data_prints
 {

Index: class.phpmediadb_data_sql.php
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.data/class.phpmediadb_data_sql.php,v
retrieving revision 1.12
retrieving revision 1.13
diff -u -d -r1.12 -r1.13
--- class.phpmediadb_data_sql.php	20 Apr 2005 21:45:59 -0000	1.12
+++ class.phpmediadb_data_sql.php	22 Apr 2005 21:54:59 -0000	1.13
@@ -38,11 +38,6 @@
 
 /**
  * This is the class that provides often used sql actions
- *
- * @author		Boris Ruf <bruf at users.berlios.de>
- * @version		$Revision$
- * @package		phpmediadb
- * @subpackage	data
  */
 class phpmediadb_data_sql
 {

Index: class.phpmediadb_data_status.php
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.data/class.phpmediadb_data_status.php,v
retrieving revision 1.14
retrieving revision 1.15
diff -u -d -r1.14 -r1.15
--- class.phpmediadb_data_status.php	20 Apr 2005 21:45:59 -0000	1.14
+++ class.phpmediadb_data_status.php	22 Apr 2005 21:54:59 -0000	1.15
@@ -38,11 +38,6 @@
 
 /**
  * This is the class that manages all database activities for the status
- *
- * @author		Boris Ruf <bruf at users.berlios.de>
- * @version		$Revision$
- * @package		phpmediadb
- * @subpackage	data
  */
 class phpmediadb_data_status
 {

Index: class.phpmediadb_data_videos.php
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.data/class.phpmediadb_data_videos.php,v
retrieving revision 1.17
retrieving revision 1.18
diff -u -d -r1.17 -r1.18
--- class.phpmediadb_data_videos.php	21 Apr 2005 20:34:53 -0000	1.17
+++ class.phpmediadb_data_videos.php	22 Apr 2005 21:54:59 -0000	1.18
@@ -38,11 +38,6 @@
 
 /**
  * This is the class that manages all database activities for the videos
- *
- * @author		Boris Ruf <bruf at users.berlios.de>
- * @version		$Revision$
- * @package		phpmediadb
- * @subpackage	data
  */
 class phpmediadb_data_videos
 {



From nobody at sheep.berlios.de  Fri Apr 22 23:55:20 2005
From: nobody at sheep.berlios.de (mblaschke)
Date: Fri, 22 Apr 2005 23:55:20 +0200
Subject: [phpmediadb-cvs] phpmediadb-cvs/_source/tier.presentation class.phpmediadb_presentation_contentvars.php,1.11,1.12 class.phpmediadb_presentation_htmlservice.php,1.11,1.12 class.phpmediadb_presentation_i18n.php,1.12,1.13 class.phpmediadb_presentation.php,1.9,1.10 class.phpmediadb_presentation_session.php,1.7,1.8 class.phpmediadb_presentation_xmlservice.php,1.6,1.7
Message-ID: <200504222155.j3MLtKm04595@bat.berlios.de>

Update of /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.presentation
In directory sheep:/tmp/cvs-serv26841/_source/tier.presentation

Modified Files:
	class.phpmediadb_presentation_contentvars.php 
	class.phpmediadb_presentation_htmlservice.php 
	class.phpmediadb_presentation_i18n.php 
	class.phpmediadb_presentation.php 
	class.phpmediadb_presentation_session.php 
	class.phpmediadb_presentation_xmlservice.php 
Log Message:
* Fixed comments

Index: class.phpmediadb_presentation_contentvars.php
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.presentation/class.phpmediadb_presentation_contentvars.php,v
retrieving revision 1.11
retrieving revision 1.12
diff -u -d -r1.11 -r1.12
--- class.phpmediadb_presentation_contentvars.php	20 Apr 2005 21:46:16 -0000	1.11
+++ class.phpmediadb_presentation_contentvars.php	22 Apr 2005 21:55:18 -0000	1.12
@@ -40,11 +40,6 @@
  * This is the class that manages all template/content-variables of the tier.presentation
  *
  * This class also manages the conversion to XML/XHTML style
- * 
- * @author		Markus Blaschke <mblaschke at users.berlios.de>
- * @version		$Revision$
- * @package		phpmediadb
- * @subpackage	presentation
  */
 class phpmediadb_presentation_contentvars
 {
@@ -101,7 +96,6 @@
 	 * etc.
 	 *
 	 * @access public
-	 * @author phpMediaDB Team - http://phpmediadb.berlios.de/
 	 */
 	public function __destruct()
 	{

Index: class.phpmediadb_presentation_htmlservice.php
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.presentation/class.phpmediadb_presentation_htmlservice.php,v
retrieving revision 1.11
retrieving revision 1.12
diff -u -d -r1.11 -r1.12
--- class.phpmediadb_presentation_htmlservice.php	20 Apr 2005 21:46:16 -0000	1.11
+++ class.phpmediadb_presentation_htmlservice.php	22 Apr 2005 21:55:18 -0000	1.12
@@ -38,11 +38,6 @@
 
 /**
  * This is the class that manages all html-serivces like template-compilation
- * 
- * @author		Markus Blaschke <mblaschke at users.berlios.de>
- * @version		$Revision$
- * @package		phpmediadb
- * @subpackage	presentation
  */
 class phpmediadb_presentation_htmlservice
 {

Index: class.phpmediadb_presentation_i18n.php
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.presentation/class.phpmediadb_presentation_i18n.php,v
retrieving revision 1.12
retrieving revision 1.13
diff -u -d -r1.12 -r1.13
--- class.phpmediadb_presentation_i18n.php	20 Apr 2005 21:46:16 -0000	1.12
+++ class.phpmediadb_presentation_i18n.php	22 Apr 2005 21:55:18 -0000	1.13
@@ -39,11 +39,6 @@
 /**
  * This is the class that manages all internationalization-functions and also contains
  * all i18n variables
- * 
- * @author		Markus Blaschke <mblaschke at users.berlios.de>
- * @version		$Revision$
- * @package		phpmediadb
- * @subpackage	presentation
  */
 class phpmediadb_presentation_i18n
 {

Index: class.phpmediadb_presentation.php
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.presentation/class.phpmediadb_presentation.php,v
retrieving revision 1.9
retrieving revision 1.10
diff -u -d -r1.9 -r1.10
--- class.phpmediadb_presentation.php	20 Apr 2005 21:46:16 -0000	1.9
+++ class.phpmediadb_presentation.php	22 Apr 2005 21:55:18 -0000	1.10
@@ -40,11 +40,6 @@
  * This class contains all subclasses of the TIER.PRESENTATION and the configuration
  * for the whole TIER.PRESENTATION.
  * The subclasses can be accessed through the public references.
- * 
- * @author		Markus Blaschke <mblaschke at users.berlios.de>
- * @version		$Revision$
- * @package		phpmediadb
- * @subpackage	presentation
  */
 class phpmediadb_presentation
 {

Index: class.phpmediadb_presentation_session.php
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.presentation/class.phpmediadb_presentation_session.php,v
retrieving revision 1.7
retrieving revision 1.8
diff -u -d -r1.7 -r1.8
--- class.phpmediadb_presentation_session.php	20 Apr 2005 21:46:16 -0000	1.7
+++ class.phpmediadb_presentation_session.php	22 Apr 2005 21:55:18 -0000	1.8
@@ -38,11 +38,6 @@
 
 /**
  * This is the class that manages the session-access
- * 
- * @author		Markus Blaschke <mblaschke at users.berlios.de>
- * @version		$Revision$
- * @package		phpmediadb
- * @subpackage	presentation
  */
 class phpmediadb_presentation_session
 {

Index: class.phpmediadb_presentation_xmlservice.php
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.presentation/class.phpmediadb_presentation_xmlservice.php,v
retrieving revision 1.6
retrieving revision 1.7
diff -u -d -r1.6 -r1.7
--- class.phpmediadb_presentation_xmlservice.php	20 Apr 2005 21:46:16 -0000	1.6
+++ class.phpmediadb_presentation_xmlservice.php	22 Apr 2005 21:55:18 -0000	1.7
@@ -38,11 +38,6 @@
  
 /**
  * This is the class that manages all xml-serivces
- * 
- * @author		Markus Blaschke <mblaschke at users.berlios.de>
- * @version		$Revision$
- * @package		phpmediadb
- * @subpackage	presentation
  */
 class phpmediadb_presentation_xmlservice
 {



From nobody at sheep.berlios.de  Sat Apr 23 15:29:35 2005
From: nobody at sheep.berlios.de (mblaschke)
Date: Sat, 23 Apr 2005 15:29:35 +0200
Subject: [phpmediadb-cvs] phpmediadb-cvs/_source/tier.configuration config.business.php,1.11,1.12
Message-ID: <200504231329.j3NDTZm25587@bat.berlios.de>

Update of /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.configuration
In directory sheep:/tmp/cvs-serv25557/_source/tier.configuration

Modified Files:
	config.business.php 
Log Message:
* Fixed regex itemmediasize, can now be integer or float

Index: config.business.php
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.configuration/config.business.php,v
retrieving revision 1.11
retrieving revision 1.12
diff -u -d -r1.11 -r1.12
--- config.business.php	20 Apr 2005 21:45:38 -0000	1.11
+++ config.business.php	23 Apr 2005 13:29:33 -0000	1.12
@@ -51,7 +51,7 @@
 $phpMediaDbConfig['BUSINESS']['input-regex'][PHPMEDIADB_ITEM_AUDIO]['itemidentification']		= '^(.{1,255})?$';
 $phpMediaDbConfig['BUSINESS']['input-regex'][PHPMEDIADB_ITEM_AUDIO]['itemreleasedate']				= '^([[:digit:]]{4})?$';
 $phpMediaDbConfig['BUSINESS']['input-regex'][PHPMEDIADB_ITEM_AUDIO]['categories']				= '^([[:digit:]]+)?$';
-$phpMediaDbConfig['BUSINESS']['input-regex'][PHPMEDIADB_ITEM_AUDIO]['itemmediasize']			= '^(([[:digit:]]+([[:punct:]]{1}[[:digit:]]+)))?$';
+$phpMediaDbConfig['BUSINESS']['input-regex'][PHPMEDIADB_ITEM_AUDIO]['itemmediasize']			= '^(([[:digit:]]+([,.][[:digit:]]+)?))?$';
 $phpMediaDbConfig['BUSINESS']['input-regex'][PHPMEDIADB_ITEM_AUDIO]['mediaformatid']			= '^([[:digit:]]+)?$';
 $phpMediaDbConfig['BUSINESS']['input-regex'][PHPMEDIADB_ITEM_AUDIO]['itempublisher']			= '^(.{1,255})?$';
 $phpMediaDbConfig['BUSINESS']['input-regex'][PHPMEDIADB_ITEM_AUDIO]['mediaagerestrictionid']	= '^([[:digit:]]+)?$';
@@ -77,7 +77,7 @@
 $phpMediaDbConfig['BUSINESS']['input-regex'][PHPMEDIADB_ITEM_VIDEO]['itemidentification']		= '^(.{1,255})?$';
 $phpMediaDbConfig['BUSINESS']['input-regex'][PHPMEDIADB_ITEM_VIDEO]['itemreleasedate']				= '^([[:digit:]]{4})?$';
 $phpMediaDbConfig['BUSINESS']['input-regex'][PHPMEDIADB_ITEM_VIDEO]['categories']				= '^([[:digit:]]+)?$';
-$phpMediaDbConfig['BUSINESS']['input-regex'][PHPMEDIADB_ITEM_VIDEO]['itemmediasize']			= '^(([[:digit:]]+([[:punct:]]{1}[[:digit:]]+)))?$';
+$phpMediaDbConfig['BUSINESS']['input-regex'][PHPMEDIADB_ITEM_VIDEO]['itemmediasize']			= '^(([[:digit:]]+([,.][[:digit:]]+)?))?$';
 $phpMediaDbConfig['BUSINESS']['input-regex'][PHPMEDIADB_ITEM_VIDEO]['mediaformatid']			= '^([[:digit:]]+)?$';
 $phpMediaDbConfig['BUSINESS']['input-regex'][PHPMEDIADB_ITEM_VIDEO]['itempublisher']			= '^(.{1,255})?$';
 $phpMediaDbConfig['BUSINESS']['input-regex'][PHPMEDIADB_ITEM_VIDEO]['mediaagerestrictionid']	= '^([[:digit:]]+)?$';
@@ -103,7 +103,7 @@
 $phpMediaDbConfig['BUSINESS']['input-regex'][PHPMEDIADB_ITEM_PRINT]['itemidentification']		= '^(.{1,255})?$';
 $phpMediaDbConfig['BUSINESS']['input-regex'][PHPMEDIADB_ITEM_PRINT]['itemreleasedate']				= '^([[:digit:]]{4})?$';
 $phpMediaDbConfig['BUSINESS']['input-regex'][PHPMEDIADB_ITEM_PRINT]['categories']				= '^([[:digit:]]+)?$';
-$phpMediaDbConfig['BUSINESS']['input-regex'][PHPMEDIADB_ITEM_PRINT]['itemmediasize']			= '^(([[:digit:]]+([[:punct:]]{1}[[:digit:]]+)))?$';
+$phpMediaDbConfig['BUSINESS']['input-regex'][PHPMEDIADB_ITEM_PRINT]['itemmediasize']			= '^(([[:digit:]]+([,.][[:digit:]]+)?))?$';
 $phpMediaDbConfig['BUSINESS']['input-regex'][PHPMEDIADB_ITEM_PRINT]['mediaformatid']			= '^([[:digit:]]+)?$';
 $phpMediaDbConfig['BUSINESS']['input-regex'][PHPMEDIADB_ITEM_PRINT]['itempublisher']			= '^(.{1,255})?$';
 $phpMediaDbConfig['BUSINESS']['input-regex'][PHPMEDIADB_ITEM_PRINT]['mediaagerestrictionid']	= '^([[:digit:]]+)?$';



From nobody at sheep.berlios.de  Mon Apr 25 21:54:23 2005
From: nobody at sheep.berlios.de (mblaschke)
Date: Mon, 25 Apr 2005 21:54:23 +0200
Subject: [phpmediadb-cvs] phpmediadb-cvs/_source/tier.data class.phpmediadb_data_audios.php,1.18,1.19 class.phpmediadb_data_prints.php,1.19,1.20 class.phpmediadb_data_videos.php,1.18,1.19
Message-ID: <200504251954.j3PJsNm07866@bat.berlios.de>

Update of /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.data
In directory sheep:/tmp/cvs-serv858/_source/tier.data

Modified Files:
	class.phpmediadb_data_audios.php 
	class.phpmediadb_data_prints.php 
	class.phpmediadb_data_videos.php 
Log Message:
* Fixed critical bug in modify, wrong data updated

Index: class.phpmediadb_data_audios.php
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.data/class.phpmediadb_data_audios.php,v
retrieving revision 1.18
retrieving revision 1.19
diff -u -d -r1.18 -r1.19
--- class.phpmediadb_data_audios.php	22 Apr 2005 21:54:59 -0000	1.18
+++ class.phpmediadb_data_audios.php	25 Apr 2005 19:54:20 -0000	1.19
@@ -233,8 +233,8 @@
 													Items.ItemMediaName = ?,
 													Items.ItemLocation = ?,
 													Items.ItemModificationDate = now(),
-													Items.ItemPictureURL = ?,
 													Items.ItemComment = ?,
+													Items.ItemPictureURL = ?,
 													Items.ItemQuantity = ?,
 													Items.ItemIdentifier = ?,
 													Items.MediaCodecID = ?,

Index: class.phpmediadb_data_prints.php
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.data/class.phpmediadb_data_prints.php,v
retrieving revision 1.19
retrieving revision 1.20
diff -u -d -r1.19 -r1.20
--- class.phpmediadb_data_prints.php	22 Apr 2005 21:54:59 -0000	1.19
+++ class.phpmediadb_data_prints.php	25 Apr 2005 19:54:20 -0000	1.20
@@ -230,8 +230,8 @@
 													Items.ItemMediaName = ?,
 													Items.ItemLocation = ?,
 													Items.ItemModificationDate = now(),
-													Items.ItemPictureURL = ?,
 													Items.ItemComment = ?,
+													Items.ItemPictureURL = ?,
 													Items.ItemQuantity = ?,
 													Items.ItemIdentifier = ?,
 													Items.MediaCodecID = ?,

Index: class.phpmediadb_data_videos.php
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.data/class.phpmediadb_data_videos.php,v
retrieving revision 1.18
retrieving revision 1.19
diff -u -d -r1.18 -r1.19
--- class.phpmediadb_data_videos.php	22 Apr 2005 21:54:59 -0000	1.18
+++ class.phpmediadb_data_videos.php	25 Apr 2005 19:54:20 -0000	1.19
@@ -230,8 +230,8 @@
 													Items.ItemMediaName = ?,
 													Items.ItemLocation = ?,
 													Items.ItemModificationDate = now(),
-													Items.ItemPictureURL = ?,
 													Items.ItemComment = ?,
+													Items.ItemPictureURL = ?,
 													Items.ItemQuantity = ?,
 													Items.ItemIdentifier = ?,
 													Items.MediaCodecID = ?,



From nobody at sheep.berlios.de  Mon Apr 25 21:55:31 2005
From: nobody at sheep.berlios.de (mblaschke)
Date: Mon, 25 Apr 2005 21:55:31 +0200
Subject: [phpmediadb-cvs] phpmediadb-cvs/_source/tier.presentation class.phpmediadb_presentation_i18n.php,1.13,1.14
Message-ID: <200504251955.j3PJtVm07892@bat.berlios.de>

Update of /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.presentation
In directory sheep:/tmp/cvs-serv917/_source/tier.presentation

Modified Files:
	class.phpmediadb_presentation_i18n.php 
Log Message:
* Fixed notice if no HTTP_Language is delivered

Index: class.phpmediadb_presentation_i18n.php
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.presentation/class.phpmediadb_presentation_i18n.php,v
retrieving revision 1.13
retrieving revision 1.14
diff -u -d -r1.13 -r1.14
--- class.phpmediadb_presentation_i18n.php	22 Apr 2005 21:55:18 -0000	1.13
+++ class.phpmediadb_presentation_i18n.php	25 Apr 2005 19:55:28 -0000	1.14
@@ -272,7 +272,10 @@
 		$returnValue = $defaultLanguage;
 
 		/* get browserlanguage */
-		$HTTP_Language	= $_SERVER['HTTP_ACCEPT_LANGUAGE'];
+		if( array_key_exists( 'HTTP_ACCEPT_LANGUAGE', $_SERVER ) )
+			$HTTP_Language	= $_SERVER['HTTP_ACCEPT_LANGUAGE'];
+		else 
+			return $defaultLanguage;
 
 		/* check if browserlanguage is empty -> return default language */
 		if( empty( $HTTP_Language ) )



From nobody at sheep.berlios.de  Mon Apr 25 21:57:14 2005
From: nobody at sheep.berlios.de (mblaschke)
Date: Mon, 25 Apr 2005 21:57:14 +0200
Subject: [phpmediadb-cvs] phpmediadb-cvs/_source/tier.configuration/templates body.item.audio.show.tpl,1.2,1.3 body.item.print.show.tpl,1.2,1.3 body.item.video.show.tpl,1.2,1.3
Message-ID: <200504251957.j3PJvEm07921@bat.berlios.de>

Update of /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.configuration/templates
In directory sheep:/tmp/cvs-serv960/_source/tier.configuration/templates

Modified Files:
	body.item.audio.show.tpl body.item.print.show.tpl 
	body.item.video.show.tpl 
Log Message:
* Updated detaillist

Index: body.item.audio.show.tpl
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.configuration/templates/body.item.audio.show.tpl,v
retrieving revision 1.2
retrieving revision 1.3
diff -u -d -r1.2 -r1.3
--- body.item.audio.show.tpl	13 Apr 2005 15:04:42 -0000	1.2
+++ body.item.audio.show.tpl	25 Apr 2005 19:57:12 -0000	1.3
@@ -1,66 +1,88 @@
 <div id="phpmediadb-body-details-audio" class="phpmediadb-body-details">
-{if $ITEMDATA.itempictureid gt '0'}<img src="http://schattenjaeger.ath.cx:20000/phpmediadb-cvs/_layout/images/phpmediadb.jpg" align="right"/>{/if}
+<span id="phpmediadb-body-details-modify"><a href="admin/item-mod.php?itemid={$ITEMDATA.itemid}"><img src="{$CONFIGURATION.ROOTPATH}_layout/images/icons/action-modify.png" alt="{$I18N.ACTION_MODIFY|default:"%ACTION_MODIFY%"}" /> {$I18N.ACTION_MODIFY|default:"%ACTION_MODIFY%"}</a></span>
+<span id="phpmediadb-body-details-delete"><a href="admin/item-del.php?itemid={$ITEMDATA.itemid}"><img src="{$CONFIGURATION.ROOTPATH}_layout/images/icons/action-remove.png" alt="{$I18N.ACTION_DELETE|default:"%ACTION_DELETE%"}" /> {$I18N.ACTION_DELETE|default:"%ACTION_DELETE%"}</a></span>
+<br />
+{if $ITEMDATA.itempictureurl neq ''}<img src="{$ITEMDATA.itempictureurl}" align="right" alt="{$ITEMDATA.itemtitle}" />{/if}
+
 <h1>{$ITEMDATA.itemtitle|default:$I18N.NOT_SET|default:"%NOT_SET%"} {if $ITEMDATA.itemreleasedate neq ''}[{$ITEMDATA.itemreleasedate}]{/if} </h1>
 {if $ITEMDATA.itemoriginaltitle neq ''}<h2>{$ITEMDATA.itemoriginaltitle}</h2>{/if}
 {counter assign=COUNTER_CATEGORY start=0 print=0}
-{$I18N.MEDIA_AUDIO_ITEM_CATEGORY|default:"%MEDIA_AUDIO_ITEM_CATEGORY%"}:<br />
+{$I18N.MEDIA_AUDIO_ITEM_CATEGORY|default:"%MEDIA_AUDIO_ITEM_CATEGORY%"}:
 {foreach from=$ITEMDATA.__special.categories item=currentDataItem}{if $COUNTER_CATEGORY gt '0'}; {/if}{$currentDataItem.categoryname}{counter print=0}{/foreach}{if $COUNTER_CATEGORY eq '0'}{$I18N.NOT_SET|default:"%NOT_SET%"}{/if}
 
 <table>
+{if $ITEMDATA.itemmedianame neq ''}
 	<tr>
 		<th>{$I18N.MEDIA_AUDIO_ITEM_MEDIANAME|default:"%MEDIA_AUDIO_ITEM_MEDIANAME%"}</th>
-		<td>{$ITEMDATA.itemmedianame|default:$I18N.NOT_SET|default:"%NOT_SET%"}</td>
+		<td>{$ITEMDATA.itemmedianame}</td>
 	</tr>
+{/if}
 
+{if $ITEMDATA.itemidentifier neq ''}
 	<tr>
 		<th>{$I18N.MEDIA_AUDIO_ITEM_IDENTIFICATION|default:"%MEDIA_AUDIO_ITEM_IDENTIFICATION%"}</th>
-		<td>{$ITEMDATA.itemidentifier|default:$I18N.NOT_SET|default:"%NOT_SET%"}</td>
+		<td>{$ITEMDATA.itemidentifier}</td>
 	</tr>
-	
+{/if}
+
+{if $ITEMDATA.itemmediasize neq ''}
 	<tr>
 		<th>{$I18N.MEDIA_AUDIO_ITEM_MEDIASIZE|default:"%MEDIA_AUDIO_ITEM_MEDIASIZE%"}</th>
-		<td>{$ITEMDATA.itemmediasize|default:$I18N.NOT_SET|default:"%NOT_SET%"}</td>
+		<td>{$ITEMDATA.itemmediasize}</td>
 	</tr>
-	
+{/if}
+
+{if $ITEMDATA.mediaformatid neq ''}
 	<tr>
 		<th>{$I18N.MEDIA_AUDIO_ITEM_FORMAT|default:"%MEDIA_AUDIO_ITEM_FORMAT%"}</th>
-		<td>{$ITEMDATA.itemtitle|default:$I18N.NOT_SET|default:"%NOT_SET%"}</td>
-	</tr>
-	
-	<tr>
-		<th>{$I18N.MEDIA_AUDIO_ITEM_RELEASEYEAR|default:"%MEDIA_AUDIO_ITEM_RELEASEYEAR%"}</th>
-		<td>{$ITEMDATA.mediaformatid|default:$I18N.NOT_SET|default:"%NOT_SET%"}</td>
+		<td>{$ITEMDATA.mediaformatid}</td>
 	</tr>
-	
+{/if}
+
+{if $ITEMDATA.itempublisher neq ''}
 	<tr>
 		<th>{$I18N.MEDIA_AUDIO_ITEM_PUBLISHER|default:"%MEDIA_AUDIO_ITEM_PUBLISHER%"}</th>
-		<td>{$ITEMDATA.itempublisher|default:$I18N.NOT_SET|default:"%NOT_SET%"}</td>
+		<td>{$ITEMDATA.itempublisher}</td>
 	</tr>
-	
+{/if}
+
+
+{if $ITEMDATA.mediaagerestrictionid neq ''}
 	<tr>
 		<th>{$I18N.MEDIA_AUDIO_ITEM_AGERESTRICTION|default:"%MEDIA_AUDIO_ITEM_AGERESTRICTION%"}</th>
-		<td>{$ITEMDATA.mediaagerestrictionid|default:$I18N.NOT_SET|default:"%NOT_SET%"}</td>
+		<td>{$ITEMDATA.mediaagerestrictionid}</td>
 	</tr>
-	
+{/if}
+
+
+{if $ITEMDATA.mediacodecid neq ''}
 	<tr>
 		<th>{$I18N.MEDIA_AUDIO_ITEM_CODEC|default:"%MEDIA_AUDIO_ITEM_CODEC%"}</th>
-		<td>{$ITEMDATA.mediacodecid|default:$I18N.NOT_SET|default:"%NOT_SET%"}</td>
+		<td>{$ITEMDATA.mediacodecid}</td>
 	</tr>
-	
+{/if}
+
+
+{if $ITEMDATA.itemquantity neq ''}
 	<tr>
 		<th>{$I18N.MEDIA_AUDIO_ITEM_QUANTITY|default:"%MEDIA_AUDIO_ITEM_QUANTITY%"}</th>
-		<td>{$ITEMDATA.itemquantity|default:$I18N.NOT_SET|default:"%NOT_SET%"}</td>
+		<td>{$ITEMDATA.itemquantity}</td>
 	</tr>
-	
-		<tr>
+{/if}
+
+
+{if $ITEMDATA.itemcomment neq ''}
+	<tr>
 		<th>{$I18N.MEDIA_AUDIO_ITEM_COMMENT|default:"%MEDIA_AUDIO_ITEM_COMMENT%"}</th>
-		<td>{$ITEMDATA.itemcomment|default:$I18N.NOT_SET|default:"%NOT_SET%"}</td>
+		<td>{$ITEMDATA.itemcomment|nl2br}</td>
 	</tr>
-	
+{/if}
+
+
 	<tr>
 		<td colspan="2">&nbsp;</td>
 	</tr>
-	
+
 	<tr>
 		<td colspan="2">
 			{if $ITEMDATA.itemcreationdate gt '0'}{$I18N.MEDIA_CREATIONDATE|default:"%MEDIA_CREATIONDATE%"}: {$ITEMDATA.itemcreationdate|date_format:"%A, %B %e, %Y %H:%M:%S"|default:$I18N.NOT_SET|default:"%NOT_SET%"} <br />{/if}

Index: body.item.print.show.tpl
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.configuration/templates/body.item.print.show.tpl,v
retrieving revision 1.2
retrieving revision 1.3
diff -u -d -r1.2 -r1.3
--- body.item.print.show.tpl	13 Apr 2005 15:04:53 -0000	1.2
+++ body.item.print.show.tpl	25 Apr 2005 19:57:12 -0000	1.3
@@ -1,66 +1,88 @@
 <div id="phpmediadb-body-details-print" class="phpmediadb-body-details">
-{if $ITEMDATA.itempictureid gt '0'}<img src="http://schattenjaeger.ath.cx:20000/phpmediadb-cvs/_layout/images/phpmediadb.jpg" align="right"/>{/if}
+<span id="phpmediadb-body-details-modify"><a href="admin/item-mod.php?itemid={$ITEMDATA.itemid}"><img src="{$CONFIGURATION.ROOTPATH}_layout/images/icons/action-modify.png" alt="{$I18N.ACTION_MODIFY|default:"%ACTION_MODIFY%"}" /> {$I18N.ACTION_MODIFY|default:"%ACTION_MODIFY%"}</a></span>
+<span id="phpmediadb-body-details-delete"><a href="admin/item-del.php?itemid={$ITEMDATA.itemid}"><img src="{$CONFIGURATION.ROOTPATH}_layout/images/icons/action-remove.png" alt="{$I18N.ACTION_DELETE|default:"%ACTION_DELETE%"}" /> {$I18N.ACTION_DELETE|default:"%ACTION_DELETE%"}</a></span>
+<br />
+{if $ITEMDATA.itempictureurl neq ''}<img src="{$ITEMDATA.itempictureurl}" align="right" alt="{$ITEMDATA.itemtitle}" />{/if}
+
 <h1>{$ITEMDATA.itemtitle|default:$I18N.NOT_SET|default:"%NOT_SET%"} {if $ITEMDATA.itemreleasedate neq ''}[{$ITEMDATA.itemreleasedate}]{/if} </h1>
 {if $ITEMDATA.itemoriginaltitle neq ''}<h2>{$ITEMDATA.itemoriginaltitle}</h2>{/if}
 {counter assign=COUNTER_CATEGORY start=0 print=0}
-{$I18N.MEDIA_PRINT_ITEM_CATEGORY|default:"%MEDIA_AUDIO_ITEM_CATEGORY%"}:<br />
+{$I18N.MEDIA_PRINT_ITEM_CATEGORY|default:"%MEDIA_PRINT_ITEM_CATEGORY%"}:
 {foreach from=$ITEMDATA.__special.categories item=currentDataItem}{if $COUNTER_CATEGORY gt '0'}; {/if}{$currentDataItem.categoryname}{counter print=0}{/foreach}{if $COUNTER_CATEGORY eq '0'}{$I18N.NOT_SET|default:"%NOT_SET%"}{/if}
 
 <table>
+{if $ITEMDATA.itemmedianame neq ''}
 	<tr>
-		<th>{$I18N.MEDIA_PRINT_ITEM_MEDIANAME|default:"%MEDIA_AUDIO_ITEM_MEDIANAME%"}</th>
-		<td>{$ITEMDATA.itemmedianame|default:$I18N.NOT_SET|default:"%NOT_SET%"}</td>
+		<th>{$I18N.MEDIA_PRINT_ITEM_MEDIANAME|default:"%MEDIA_PRINT_ITEM_MEDIANAME%"}</th>
+		<td>{$ITEMDATA.itemmedianame}</td>
 	</tr>
+{/if}
 
+{if $ITEMDATA.itemidentifier neq ''}
 	<tr>
-		<th>{$I18N.MEDIA_PRINT_ITEM_IDENTIFICATION|default:"%MEDIA_AUDIO_ITEM_IDENTIFICATION%"}</th>
-		<td>{$ITEMDATA.itemidentifier|default:$I18N.NOT_SET|default:"%NOT_SET%"}</td>
+		<th>{$I18N.MEDIA_PRINT_ITEM_IDENTIFICATION|default:"%MEDIA_PRINT_ITEM_IDENTIFICATION%"}</th>
+		<td>{$ITEMDATA.itemidentifier}</td>
 	</tr>
-	
+{/if}
+
+{if $ITEMDATA.itemmediasize neq ''}
 	<tr>
-		<th>{$I18N.MEDIA_PRINT_ITEM_MEDIASIZE|default:"%MEDIA_AUDIO_ITEM_MEDIASIZE%"}</th>
-		<td>{$ITEMDATA.itemmediasize|default:$I18N.NOT_SET|default:"%NOT_SET%"}</td>
+		<th>{$I18N.MEDIA_PRINT_ITEM_MEDIASIZE|default:"%MEDIA_PRINT_ITEM_MEDIASIZE%"}</th>
+		<td>{$ITEMDATA.itemmediasize}</td>
 	</tr>
-	
+{/if}
+
+{if $ITEMDATA.mediaformatid neq ''}
 	<tr>
-		<th>{$I18N.MEDIA_PRINT_ITEM_FORMAT|default:"%MEDIA_AUDIO_ITEM_FORMAT%"}</th>
-		<td>{$ITEMDATA.itemtitle|default:$I18N.NOT_SET|default:"%NOT_SET%"}</td>
+		<th>{$I18N.MEDIA_PRINT_ITEM_FORMAT|default:"%MEDIA_PRINT_ITEM_FORMAT%"}</th>
+		<td>{$ITEMDATA.mediaformatid}</td>
 	</tr>
-	
+{/if}
+
+{if $ITEMDATA.itempublisher neq ''}
 	<tr>
-		<th>{$I18N.MEDIA_PRINT_ITEM_RELEASEYEAR|default:"%MEDIA_AUDIO_ITEM_RELEASEYEAR%"}</th>
-		<td>{$ITEMDATA.mediaformatid|default:$I18N.NOT_SET|default:"%NOT_SET%"}</td>
+		<th>{$I18N.MEDIA_PRINT_ITEM_PUBLISHER|default:"%MEDIA_PRINT_ITEM_PUBLISHER%"}</th>
+		<td>{$ITEMDATA.itempublisher}</td>
 	</tr>
-	
+{/if}
+
+
+{if $ITEMDATA.mediaagerestrictionid neq ''}
 	<tr>
-		<th>{$I18N.MEDIA_PRINT_ITEM_PUBLISHER|default:"%MEDIA_AUDIO_ITEM_PUBLISHER%"}</th>
-		<td>{$ITEMDATA.itempublisher|default:$I18N.NOT_SET|default:"%NOT_SET%"}</td>
+		<th>{$I18N.MEDIA_PRINT_ITEM_AGERESTRICTION|default:"%MEDIA_PRINT_ITEM_AGERESTRICTION%"}</th>
+		<td>{$ITEMDATA.mediaagerestrictionid}</td>
 	</tr>
-	
+{/if}
+
+
+{if $ITEMDATA.mediacodecid neq ''}
 	<tr>
-		<th>{$I18N.MEDIA_PRINT_ITEM_AGERESTRICTION|default:"%MEDIA_AUDIO_ITEM_AGERESTRICTION%"}</th>
-		<td>{$ITEMDATA.mediaagerestrictionid|default:$I18N.NOT_SET|default:"%NOT_SET%"}</td>
+		<th>{$I18N.MEDIA_PRINT_ITEM_CODEC|default:"%MEDIA_PRINT_ITEM_CODEC%"}</th>
+		<td>{$ITEMDATA.mediacodecid}</td>
 	</tr>
-	
+{/if}
+
+
+{if $ITEMDATA.itemquantity neq ''}
 	<tr>
-		<th>{$I18N.MEDIA_PRINT_ITEM_CODEC|default:"%MEDIA_AUDIO_ITEM_CODEC%"}</th>
-		<td>{$ITEMDATA.mediacodecid|default:$I18N.NOT_SET|default:"%NOT_SET%"}</td>
+		<th>{$I18N.MEDIA_PRINT_ITEM_QUANTITY|default:"%MEDIA_PRINT_ITEM_QUANTITY%"}</th>
+		<td>{$ITEMDATA.itemquantity}</td>
 	</tr>
-	
+{/if}
+
+
+{if $ITEMDATA.itemcomment neq ''}
 	<tr>
-		<th>{$I18N.MEDIA_PRINT_ITEM_QUANTITY|default:"%MEDIA_AUDIO_ITEM_QUANTITY%"}</th>
-		<td>{$ITEMDATA.itemquantity|default:$I18N.NOT_SET|default:"%NOT_SET%"}</td>
-	</tr>
-	
-		<tr>
-		<th>{$I18N.MEDIA_PRINT_ITEM_COMMENT|default:"%MEDIA_AUDIO_ITEM_COMMENT%"}</th>
-		<td>{$ITEMDATA.itemcomment|default:$I18N.NOT_SET|default:"%NOT_SET%"}</td>
+		<th>{$I18N.MEDIA_PRINT_ITEM_COMMENT|default:"%MEDIA_PRINT_ITEM_COMMENT%"}</th>
+		<td>{$ITEMDATA.itemcomment|nl2br}</td>
 	</tr>
-	
+{/if}
+
+
 	<tr>
 		<td colspan="2">&nbsp;</td>
 	</tr>
-	
+
 	<tr>
 		<td colspan="2">
 			{if $ITEMDATA.itemcreationdate gt '0'}{$I18N.MEDIA_CREATIONDATE|default:"%MEDIA_CREATIONDATE%"}: {$ITEMDATA.itemcreationdate|date_format:"%A, %B %e, %Y %H:%M:%S"|default:$I18N.NOT_SET|default:"%NOT_SET%"} <br />{/if}

Index: body.item.video.show.tpl
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.configuration/templates/body.item.video.show.tpl,v
retrieving revision 1.2
retrieving revision 1.3
diff -u -d -r1.2 -r1.3
--- body.item.video.show.tpl	13 Apr 2005 15:04:53 -0000	1.2
+++ body.item.video.show.tpl	25 Apr 2005 19:57:12 -0000	1.3
@@ -1,66 +1,88 @@
-<div id="phpmediadb-body-details-print" class="phpmediadb-body-details">
-{if $ITEMDATA.itempictureid gt '0'}<img src="http://schattenjaeger.ath.cx:20000/phpmediadb-cvs/_layout/images/phpmediadb.jpg" align="right"/>{/if}
+<div id="phpmediadb-body-details-video" class="phpmediadb-body-details">
+<span id="phpmediadb-body-details-modify"><a href="admin/item-mod.php?itemid={$ITEMDATA.itemid}"><img src="{$CONFIGURATION.ROOTPATH}_layout/images/icons/action-modify.png" alt="{$I18N.ACTION_MODIFY|default:"%ACTION_MODIFY%"}" /> {$I18N.ACTION_MODIFY|default:"%ACTION_MODIFY%"}</a></span>
+<span id="phpmediadb-body-details-delete"><a href="admin/item-del.php?itemid={$ITEMDATA.itemid}"><img src="{$CONFIGURATION.ROOTPATH}_layout/images/icons/action-remove.png" alt="{$I18N.ACTION_DELETE|default:"%ACTION_DELETE%"}" /> {$I18N.ACTION_DELETE|default:"%ACTION_DELETE%"}</a></span>
+<br />
+{if $ITEMDATA.itempictureurl neq ''}<img src="{$ITEMDATA.itempictureurl}" align="right" alt="{$ITEMDATA.itemtitle}" />{/if}
+
 <h1>{$ITEMDATA.itemtitle|default:$I18N.NOT_SET|default:"%NOT_SET%"} {if $ITEMDATA.itemreleasedate neq ''}[{$ITEMDATA.itemreleasedate}]{/if} </h1>
 {if $ITEMDATA.itemoriginaltitle neq ''}<h2>{$ITEMDATA.itemoriginaltitle}</h2>{/if}
 {counter assign=COUNTER_CATEGORY start=0 print=0}
-{$I18N.MEDIA_VIDEO_ITEM_CATEGORY|default:"%MEDIA_AUDIO_ITEM_CATEGORY%"}:<br />
+{$I18N.MEDIA_VIDEO_ITEM_CATEGORY|default:"%MEDIA_VIDEO_ITEM_CATEGORY%"}:
 {foreach from=$ITEMDATA.__special.categories item=currentDataItem}{if $COUNTER_CATEGORY gt '0'}; {/if}{$currentDataItem.categoryname}{counter print=0}{/foreach}{if $COUNTER_CATEGORY eq '0'}{$I18N.NOT_SET|default:"%NOT_SET%"}{/if}
 
 <table>
+{if $ITEMDATA.itemmedianame neq ''}
 	<tr>
-		<th>{$I18N.MEDIA_VIDEO_ITEM_MEDIANAME|default:"%MEDIA_AUDIO_ITEM_MEDIANAME%"}</th>
-		<td>{$ITEMDATA.itemmedianame|default:$I18N.NOT_SET|default:"%NOT_SET%"}</td>
+		<th>{$I18N.MEDIA_VIDEO_ITEM_MEDIANAME|default:"%MEDIA_VIDEO_ITEM_MEDIANAME%"}</th>
+		<td>{$ITEMDATA.itemmedianame}</td>
 	</tr>
+{/if}
 
+{if $ITEMDATA.itemidentifier neq ''}
 	<tr>
-		<th>{$I18N.MEDIA_VIDEO_ITEM_IDENTIFICATION|default:"%MEDIA_AUDIO_ITEM_IDENTIFICATION%"}</th>
-		<td>{$ITEMDATA.itemidentifier|default:$I18N.NOT_SET|default:"%NOT_SET%"}</td>
+		<th>{$I18N.MEDIA_VIDEO_ITEM_IDENTIFICATION|default:"%MEDIA_VIDEO_ITEM_IDENTIFICATION%"}</th>
+		<td>{$ITEMDATA.itemidentifier}</td>
 	</tr>
-	
+{/if}
+
+{if $ITEMDATA.itemmediasize neq ''}
 	<tr>
-		<th>{$I18N.MEDIA_VIDEO_ITEM_MEDIASIZE|default:"%MEDIA_AUDIO_ITEM_MEDIASIZE%"}</th>
-		<td>{$ITEMDATA.itemmediasize|default:$I18N.NOT_SET|default:"%NOT_SET%"}</td>
+		<th>{$I18N.MEDIA_VIDEO_ITEM_MEDIASIZE|default:"%MEDIA_VIDEO_ITEM_MEDIASIZE%"}</th>
+		<td>{$ITEMDATA.itemmediasize}</td>
 	</tr>
-	
+{/if}
+
+{if $ITEMDATA.mediaformatid neq ''}
 	<tr>
-		<th>{$I18N.MEDIA_VIDEO_ITEM_FORMAT|default:"%MEDIA_AUDIO_ITEM_FORMAT%"}</th>
-		<td>{$ITEMDATA.itemtitle|default:$I18N.NOT_SET|default:"%NOT_SET%"}</td>
+		<th>{$I18N.MEDIA_VIDEO_ITEM_FORMAT|default:"%MEDIA_VIDEO_ITEM_FORMAT%"}</th>
+		<td>{$ITEMDATA.mediaformatid}</td>
 	</tr>
-	
+{/if}
+
+{if $ITEMDATA.itempublisher neq ''}
 	<tr>
-		<th>{$I18N.MEDIA_VIDEO_ITEM_RELEASEYEAR|default:"%MEDIA_AUDIO_ITEM_RELEASEYEAR%"}</th>
-		<td>{$ITEMDATA.mediaformatid|default:$I18N.NOT_SET|default:"%NOT_SET%"}</td>
+		<th>{$I18N.MEDIA_VIDEO_ITEM_PUBLISHER|default:"%MEDIA_VIDEO_ITEM_PUBLISHER%"}</th>
+		<td>{$ITEMDATA.itempublisher}</td>
 	</tr>
-	
+{/if}
+
+
+{if $ITEMDATA.mediaagerestrictionid neq ''}
 	<tr>
-		<th>{$I18N.MEDIA_VIDEO_ITEM_PUBLISHER|default:"%MEDIA_AUDIO_ITEM_PUBLISHER%"}</th>
-		<td>{$ITEMDATA.itempublisher|default:$I18N.NOT_SET|default:"%NOT_SET%"}</td>
+		<th>{$I18N.MEDIA_VIDEO_ITEM_AGERESTRICTION|default:"%MEDIA_VIDEO_ITEM_AGERESTRICTION%"}</th>
+		<td>{$ITEMDATA.mediaagerestrictionid}</td>
 	</tr>
-	
+{/if}
+
+
+{if $ITEMDATA.mediacodecid neq ''}
 	<tr>
-		<th>{$I18N.MEDIA_VIDEO_ITEM_AGERESTRICTION|default:"%MEDIA_AUDIO_ITEM_AGERESTRICTION%"}</th>
-		<td>{$ITEMDATA.mediaagerestrictionid|default:$I18N.NOT_SET|default:"%NOT_SET%"}</td>
+		<th>{$I18N.MEDIA_VIDEO_ITEM_CODEC|default:"%MEDIA_VIDEO_ITEM_CODEC%"}</th>
+		<td>{$ITEMDATA.mediacodecid}</td>
 	</tr>
-	
+{/if}
+
+
+{if $ITEMDATA.itemquantity neq ''}
 	<tr>
-		<th>{$I18N.MEDIA_VIDEO_ITEM_CODEC|default:"%MEDIA_AUDIO_ITEM_CODEC%"}</th>
-		<td>{$ITEMDATA.mediacodecid|default:$I18N.NOT_SET|default:"%NOT_SET%"}</td>
+		<th>{$I18N.MEDIA_VIDEO_ITEM_QUANTITY|default:"%MEDIA_VIDEO_ITEM_QUANTITY%"}</th>
+		<td>{$ITEMDATA.itemquantity}</td>
 	</tr>
-	
+{/if}
+
+
+{if $ITEMDATA.itemcomment neq ''}
 	<tr>
-		<th>{$I18N.MEDIA_VIDEO_ITEM_QUANTITY|default:"%MEDIA_AUDIO_ITEM_QUANTITY%"}</th>
-		<td>{$ITEMDATA.itemquantity|default:$I18N.NOT_SET|default:"%NOT_SET%"}</td>
-	</tr>
-	
-		<tr>
-		<th>{$I18N.MEDIA_VIDEO_ITEM_COMMENT|default:"%MEDIA_AUDIO_ITEM_COMMENT%"}</th>
-		<td>{$ITEMDATA.itemcomment|default:$I18N.NOT_SET|default:"%NOT_SET%"}</td>
+		<th>{$I18N.MEDIA_VIDEO_ITEM_COMMENT|default:"%MEDIA_VIDEO_ITEM_COMMENT%"}</th>
+		<td>{$ITEMDATA.itemcomment|nl2br}</td>
 	</tr>
-	
+{/if}
+
+
 	<tr>
 		<td colspan="2">&nbsp;</td>
 	</tr>
-	
+
 	<tr>
 		<td colspan="2">
 			{if $ITEMDATA.itemcreationdate gt '0'}{$I18N.MEDIA_CREATIONDATE|default:"%MEDIA_CREATIONDATE%"}: {$ITEMDATA.itemcreationdate|date_format:"%A, %B %e, %Y %H:%M:%S"|default:$I18N.NOT_SET|default:"%NOT_SET%"} <br />{/if}



From nobody at sheep.berlios.de  Mon Apr 25 21:57:40 2005
From: nobody at sheep.berlios.de (mblaschke)
Date: Mon, 25 Apr 2005 21:57:40 +0200
Subject: [phpmediadb-cvs] phpmediadb-cvs/_layout/stylesheet default.css,1.5,1.6
Message-ID: <200504251957.j3PJvem07928@bat.berlios.de>

Update of /cvsroot/phpmediadb/phpmediadb-cvs/_layout/stylesheet
In directory sheep:/tmp/cvs-serv975/_layout/stylesheet

Modified Files:
	default.css 
Log Message:
* Added body-details

Index: default.css
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/_layout/stylesheet/default.css,v
retrieving revision 1.5
retrieving revision 1.6
diff -u -d -r1.5 -r1.6
--- default.css	15 Mar 2005 21:03:22 -0000	1.5
+++ default.css	25 Apr 2005 19:57:38 -0000	1.6
@@ -23,10 +23,10 @@
 #phpmediadb-menu A:hover { color:black; background-color:#CCCCCC; padding:3px; border:1px solid #666666; text-decoration: none; }
 #phpmediadb-menu A:active { color:black; background-color:#E6E6E6; padding:3px; border:1px solid #666666; text-decoration: none; }
 
-#phpmediadb-menu { background-color:#EEEEEE;position:absolute;top:50px;left:5px; margin:0px; padding:5px; border:1px solid grey; width:125px; }
+#phpmediadb-menu { background-color:#EEEEEE;position:absolute;top:50px;left:5px; margin:0px; padding:5px; border:1px solid grey; width:150px; }
 
 /*** PHPMEDIADB-BODY *********************************************************/
-#phpmediadb-body { background-color:#EEEEEE;padding: 10px;border: 0px;margin: 10px 0px 0px 150px;border:1px solid grey; }
+#phpmediadb-body { background-color:#EEEEEE;padding: 10px;border: 0px;margin: 10px 10px 0px 175px;border:1px solid grey; }
 
 .phpmediadb-body-menu A, .phpmediadb-body-menu A:visited { color:black;padding:3px;border:1px solid #F3F3F3;text-decoration: none; }
 .phpmediadb-body-menu A:hover { color:black; background-color:#CCCCCC; padding:3px; border:1px solid #666666; text-decoration: none; }
@@ -45,9 +45,12 @@
 #phpmediadb-body-home { text-align: center; }
 
 /*** PHPMEDIADB-BODY-LIST ****************************************************/
+/*** PHPMEDIADB-BODY-DETAILS ****************************************************/
+.phpmediadb-body-details { }
+.phpmediadb-body-details th { text-align:left; vertical-align:top; }
 
 /*** PHPMEDIADB-BODY-SEARCH **************************************************/
 
 /*** PHPMEDIADB-BODY-ABOUT ***************************************************/
-#phpmediadb-body-about-copyright{ } 
+#phpmediadb-body-about-copyright{ }
 /*--- EOF --- EOF --- EOF --- EOF --- EOF --- EOF --- EOF --- EOF --- EOF ---*/



From nobody at sheep.berlios.de  Mon Apr 25 23:37:33 2005
From: nobody at sheep.berlios.de (mblaschke)
Date: Mon, 25 Apr 2005 23:37:33 +0200
Subject: [phpmediadb-cvs] phpmediadb-cvs/_source/tier.configuration/templates body.item.audio.show.tpl,1.3,1.4 body.item.print.show.tpl,1.3,1.4 body.item.video.show.tpl,1.3,1.4
Message-ID: <200504252137.j3PLbXm10117@bat.berlios.de>

Update of /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.configuration/templates
In directory sheep:/tmp/cvs-serv7039/_source/tier.configuration/templates

Modified Files:
	body.item.audio.show.tpl body.item.print.show.tpl 
	body.item.video.show.tpl 
Log Message:
* Updated for FORMATS, CODECS and AGERESTRICTIONS

Index: body.item.audio.show.tpl
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.configuration/templates/body.item.audio.show.tpl,v
retrieving revision 1.3
retrieving revision 1.4
diff -u -d -r1.3 -r1.4
--- body.item.audio.show.tpl	25 Apr 2005 19:57:12 -0000	1.3
+++ body.item.audio.show.tpl	25 Apr 2005 21:37:31 -0000	1.4
@@ -32,10 +32,10 @@
 	</tr>
 {/if}
 
-{if $ITEMDATA.mediaformatid neq ''}
+{if $ITEMDATA.mediaformatid neq '' and $ITEMDATA.mediaformatid gt 0}
 	<tr>
 		<th>{$I18N.MEDIA_AUDIO_ITEM_FORMAT|default:"%MEDIA_AUDIO_ITEM_FORMAT%"}</th>
-		<td>{$ITEMDATA.mediaformatid}</td>
+		<td>{$ITEMDATA.__special.mediaformat.mediaformatname}</td>
 	</tr>
 {/if}
 
@@ -47,18 +47,17 @@
 {/if}
 
 
-{if $ITEMDATA.mediaagerestrictionid neq ''}
+{if $ITEMDATA.mediaagerestrictionid neq '' and $ITEMDATA.mediaagerestrictionid gt 0}
 	<tr>
 		<th>{$I18N.MEDIA_AUDIO_ITEM_AGERESTRICTION|default:"%MEDIA_AUDIO_ITEM_AGERESTRICTION%"}</th>
-		<td>{$ITEMDATA.mediaagerestrictionid}</td>
+		<td>{$ITEMDATA.__special.mediaagerestriction.mediaagerestriction}</td>
 	</tr>
 {/if}
 
-
-{if $ITEMDATA.mediacodecid neq ''}
+{if $ITEMDATA.mediacodecid neq '' and $ITEMDATA.mediacodecid gt 0}
 	<tr>
 		<th>{$I18N.MEDIA_AUDIO_ITEM_CODEC|default:"%MEDIA_AUDIO_ITEM_CODEC%"}</th>
-		<td>{$ITEMDATA.mediacodecid}</td>
+		<td>{$ITEMDATA.__special.mediacodec.mediacodecname}</td>
 	</tr>
 {/if}
 

Index: body.item.print.show.tpl
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.configuration/templates/body.item.print.show.tpl,v
retrieving revision 1.3
retrieving revision 1.4
diff -u -d -r1.3 -r1.4
--- body.item.print.show.tpl	25 Apr 2005 19:57:12 -0000	1.3
+++ body.item.print.show.tpl	25 Apr 2005 21:37:31 -0000	1.4
@@ -32,10 +32,10 @@
 	</tr>
 {/if}
 
-{if $ITEMDATA.mediaformatid neq ''}
+{if $ITEMDATA.mediaformatid neq '' and $ITEMDATA.mediaformatid gt 0}
 	<tr>
 		<th>{$I18N.MEDIA_PRINT_ITEM_FORMAT|default:"%MEDIA_PRINT_ITEM_FORMAT%"}</th>
-		<td>{$ITEMDATA.mediaformatid}</td>
+		<td>{$ITEMDATA.__special.mediaformat.mediaformatname}</td>
 	</tr>
 {/if}
 
@@ -47,18 +47,17 @@
 {/if}
 
 
-{if $ITEMDATA.mediaagerestrictionid neq ''}
+{if $ITEMDATA.mediaagerestrictionid neq '' and $ITEMDATA.mediaagerestrictionid gt 0}
 	<tr>
 		<th>{$I18N.MEDIA_PRINT_ITEM_AGERESTRICTION|default:"%MEDIA_PRINT_ITEM_AGERESTRICTION%"}</th>
-		<td>{$ITEMDATA.mediaagerestrictionid}</td>
+		<td>{$ITEMDATA.__special.mediaagerestriction.mediaagerestriction}</td>
 	</tr>
 {/if}
 
-
-{if $ITEMDATA.mediacodecid neq ''}
+{if $ITEMDATA.mediacodecid neq '' and $ITEMDATA.mediacodecid gt 0}
 	<tr>
 		<th>{$I18N.MEDIA_PRINT_ITEM_CODEC|default:"%MEDIA_PRINT_ITEM_CODEC%"}</th>
-		<td>{$ITEMDATA.mediacodecid}</td>
+		<td>{$ITEMDATA.__special.mediacodec.mediacodecname}</td>
 	</tr>
 {/if}
 

Index: body.item.video.show.tpl
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.configuration/templates/body.item.video.show.tpl,v
retrieving revision 1.3
retrieving revision 1.4
diff -u -d -r1.3 -r1.4
--- body.item.video.show.tpl	25 Apr 2005 19:57:12 -0000	1.3
+++ body.item.video.show.tpl	25 Apr 2005 21:37:31 -0000	1.4
@@ -32,10 +32,10 @@
 	</tr>
 {/if}
 
-{if $ITEMDATA.mediaformatid neq ''}
+{if $ITEMDATA.mediaformatid neq '' and $ITEMDATA.mediaformatid gt 0}
 	<tr>
 		<th>{$I18N.MEDIA_VIDEO_ITEM_FORMAT|default:"%MEDIA_VIDEO_ITEM_FORMAT%"}</th>
-		<td>{$ITEMDATA.mediaformatid}</td>
+		<td>{$ITEMDATA.__special.mediaformat.mediaformatname}</td>
 	</tr>
 {/if}
 
@@ -47,18 +47,17 @@
 {/if}
 
 
-{if $ITEMDATA.mediaagerestrictionid neq ''}
+{if $ITEMDATA.mediaagerestrictionid neq '' and $ITEMDATA.mediaagerestrictionid gt 0}
 	<tr>
 		<th>{$I18N.MEDIA_VIDEO_ITEM_AGERESTRICTION|default:"%MEDIA_VIDEO_ITEM_AGERESTRICTION%"}</th>
-		<td>{$ITEMDATA.mediaagerestrictionid}</td>
+		<td>{$ITEMDATA.__special.mediaagerestriction.mediaagerestriction}</td>
 	</tr>
 {/if}
 
-
-{if $ITEMDATA.mediacodecid neq ''}
+{if $ITEMDATA.mediacodecid neq '' and $ITEMDATA.mediacodecid gt 0}
 	<tr>
 		<th>{$I18N.MEDIA_VIDEO_ITEM_CODEC|default:"%MEDIA_VIDEO_ITEM_CODEC%"}</th>
-		<td>{$ITEMDATA.mediacodecid}</td>
+		<td>{$ITEMDATA.__special.mediacodec.mediacodecname}</td>
 	</tr>
 {/if}
 



From nobody at sheep.berlios.de  Mon Apr 25 23:38:01 2005
From: nobody at sheep.berlios.de (mblaschke)
Date: Mon, 25 Apr 2005 23:38:01 +0200
Subject: [phpmediadb-cvs] phpmediadb-cvs/_source/tier.business class.phpmediadb_business_items.php,1.5,1.6
Message-ID: <200504252138.j3PLc1m10123@bat.berlios.de>

Update of /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.business
In directory sheep:/tmp/cvs-serv7047/_source/tier.business

Modified Files:
	class.phpmediadb_business_items.php 
Log Message:
* Updated for FORMATS, CODECS and AGERESTRICTIONS

Index: class.phpmediadb_business_items.php
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.business/class.phpmediadb_business_items.php,v
retrieving revision 1.5
retrieving revision 1.6
diff -u -d -r1.5 -r1.6
--- class.phpmediadb_business_items.php	22 Apr 2005 21:54:45 -0000	1.5
+++ class.phpmediadb_business_items.php	25 Apr 2005 21:37:59 -0000	1.6
@@ -134,11 +134,37 @@
 				$returnValue['__special']['categories'][] = $specialValue;
 			}
 		}
-		
-		/* translate categoryByNames */
-		$returnValue['__special']['categories'] = $this->BUSINESS->CATEGORIES->translate( $returnValue['__special']['categories'] );
+			
+		/* assign mediacodec */
+		if( $returnValue['mediacodecid'] > 0 )
+		{
+			$mediacodec = $this->BUSINESS->CODECS->get( $returnValue['mediacodecid'] );
+			@$mediacodec = $this->BUSINESS->CODECS->translate( $mediacodec );
+			$returnValue['__special']['mediacodec'] = $mediacodec[0];
+		}
+
+		/* assign mediaagerestrictions */
+		if( $returnValue['mediaagerestrictionid'] > 0 )
+		{
+			$mediaagerestrictions = $this->BUSINESS->AGERESTRICTIONS->get( $returnValue['mediaagerestrictionid'] );
+			
+			@$mediaagerestrictions = $this->BUSINESS->AGERESTRICTIONS->translate( $mediaagerestrictions );
+			$returnValue['__special']['mediaagerestriction'] = $mediaagerestrictions[0];
+		}
 
 			
+		/* assign mediaformats */
+		if( $returnValue['mediaformatid'] > 0 )
+		{
+			$mediaformats = $this->BUSINESS->FORMATS->get( $returnValue['mediaformatid'] );
+			@$mediaformats = $this->BUSINESS->FORMATS->translate( $mediaformats );
+			$returnValue['__special']['mediaformat'] = $mediaformats[0];
+		}
+	
+		/* translate values */
+		@$returnValue['__special']['categories']			= $this->BUSINESS->CATEGORIES->translate( $returnValue['__special']['categories'] );
+
+
 		/* return value */
 		return $returnValue;
 	}



From nobody at sheep.berlios.de  Tue Apr 26 16:09:55 2005
From: nobody at sheep.berlios.de (bruf)
Date: Tue, 26 Apr 2005 16:09:55 +0200
Subject: [phpmediadb-cvs] phpmediadb-cvs/_source/tier.configuration/i18n i18n.de.php,1.9,1.10
Message-ID: <200504261409.j3QE9tm07797@bat.berlios.de>

Update of /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.configuration/i18n
In directory sheep:/tmp/cvs-serv29689/_source/tier.configuration/i18n

Modified Files:
	i18n.de.php 
Log Message:
* Added some translations

Index: i18n.de.php
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.configuration/i18n/i18n.de.php,v
retrieving revision 1.9
retrieving revision 1.10
diff -u -d -r1.9 -r1.10
--- i18n.de.php	20 Apr 2005 21:45:46 -0000	1.9
+++ i18n.de.php	26 Apr 2005 14:09:53 -0000	1.10
@@ -44,40 +44,57 @@
 	$i18n['MEDIA_VIDEO_TITLE'] = 'audio-visuelles Medium';
 	
 /* default i18ns */
-	$i18n['OK'] = 'Akzeptieren';
-	$i18n['CANCEL'] = 'Abbrechen';
-	$i18n['DELETE'] = 'L?schen';
-	$i18n['INPUT_FIELD'] = 'Eingabefeld';
+	$i18n['OK']				= 'Akzeptieren';
+	$i18n['CANCEL']			= 'Abbrechen';
+	$i18n['DELETE']			= 'L?schen';
+	$i18n['INPUT_FIELD']	= 'Eingabefeld';
 	
 /* messages */
 	$i18n['MESSAGE_SUCCESS_SAVE']	= 'Element erfolgreich gespeichert!';
 	
 /* errors */
-	$i18n['ERROR_INPUTSIZE']	= 'Eingabe zu gro?.';
-	$i18n['ERROR_INPUTREGEX']	= 'Eingabe nicht korrekt.';
-	$i18n['ERROR_OCCURRED']		= 'Es sind Eingabefehler auftreten.';
-	$i18n['ERROR_LISTLINK']		= '[Fehlerliste]';
+	$i18n['ERROR_TITLE']						= 'Fehlertitel';
+	$i18n['ERROR_INPUTSIZE']					= 'Eingabe zu gro?.';
+	$i18n['ERROR_INPUTREGEX']					= 'Eingabe nicht korrekt.';
+	$i18n['ERROR_OCCURRED']						= 'Es sind Eingabefehler auftreten.';
+	$i18n['ERROR_LISTLINK']						= '[Fehlerliste]';
+	$i18n['HTTP_ERROR_401_BODY']				= '';
+	$i18n['HTTP_ERROR_401_TITLE']				= '';
+	$i18n['HTTP_ERROR_403_BODY']				= '';
+	$i18n['HTTP_ERROR_403_TITLE']				= '';
+	$i18n['HTTP_ERROR_404_BODY']				= '';
+	$i18n['HTTP_ERROR_404_TITLE']				= '';
+	$i18n['HTTP_ERROR_500_BODY']				= '';
+	$i18n['HTTP_ERROR_500_TITLE']				= '';
+	$i18n['HTTP_ERROR_UNKNOWN_BODY']			= '';
+	$i18n['HTTP_ERROR_UNKNOWN_TITLE']			= '';
+	$i18n['MESSAGE_ITEMID_NOTNUMERICAL']		= '';
+	$i18n['MESSAGE_ITEM_LOADERROR']				= '';
+	$i18n['MESSAGE_ITEM_NOTEXISTENT']			= '';
 	
 /* formular */
-	$i18n['FORM_RESET'] = 'Zur?cksetzen';
-	$i18n['FORM_SUBMIT'] = 'Absenden';
+	$i18n['FORM_RESET']					= 'Zur?cksetzen';
+	$i18n['FORM_SUBMIT']				= 'Absenden';
+	$i18n['FORMULAR_OPTION_ITEM_EMPTY']	= ' ';
 	
 /* media data */
-	$i18n['MEDIA_TITLE'] = 'Medientitel';
-	$i18n['MEDIA_ARTIST'] = 'Artist';
-	$i18n['MEDIA_Category'] = 'Kategorie';
+	$i18n['MEDIA_TITLE']	= 'Medientitel';
+	$i18n['MEDIA_ARTIST']	= 'Artist';
+	$i18n['MEDIA_Category']	= 'Kategorie';
 	
 /* projectdata */
-	$i18n['PROJECT_SUBTITLE'] = 'Die Mediendatenbank';
-	$i18n['PROJECT_LICENSED_UNDER'] = 'Lizenziert unter';
-	$i18n['PROJECT_DESCRIPTION'] = 'Dieses Projekt dient zur Erfassung von auditiven, visuellen und Printmedien. Initiert wurde dieses Projekt von Boris Ruf und Markus Blaschke im Rahmen eines Technikerprojekts an der Werner-Siemens-Schule in Stuttgart.';
+	$i18n['PROJECT_SUBTITLE']		= 'Die Mediendatenbank';
+	$i18n['PROJECT_LICENSED_UNDER']	= 'Lizenziert unter';
+	$i18n['PROJECT_DESCRIPTION']	= 'Dieses Projekt dient zur Erfassung von auditiven, visuellen und Printmedien. Initiert wurde dieses Projekt von Boris Ruf und Markus Blaschke im Rahmen eines Technikerprojekts an der Werner-Siemens-Schule in Stuttgart.';
 	
 /* Menu items */
-	$i18n['MENU_TITLE'] = 'Navigation';
-	$i18n['MENU_HOME'] = 'Startseite';
-	$i18n['MENU_SEARCH'] = 'Suche';
-	$i18n['MENU_LIST'] = 'Liste';
-	$i18n['MENU_ABOUT'] = '?ber uns';
+	$i18n['MENU_TITLE']					= 'Navigation';
+	$i18n['MENU_HOME']					= 'Startseite';
+	$i18n['MENU_SEARCH']				= 'Suche';
+	$i18n['MENU_LIST']					= 'Liste';
+	$i18n['MENU_ABOUT']					= '?ber uns';
+	$i18n['MENU_ADDITEM']				= 'Item hinzuf?gen';
+	$i18n['MENU_ADMINISTRATION_TITLE']	= 'Administration';
 
 
 /* Itemtypes */
@@ -87,41 +104,121 @@
 
 /* Site: HOME */
 	$i18n['HOME_WELCOME'] = 'Willkommen zu phpMediaDB';
+
+/* */
+	$i18n['MEDIA_ITEM_CREATIONDATE']			= 'Erstellt am';
+	$i18n['MEDIA_ITEM_MODIFICATIONDATE']		= 'Ge?ndert am';
+	
+/**/
+	$i18n['LIST_COLUMN_TITLE_MEDIATITLE']		= 'Titel';
+	$i18n['LIST_COLUMN_TITLE_RELEASEDATE']		= 'Ver?ffentlichungsjahr';
+	$i18n['LIST_COLUMN_AUDIO_MEDIATITLE']		= 'Titel';
+	$i18n['LIST_COLUMN_AUDIO_RELEASEDATE']		= 'Ver?ffentlichungsjahr';
+	$i18n['LIST_COLUMN_PRINT_MEDIATITLE']		= 'Titel';
+	$i18n['LIST_COLUMN_PRINT_RELEASEDATE']		= 'Ver?ffentlichungsjahr';
+	$i18n['LIST_COLUMN_VIDEO_MEDIATITLE']		= 'Titel';
+	$i18n['LIST_COLUMN_VIDEO_RELEASEDATE']		= 'Ver?ffentlichungsjahr';
 	
 /*----------------------------------------------------------*/	
-	$i18n['ACTION_DELETE'] = 'L?schen';
-	$i18n['ACTION_MODIFY'] = '?ndern';
-	$i18n['ERROR_TITLE'] = 'Fehlertitel';
-	$i18n['ITEM_AUDIO'] = 'Audio';
-	$i18n['ITEM_PRINT'] = 'Print';
-	$i18n['ITEM_VIDEO'] = 'Video';
-	$i18n['LIST_COLUMN_TITLE_MEDIATITLE'] = '';
-	$i18n['LIST_COLUMN_TITLE_RELEASEDATE'] = '';
-	$i18n['MEDIA_AGERESTRICTION'] = 'Altersbeschr?nkung';
-	$i18n['MEDIA_CATEGORY'] = 'Kategorie';
-	$i18n['MEDIA_CODEC'] = 'Codec';
-	$i18n['MEDIA_COMMENT'] = 'Kommentar';
-	$i18n['MEDIA_CREATIONDATE'] = 'Erstellt am';
-	$i18n['MEDIA_DATA_AUDIO'] = 'Audiodaten';
-	$i18n['MEDIA_DATA_PRINT'] = 'Printdaten';
-	$i18n['MEDIA_DATA_VIDEO'] = 'Videodaten';
-	$i18n['MEDIA_FORMAT'] = 'Format';
-	$i18n['MEDIA_IDENTIFICATION'] = 'Identifiactionsnummer';
-	$i18n['MEDIA_IMAGE'] = 'Bild';
-	$i18n['MEDIA_MEDIANAME'] = 'Medienname';
-	$i18n['MEDIA_MEDIASIZE'] = 'Mediengr??e';
-	$i18n['MEDIA_MODIFICATIONDATE'] = 'Ge?ndert am';
-	$i18n['MEDIA_ORIGINALTITLE'] = 'Original Titel';
-	$i18n['MEDIA_PUBLISHER'] = 'Ver?ffentlicher';
-	$i18n['MEDIA_QUANTITY'] = 'Anzahl';
-	$i18n['MEDIA_RELEASEYEAR'] = 'Erscheinungsjahr';
-	$i18n['MEDIA_TITLE'] = 'Titel';
-	$i18n['MENU_ADDITEM'] = 'Item hinzuf?gen';
-	$i18n['MENU_ADMINISTRATION_TITLE'] = 'Administrationsmodus';
-	$i18n['MESSAGE'] = 'Nachricht';
-	$i18n['NOT_SET'] = 'Nicht gesetzt';
+	$i18n['ACTION_DELETE']					= 'L?schen';
+	$i18n['ACTION_MODIFY']					= '?ndern';
+
+
+
+	$i18n['MEDIA_AGERESTRICTION']			= 'Altersbeschr?nkung';
+	$i18n['MEDIA_CATEGORY']					= 'Kategorie';
+	$i18n['MEDIA_CODEC']					= 'Codec';
+	$i18n['MEDIA_COMMENT']					= 'Kommentar';
+	$i18n['MEDIA_CREATIONDATE']				= 'Erstellt am';
+	$i18n['MEDIA_DATA_AUDIO']				= 'Audiodaten';
+	$i18n['MEDIA_DATA_PRINT']				= 'Printdaten';
+	$i18n['MEDIA_DATA_VIDEO']				= 'Videodaten';
+	$i18n['MEDIA_FORMAT']					= 'Format';
+	$i18n['MEDIA_IDENTIFICATION']			= 'Identifiactionsnummer';
+	$i18n['MEDIA_IMAGE']					= 'Bild';
+	$i18n['MEDIA_MEDIANAME']				= 'Medienname';
+	$i18n['MEDIA_MEDIASIZE']				= 'Mediengr??e';
+	$i18n['MEDIA_MODIFICATIONDATE']			= 'Ge?ndert am';
+	$i18n['MEDIA_ORIGINALTITLE']			= 'Original Titel';
+	$i18n['MEDIA_PUBLISHER']				= 'Ver?ffentlicher';
+	$i18n['MEDIA_QUANTITY']					= 'Anzahl';
+	$i18n['MEDIA_RELEASEYEAR']				= 'Erscheinungsjahr';
+	$i18n['MEDIA_TITLE']					= 'Titel';
+
+	$i18n['MESSAGE']						= 'Nachricht';
+	$i18n['NOT_SET']						= 'Nicht gesetzt';
 	//$i18n['SMARTY_END'] = '';
 	//$i18n['SMARTY_START'] = '';
+	 
+	$i18n['BUTTON_ABORT']						= 'Abbrechen';
+	$i18n['BUTTON_ITEMDELETE']					= 'L?schen';
+	
+/* audio */
+	$i18n['MEDIA_AUDIO_IMAGEDELETE']			= 'Bild l?schen';
+	$i18n['MEDIA_AUDIO_ITEM_AGERESTRICTION']	= 'Altersbeschr?nkung';
+	$i18n['MEDIA_AUDIO_ITEM_CATEGORY']			= 'Kategorie';
+	$i18n['MEDIA_AUDIO_ITEM_CODEC']				= 'Codec';
+	$i18n['MEDIA_AUDIO_ITEM_COMMENT']			= 'Kommentar';
+	$i18n['MEDIA_AUDIO_ITEM_FORMAT']			= 'Format';
+	$i18n['MEDIA_AUDIO_ITEM_IDENTIFICATION']	= 'Identifikation';
+	$i18n['MEDIA_AUDIO_ITEM_IMAGE']				= 'Bild';
+	$i18n['MEDIA_AUDIO_ITEM_IMAGEURL']			= 'Bildadresse';
+	$i18n['MEDIA_AUDIO_ITEM_LOCATION']			= 'Standort';
+	$i18n['MEDIA_AUDIO_ITEM_MEDIANAME']			= 'Medienname';
+	$i18n['MEDIA_AUDIO_ITEM_MEDIASIZE']			= 'Gr??e';
+	$i18n['MEDIA_AUDIO_ITEM_ORIGINALTITLE']		= 'Original Titel';
+	$i18n['MEDIA_AUDIO_ITEM_PUBLISHER']			= 'Ver?ffentlicher';
+	$i18n['MEDIA_AUDIO_ITEM_QUANTITY']			= 'Anzahl';
+	$i18n['MEDIA_AUDIO_ITEM_RELEASEYEAR']		= 'Ver?ffentlichungsjahr';
+	$i18n['MEDIA_AUDIO_ITEM_TITLE']				= 'Titel';
+	$i18n['MEDIA_AUDIO_TITLE']					= 'Audio';
+	
+/* print */
+	$i18n['MEDIA_PRINT_IMAGEDELETE']			= 'Bild l?schen';
+	$i18n['MEDIA_PRINT_ITEM_AGERESTRICTION']	= 'Altersbeschr?nkung';
+	$i18n['MEDIA_PRINT_ITEM_CATEGORY']			= 'Kategorie';
+	$i18n['MEDIA_PRINT_ITEM_CODEC']				= 'Codec';
+	$i18n['MEDIA_PRINT_ITEM_COMMENT']			= 'Kommentar';
+	$i18n['MEDIA_PRINT_ITEM_FORMAT']			= 'Format';
+	$i18n['MEDIA_PRINT_ITEM_IDENTIFICATION']	= 'ISBN';
+	$i18n['MEDIA_PRINT_ITEM_IMAGE']				= 'Bild';
+	$i18n['MEDIA_PRINT_ITEM_IMAGEURL']			= 'Bildadresse';
+	$i18n['MEDIA_PRINT_ITEM_LOCATION']			= 'Standort';
+	$i18n['MEDIA_PRINT_ITEM_MEDIANAME']			= 'Medienname';
+	$i18n['MEDIA_PRINT_ITEM_MEDIASIZE']			= 'Gr??e';
+	$i18n['MEDIA_PRINT_ITEM_ORIGINALTITLE']		= 'Original Titel';
+	$i18n['MEDIA_PRINT_ITEM_PUBLISHER']			= 'Ver?ffentlicher';
+	$i18n['MEDIA_PRINT_ITEM_QUANTITY']			= 'Anzahl';
+	$i18n['MEDIA_PRINT_ITEM_RELEASEYEAR']		= 'Ver?ffentlichungsjahr';
+	$i18n['MEDIA_PRINT_ITEM_TITLE']				= 'Titel';
+	$i18n['MEDIA_PRINT_TITLE']					= 'Print';
+
+/* video */
+	$i18n['MEDIA_VIDEO_IMAGEDELETE']			= 'Bild l?schen';
+	$i18n['MEDIA_VIDEO_ITEM_AGERESTRICTION']	= 'Altersbeschr?nkung';
+	$i18n['MEDIA_VIDEO_ITEM_CATEGORY']			= 'Kategorie';
+	$i18n['MEDIA_VIDEO_ITEM_CODEC']				= 'Codec';
+	$i18n['MEDIA_VIDEO_ITEM_COMMENT']			= 'Kommentar';
+	$i18n['MEDIA_VIDEO_ITEM_FORMAT']			= 'Format';
+	$i18n['MEDIA_VIDEO_ITEM_IDENTIFICATION']	= 'Identifikation';
+	$i18n['MEDIA_VIDEO_ITEM_IMAGE']				= 'Bild';
+	$i18n['MEDIA_VIDEO_ITEM_IMAGEURL']			= 'Bildadresse';
+	$i18n['MEDIA_VIDEO_ITEM_LOCATION']			= 'Standort';
+	$i18n['MEDIA_VIDEO_ITEM_MEDIANAME']			= 'Medienname';
+	$i18n['MEDIA_VIDEO_ITEM_MEDIASIZE']			= 'Gr??e';
+	$i18n['MEDIA_VIDEO_ITEM_ORIGINALTITLE']		= 'Original Titel';
+	$i18n['MEDIA_VIDEO_ITEM_PUBLISHER']			= 'Ver?ffentlicher';
+	$i18n['MEDIA_VIDEO_ITEM_QUANTITY']			= 'Anzahl';
+	$i18n['MEDIA_VIDEO_ITEM_RELEASEYEAR']		= 'Ver?ffentlichungsjahr';
+	$i18n['MEDIA_VIDEO_ITEM_TITLE']				= 'Titel';
+	$i18n['MEDIA_VIDEO_TITLE']					= 'Video';
+
+/* */
+	$i18n['QUESTION_ITEMDELETE']				= 'Soll der Eintrag wirklich gel?scht werden?';
+	$i18n['MESSAGE_DELETION_SUCCESS']			= 'Eintrag wurde erfolgreich gel?scht.';
+	$i18n['MESSAGE_SAVE_SUCCESS']				= 'Eintrag wurde erfolgreich gespeichert.';
+
+
 	
 
 /******************************************************************************
@@ -151,7 +248,7 @@
 	$i18n['Category_Techno']						= 'Techno';
 	$i18n['Category_Industrial']					= 'Industrial';
 	$i18n['Category_Alternative']					= 'Alternative';
-//	$i18n['Category_Ska']							= 'Ska';
+	$i18n['Category_Ska']							= 'Ska';
 	$i18n['Category_Death-Metal']					= 'Death Metal';
 	$i18n['Category_Pranks']						= 'Pranks';
 	$i18n['Category_Soundtrack']					= 'Soundtrack';
@@ -191,7 +288,7 @@
 	$i18n['Category_Cult']							= 'Kult';
 	$i18n['Category_Gangsta']						= 'Gangsta';
 	$i18n['Category_Top-40']						= 'Top 40';
-//	$i18n['Category_Christian-Rap']					= 'Christian Rap';
+	$i18n['Category_Christian-Rap']					= 'Christlicher Rap';
 	$i18n['Category_Pop/Funk']						= 'Pop/Funk';
 	$i18n['Category_Jungle']						= 'Jungle';
 	$i18n['Category_Native-American']				= 'Native American';
@@ -239,7 +336,7 @@
 	$i18n['Category_Symphony']						= 'Symphonie';
 	$i18n['Category_Booty-Bass']					= 'Booty Bass';
 	$i18n['Category_Primus']						= 'Priums';
-//	$i18n['Category_Porn-Groove']					= 'Porn Groove';
+	$i18n['Category_Porn-Groove']					= 'Porn Groove';
 	$i18n['Category_Satire']						= 'Satire';
 	$i18n['Category_Slow-Jam']						= 'Slow Jam';
 	$i18n['Category_Club']							= 'Club';
@@ -263,15 +360,15 @@
 	$i18n['Category_Terror']						= 'Terror';
 	$i18n['Category_Indie']							= 'Indie';
 	$i18n['Category_BritPop']						= 'BritPop';
-//	$i18n['Category_Negerpunk']						= 'Negerpunk';
+	$i18n['Category_Negerpunk']						= 'Negerpunk';
 	$i18n['Category_Polsk-Punk']					= 'Polsk Punk';
 	$i18n['Category_Beat']							= 'Beat';
-//	$i18n['Category_Christian-Gangsta Rap']			= 'Christin Gangsta Rap';
+	$i18n['Category_Christian-Gangsta Rap']			= 'Christlicher Gangster Rap';
 	$i18n['Category_Heavy-Metal']					= 'Heavy Metal';
 	$i18n['Category_Black-Metal']					= 'Black Metal';
 	$i18n['Category_Crossover']						= 'Crossover';
-//	$i18n['Category_Contemporary-Christian']		= 'Contemporary Christian';
-//	$i18n['Category_Christian-Rock']				= 'Christian Rock';
+	$i18n['Category_Contemporary-Christian']		= 'Christlich Contemporary';
+	$i18n['Category_Christian-Rock']				= 'Christlicher Rock';
 	$i18n['Category_Merengue']						= 'Merengue';
 	$i18n['Category_Salsa']							= 'Salsa';
 	$i18n['Category_Trash-Metal']					= 'Trash Metal';



From nobody at sheep.berlios.de  Tue Apr 26 16:10:08 2005
From: nobody at sheep.berlios.de (bruf)
Date: Tue, 26 Apr 2005 16:10:08 +0200
Subject: [phpmediadb-cvs] phpmediadb-cvs/_source/tier.configuration/i18n i18n.en.php,1.6,1.7
Message-ID: <200504261410.j3QEA8m07814@bat.berlios.de>

Update of /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.configuration/i18n
In directory sheep:/tmp/cvs-serv29730/_source/tier.configuration/i18n

Modified Files:
	i18n.en.php 
Log Message:
* Added some translations

Index: i18n.en.php
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.configuration/i18n/i18n.en.php,v
retrieving revision 1.6
retrieving revision 1.7
diff -u -d -r1.6 -r1.7
--- i18n.en.php	20 Apr 2005 21:45:46 -0000	1.6
+++ i18n.en.php	26 Apr 2005 14:10:05 -0000	1.7
@@ -40,16 +40,15 @@
 /******************************************************************************
 *** HTML-Translations
 ******************************************************************************/
-	$i18n['MEDIA_VIDEO_TITLE'] = 'VIDEO';
+
 /* default i18ns */
-	$i18n['OK'] = 'Accept';
-	$i18n['CANCEL'] = 'Cancel';
-	$i18n['DELETE'] = 'Delete';
-	$i18n['DELETE'] = 'Delete';
-	$i18n['INPUT_FIELD'] = 'Inputfield';
+	$i18n['OK']				= 'Accept';
+	$i18n['CANCEL']			= 'Cancel';
+	$i18n['DELETE']			= 'Delete';
+	$i18n['INPUT_FIELD']	= 'Inputfield';
 	
 /* messages */
-	$i18n['MESSAGE_SUCCESS_SAVE']	= 'Element successful saved!';
+	$i18n['MESSAGE_SUCCESS_SAVE']	= 'Item successfully saved.';
 	
 /* errors */
 	$i18n['ERROR_INPUTSIZE']	= 'Inputsize to long.';
@@ -58,25 +57,26 @@
 	$i18n['ERROR_LISTLINK']		= '[Errorlist]';
 	
 /* formular */
-	$i18n['FORM_RESET'] = 'Reset';
-	$i18n['FORM_SUBMIT'] = 'Submit';
+	$i18n['FORM_RESET']					= 'Reset';
+	$i18n['FORM_SUBMIT']				= 'Submit';
+	$i18n['FORMULAR_OPTION_ITEM_EMPTY']	= ' ';
 	
 /* media data */
-	$i18n['MEDIA_TITLE'] = 'Mediantitel';
-	$i18n['MEDIA_ARTIST'] = 'Artist';
-	$i18n['MEDIA_Category'] = 'Category';
+	$i18n['MEDIA_TITLE']	= 'Mediatitel';
+	$i18n['MEDIA_ARTIST']	= 'Artist';
+	$i18n['MEDIA_Category']	= 'Category';
 	
 /* projectdata */
-	$i18n['PROJECT_SUBTITLE'] = 'The Media Database';
-	$i18n['PROJECT_LICENSED_UNDER'] = 'Licensed under';
-	$i18n['PROJECT_DESCRIPTION'] = 'Dieses Projekt dient zur Erfassung von auditiven, visuellen und Printmedien. Initiert wurde dieses Projekt von Boris Ruf und Markus Blaschke im Rahmen eines Technikerprojekts an der Werner-Siemens-Schule in Stuttgart.';
+	$i18n['PROJECT_SUBTITLE']		= 'The Media Database';
+	$i18n['PROJECT_LICENSED_UNDER']	= 'Licensed under';
+	$i18n['PROJECT_DESCRIPTION']	= 'Dieses Projekt dient zur Erfassung von auditiven, visuellen und Printmedien. Initiert wurde dieses Projekt von Boris Ruf und Markus Blaschke im Rahmen eines Technikerprojekts an der Werner-Siemens-Schule in Stuttgart.';
 	
 /* Menu items */
-	$i18n['MENU_TITLE'] = 'Navigation';
-	$i18n['MENU_HOME'] = 'Home';
-	$i18n['MENU_SEARCH'] = 'Search';
-	$i18n['MENU_LIST'] = 'List';
-	$i18n['MENU_ABOUT'] = 'About';
+	$i18n['MENU_TITLE']		= 'Navigation';
+	$i18n['MENU_HOME']		= 'Home';
+	$i18n['MENU_SEARCH']	= 'Search';
+	$i18n['MENU_LIST']		= 'List';
+	$i18n['MENU_ABOUT']		= 'About';
 
 
 /* Itemtypes */
@@ -87,38 +87,127 @@
 /* Site: HOME */
 	$i18n['HOME_WELCOME'] = 'Welcome to phpMediaDB';
 	
+/* */
+	$i18n['MEDIA_ITEM_CREATIONDATE']			= 'Created on';
+	$i18n['MEDIA_ITEM_MODIFICATIONDATE']		= 'Modified on';
+	
+/**/
+	$i18n['LIST_COLUMN_TITLE_MEDIATITLE']		= 'Title';
+	$i18n['LIST_COLUMN_TITLE_RELEASEDATE']		= 'Release Year';
+	$i18n['LIST_COLUMN_AUDIO_MEDIATITLE']		= 'Title';
+	$i18n['LIST_COLUMN_AUDIO_RELEASEDATE']		= 'Release Year';
+	$i18n['LIST_COLUMN_PRINT_MEDIATITLE']		= 'Title';
+	$i18n['LIST_COLUMN_PRINT_RELEASEDATE']		= 'Release Year';
+	$i18n['LIST_COLUMN_VIDEO_MEDIATITLE']		= 'Title';
+	$i18n['LIST_COLUMN_VIDEO_RELEASEDATE']		= 'Release Year';
+	
 /*----------------------------------------------------------*/	
-	$i18n['ACTION_DELETE'] = 'Delete';
-	$i18n['ACTION_MODIFY'] = 'Modify';
-	$i18n['ERROR_TITLE'] = 'Errortitle';
-	$i18n['ITEM_AUDIO'] = 'Audio';
-	$i18n['ITEM_PRINT'] = 'Print';
-	$i18n['ITEM_VIDEO'] = 'Video';
-	$i18n['LIST_COLUMN_TITLE_MEDIATITLE'] = '';
-	$i18n['LIST_COLUMN_TITLE_RELEASEDATE'] = '';
-	$i18n['MEDIA_AGERESTRICTION'] = 'Age Restriction';
-	$i18n['MEDIA_CATEGORY'] = 'Category';
-	$i18n['MEDIA_CODEC'] = 'Codec';
-	$i18n['MEDIA_COMMENT'] = 'Comment';
-	$i18n['MEDIA_CREATIONDATE'] = 'Creation Date';
-	$i18n['MEDIA_DATA_AUDIO'] = 'Audiodata';
-	$i18n['MEDIA_DATA_PRINT'] = 'Printdata';
-	$i18n['MEDIA_DATA_VIDEO'] = 'Videodata';
-	$i18n['MEDIA_FORMAT'] = 'Format';
-	$i18n['MEDIA_IDENTIFICATION'] = 'Identifiactionnumber';
-	$i18n['MEDIA_IMAGE'] = 'Bild';
-	$i18n['MEDIA_MEDIANAME'] = 'Medianame';
-	$i18n['MEDIA_MEDIASIZE'] = 'Mediasize';
-	$i18n['MEDIA_MODIFICATIONDATE'] = 'Modification Date';
-	$i18n['MEDIA_ORIGINALTITLE'] = 'Original Title';
-	$i18n['MEDIA_PUBLISHER'] = 'Publisher';
-	$i18n['MEDIA_QUANTITY'] = 'Quantity';
-	$i18n['MEDIA_RELEASEYEAR'] = 'Release Year';
-	$i18n['MEDIA_TITLE'] = 'Title';
-	$i18n['MENU_ADDITEM'] = 'Add Item';
-	$i18n['MENU_ADMINISTRATION_TITLE'] = 'Administration Mode';
-	$i18n['MESSAGE'] = 'Message';
-	$i18n['NOT_SET'] = 'Not set';
+	$i18n['ACTION_DELETE']					= 'Delete';
+	$i18n['ACTION_MODIFY']					= 'Modify';
+
+	//$i18n['SMARTY_END'] = '';
+	//$i18n['SMARTY_START'] = '';
+	 
+	$i18n['BUTTON_ABORT']						= 'Cancel';
+	$i18n['BUTTON_ITEMDELETE']					= 'Delete';
+	
+/* audio */
+	$i18n['MEDIA_AUDIO_IMAGEDELETE']			= 'Delete Image';
+	$i18n['MEDIA_AUDIO_ITEM_AGERESTRICTION']	= 'Age Restriction';
+	$i18n['MEDIA_AUDIO_ITEM_CATEGORY']			= 'Category';
+	$i18n['MEDIA_AUDIO_ITEM_CODEC']				= 'Codec';
+	$i18n['MEDIA_AUDIO_ITEM_COMMENT']			= 'Comment';
+	$i18n['MEDIA_AUDIO_ITEM_FORMAT']			= 'Format';
+	$i18n['MEDIA_AUDIO_ITEM_IDENTIFICATION']	= 'Identification';
+	$i18n['MEDIA_AUDIO_ITEM_IMAGE']				= 'Image';
+	$i18n['MEDIA_AUDIO_ITEM_IMAGEURL']			= 'Imageaddress';
+	$i18n['MEDIA_AUDIO_ITEM_LOCATION']			= 'Location';
+	$i18n['MEDIA_AUDIO_ITEM_MEDIANAME']			= 'Medianame';
+	$i18n['MEDIA_AUDIO_ITEM_MEDIASIZE']			= 'Size';
+	$i18n['MEDIA_AUDIO_ITEM_ORIGINALTITLE']		= 'Original Title';
+	$i18n['MEDIA_AUDIO_ITEM_PUBLISHER']			= 'Publisher';
+	$i18n['MEDIA_AUDIO_ITEM_QUANTITY']			= 'Quantity';
+	$i18n['MEDIA_AUDIO_ITEM_RELEASEYEAR']		= 'Release Year';
+	$i18n['MEDIA_AUDIO_ITEM_TITLE']				= 'Title';
+	$i18n['MEDIA_AUDIO_TITLE']					= 'Audio';
+	
+/* print */
+	$i18n['MEDIA_PRINT_IMAGEDELETE']			= 'Delete Image';
+	$i18n['MEDIA_PRINT_ITEM_AGERESTRICTION']	= 'Age Restriction';
+	$i18n['MEDIA_PRINT_ITEM_CATEGORY']			= 'Category';
+	$i18n['MEDIA_PRINT_ITEM_CODEC']				= 'Codec';
+	$i18n['MEDIA_PRINT_ITEM_COMMENT']			= 'Comment';
+	$i18n['MEDIA_PRINT_ITEM_FORMAT']			= 'Format';
+	$i18n['MEDIA_PRINT_ITEM_IDENTIFICATION']	= 'Identification';
+	$i18n['MEDIA_PRINT_ITEM_IMAGE']				= 'Image';
+	$i18n['MEDIA_PRINT_ITEM_IMAGEURL']			= 'Imageaddress';
+	$i18n['MEDIA_PRINT_ITEM_LOCATION']			= 'Location';
+	$i18n['MEDIA_PRINT_ITEM_MEDIANAME']			= 'Medianname';
+	$i18n['MEDIA_PRINT_ITEM_MEDIASIZE']			= 'Size';
+	$i18n['MEDIA_PRINT_ITEM_ORIGINALTITLE']		= 'Original Title';
+	$i18n['MEDIA_PRINT_ITEM_PUBLISHER']			= 'Publisher';
+	$i18n['MEDIA_PRINT_ITEM_QUANTITY']			= 'Quantity';
+	$i18n['MEDIA_PRINT_ITEM_RELEASEYEAR']		= 'Release Year';
+	$i18n['MEDIA_PRINT_ITEM_TITLE']				= 'Title';
+	$i18n['MEDIA_PRINT_TITLE']					= 'Print';
+
+/* video */
+	$i18n['MEDIA_VIDEO_IMAGEDELETE']			= 'Delete Image';
+	$i18n['MEDIA_VIDEO_ITEM_AGERESTRICTION']	= 'Age Restriction';
+	$i18n['MEDIA_VIDEO_ITEM_CATEGORY']			= 'Category';
+	$i18n['MEDIA_VIDEO_ITEM_CODEC']				= 'Codec';
+	$i18n['MEDIA_VIDEO_ITEM_COMMENT']			= 'Comment';
+	$i18n['MEDIA_VIDEO_ITEM_FORMAT']			= 'Format';
+	$i18n['MEDIA_VIDEO_ITEM_IDENTIFICATION']	= 'Identification';
+	$i18n['MEDIA_VIDEO_ITEM_IMAGE']				= 'Image';
+	$i18n['MEDIA_VIDEO_ITEM_IMAGEURL']			= 'Imageaddress';
+	$i18n['MEDIA_VIDEO_ITEM_LOCATION']			= 'Location';
+	$i18n['MEDIA_VIDEO_ITEM_MEDIANAME']			= 'Medianname';
+	$i18n['MEDIA_VIDEO_ITEM_MEDIASIZE']			= 'Size';
+	$i18n['MEDIA_VIDEO_ITEM_ORIGINALTITLE']		= 'Original Title';
+	$i18n['MEDIA_VIDEO_ITEM_PUBLISHER']			= 'Publisher';
+	$i18n['MEDIA_VIDEO_ITEM_QUANTITY']			= 'Quantity';
+	$i18n['MEDIA_VIDEO_ITEM_RELEASEYEAR']		= 'Release Year';
+	$i18n['MEDIA_VIDEO_ITEM_TITLE']				= 'Title';
+	$i18n['MEDIA_VIDEO_TITLE']					= 'Video';
+
+/* */
+	$i18n['QUESTION_ITEMDELETE']				= 'Do you want to delete this item?';
+	$i18n['MESSAGE_DELETION_SUCCESS']			= 'Item successfully deleted.';
+	$i18n['MESSAGE_SAVE_SUCCESS']				= 'Item successfully saved.';
+	
+/*----------------------------------------------------------*/	
+	$i18n['ACTION_DELETE']					= 'Delete';
+	$i18n['ACTION_MODIFY']					= 'Modify';
+	$i18n['ERROR_TITLE']					= 'Errortitle';
+	$i18n['ITEM_AUDIO']						= 'Audio';
+	$i18n['ITEM_PRINT']						= 'Print';
+	$i18n['ITEM_VIDEO'] 					= 'Video';
+	$i18n['LIST_COLUMN_TITLE_MEDIATITLE']	= 'Mediatitle';
+	$i18n['LIST_COLUMN_TITLE_RELEASEDATE']	= 'Release Year';
+	$i18n['MEDIA_AGERESTRICTION']			= 'Age Restriction';
+	$i18n['MEDIA_CATEGORY']					= 'Category';
+	$i18n['MEDIA_CODEC']					= 'Codec';
+	$i18n['MEDIA_COMMENT']					= 'Comment';
+	$i18n['MEDIA_CREATIONDATE']				= 'Creation Date';
+	$i18n['MEDIA_DATA_AUDIO']				= 'Audiodata';
+	$i18n['MEDIA_DATA_PRINT']				= 'Printdata';
+	$i18n['MEDIA_DATA_VIDEO']				= 'Videodata';
+	$i18n['MEDIA_FORMAT']					= 'Format';
+	$i18n['MEDIA_IDENTIFICATION']			= 'Identification';
+	$i18n['MEDIA_IMAGE']					= 'Image';
+	$i18n['MEDIA_MEDIANAME']				= 'Medianame';
+	$i18n['MEDIA_MEDIASIZE']				= 'Mediasize';
+	$i18n['MEDIA_MODIFICATIONDATE']			= 'Modification Date';
+	$i18n['MEDIA_ORIGINALTITLE']			= 'Original Title';
+	$i18n['MEDIA_PUBLISHER']				= 'Publisher';
+	$i18n['MEDIA_QUANTITY']					= 'Quantity';
+	$i18n['MEDIA_RELEASEYEAR']				= 'Release Year';
+	$i18n['MEDIA_TITLE']					= 'Title';
+	$i18n['MENU_ADDITEM']					= 'Add Item';
+	$i18n['MENU_ADMINISTRATION_TITLE']		= 'Administration';
+	$i18n['MESSAGE']						= 'Message';
+	$i18n['NOT_SET']						= 'Not set';
 	//$i18n['SMARTY_END'] = '';
 	//$i18n['SMARTY_START'] = '';
 	
@@ -130,7 +219,7 @@
 /* Categories */
 
 	$i18n['Category_Blues']							= 'Blues';
-	$i18n['Category_Classic Rock']					= 'Classic Rock';
+	$i18n['Category_Classic-Rock']					= 'Classic Rock';
 	$i18n['Category_Country']						= 'Country';
 	$i18n['Category_Dance']							= 'Dance';
 	$i18n['Category_Disco']							= 'Disco';
@@ -139,7 +228,7 @@
 	$i18n['Category_Hip-Hop']						= 'Hip-Hop';
 	$i18n['Category_Jazz']							= 'Jazz';
 	$i18n['Category_Metal']							= 'Metal';
-	$i18n['Category_New Age']						= 'New Age';
+	$i18n['Category_New-Age']						= 'New Age';
 	$i18n['Category_Oldies']						= 'Oldies';
 	$i18n['Category_Other']							= 'Other';
 	$i18n['Category_Pop']							= 'Pop';
@@ -150,8 +239,8 @@
 	$i18n['Category_Techno']						= 'Techno';
 	$i18n['Category_Industrial']					= 'Industrial';
 	$i18n['Category_Alternative']					= 'Alternative';
-//	$i18n['Category_Ska']							= 'Ska';
-	$i18n['Category_Death Metal']					= 'Death Metal';
+	$i18n['Category_Ska']							= 'Ska';
+	$i18n['Category_Death-Metal']					= 'Death Metal';
 	$i18n['Category_Pranks']						= 'Pranks';
 	$i18n['Category_Soundtrack']					= 'Soundtrack';
 	$i18n['Category_Euro-Techno']					= 'Euro-Techno';
@@ -166,7 +255,7 @@
 	$i18n['Category_Acid']							= 'Acid';
 	$i18n['Category_House']							= 'House';
 	$i18n['Category_Game']							= 'Game';
-	$i18n['Category_Sound Clip']					= 'Sound Clip';
+	$i18n['Category_Sound-Clip']					= 'Sound Clip';
 	$i18n['Category_Gospel']						= 'Gospel';
 	$i18n['Category_Noise']							= 'Noise';
 	$i18n['Category_AlternRock']					= 'AlternRock';
@@ -175,8 +264,8 @@
 	$i18n['Category_Punk']							= 'Punk';
 	$i18n['Category_Space']							= 'Space';
 	$i18n['Category_Meditative']					= 'Meditativ';
-	$i18n['Category_Instrumental Pop']				= 'Instrumental Pop';
-	$i18n['Category_Instrumental Rock']				= 'Instrumental Rock';
+	$i18n['Category_Instrumental-Pop']				= 'Instrumental Pop';
+	$i18n['Category_Instrumental-Rock']				= 'Instrumental Rock';
 	$i18n['Category_Ethnic']						= 'Ethnic';
 	$i18n['Category_Gothic']						= 'Gothic';
 	$i18n['Category_Darkwave']						= 'Darkwave';
@@ -185,15 +274,15 @@
 	$i18n['Category_Pop-Folk']						= 'Pop-Folk';
 	$i18n['Category_Eurodance']						= 'Eurodance';
 	$i18n['Category_Dream']							= 'Dream';
-	$i18n['Category_Southern Rock']					= 'Southern Rock';
+	$i18n['Category_Southern-Rock']					= 'Southern Rock';
 	$i18n['Category_Comedy']						= 'Comedy';
 	$i18n['Category_Cult']							= 'Kult';
 	$i18n['Category_Gangsta']						= 'Gangsta';
 	$i18n['Category_Top 40']						= 'Top 40';
-//	$i18n['Category_Christian Rap']					= 'Christian Rap';
+	$i18n['Category_Christian-Rap']					= 'Christian Rap';
 	$i18n['Category_Pop/Funk']						= 'Pop/Funk';
 	$i18n['Category_Jungle']						= 'Jungle';
-	$i18n['Category_Native American']				= 'Native American';
+	$i18n['Category_Native-American']				= 'Native American';
 	$i18n['Category_Cabaret']						= 'Cabaret';
 	$i18n['Category_New Wave']						= 'New Wave';
 	$i18n['Category_Psychadelic']					= 'Psychadelic';
@@ -202,78 +291,78 @@
 	$i18n['Category_Trailer']						= 'Trailer';
 	$i18n['Category_Lo-Fi']							= 'Lo-Fi';
 	$i18n['Category_Tribal']						= 'Tribal';
-	$i18n['Category_Acid Punk']						= 'Acid Punk';
-	$i18n['Category_Acid Jazz']						= 'Acid Jazz';
+	$i18n['Category_Acid-Punk']						= 'Acid Punk';
+	$i18n['Category_Acid-Jazz']						= 'Acid Jazz';
 	$i18n['Category_Polka']							= 'Polka';
 	$i18n['Category_Retro']							= 'Retro';
 	$i18n['Category_Musical']						= 'Musical';
-	$i18n['Category_Rock & Roll']					= 'Rock & Roll';
-	$i18n['Category_Hard Rock']						= 'Hard Rock';
+	$i18n['Category_Rock&Roll']					= 'Rock & Roll';
+	$i18n['Category_Hard-Rock']						= 'Hard Rock';
 	$i18n['Category_Folk']							= 'Folk';
 	$i18n['Category_Folk-Rock']						= 'Folk-Rock';
-	$i18n['Category_National Folk']					= 'National Folk';
+	$i18n['Category_National-Folk']					= 'National Folk';
 	$i18n['Category_Swing']							= 'Swing';
-	$i18n['Category_Fast Fusion']					= 'Fast Fusion';
+	$i18n['Category_Fast-Fusion']					= 'Fast Fusion';
 	$i18n['Category_Bebob']							= 'Bebob';
 	$i18n['Category_Latin']							= 'Latin';
 	$i18n['Category_Revival']						= 'Revival';
 	$i18n['Category_Celtic']						= 'Celtic';
 	$i18n['Category_Bluegrass']						= 'Bluegrass';
 	$i18n['Category_Avantgarde']					= 'Avantgarde';
-	$i18n['Category_Gothic Rock']					= 'Gothic Rock';
-	$i18n['Category_Progressive Rock']				= 'Progressive Rock';
-	$i18n['Category_Psychedelic Rock']				= 'Psychedelic Rock';
-	$i18n['Category_Symphonic Rock']				= 'Symphonic Rock';
-	$i18n['Category_Slow Rock']						= 'Slow Rock';
-	$i18n['Category_Big Band']						= 'Big Band';
+	$i18n['Category_Gothic-Rock']					= 'Gothic Rock';
+	$i18n['Category_Progressive-Rock']				= 'Progressive Rock';
+	$i18n['Category_Psychedelic-Rock']				= 'Psychedelic Rock';
+	$i18n['Category_Symphonic-Rock']				= 'Symphonic Rock';
+	$i18n['Category_Slow-Rock']						= 'Slow Rock';
+	$i18n['Category_Big-Band']						= 'Big Band';
 	$i18n['Category_Chorus']						= 'Chorus';
-	$i18n['Category_Easy Listening']				= 'Easy Listening';
+	$i18n['Category_Easy-Listening']				= 'Easy Listening';
 	$i18n['Category_Acoustic']						= 'Acoustic';
 	$i18n['Category_Humour']						= 'Humour';
 	$i18n['Category_Speech']						= 'Speech';
 	$i18n['Category_Chanson']						= 'Chanson';
 	$i18n['Category_Opera']							= 'Opera';
-	$i18n['Category_Chamber Music']					= 'Chamber Music';
+	$i18n['Category_Chamber-Music']					= 'Chamber Music';
 	$i18n['Category_Sonata']						= 'Sonate';
 	$i18n['Category_Symphony']						= 'Symphony';
-	$i18n['Category_Booty Bass']					= 'Booty Bass';
+	$i18n['Category_Booty-Bass']					= 'Booty Bass';
 	$i18n['Category_Primus']						= 'Priums';
-//	$i18n['Category_Porn Groove']					= 'Porn Groove';
+	$i18n['Category_Porn-Groove']					= 'Porn Groove';
 	$i18n['Category_Satire']						= 'Satire';
-	$i18n['Category_Slow Jam']						= 'Slow Jam';
+	$i18n['Category_Slow-Jam']						= 'Slow Jam';
 	$i18n['Category_Club']							= 'Club';
 	$i18n['Category_Tango']							= 'Tango';
 	$i18n['Category_Samba']							= 'Samba';
 	$i18n['Category_Folklore']						= 'Folklore';
 	$i18n['Category_Ballad']						= 'Ballade';
-	$i18n['Category_Power Ballad']					= 'Power Ballade';
+	$i18n['Category_Power-Ballad']					= 'Power Ballade';
 	$i18n['Category_Rhythmic Soul']					= 'Rhythmic Soul';
 	$i18n['Category_Freestyle']						= 'Freestyle';
 	$i18n['Category_Duet']							= 'Duet';
-	$i18n['Category_Punk Rock']						= 'Punk Rock';
-	$i18n['Category_Drum Solo']						= 'Drum Solo';
+	$i18n['Category_Punk-Rock']						= 'Punk Rock';
+	$i18n['Category_Drum-Solo']						= 'Drum Solo';
 	$i18n['Category_Acapella']						= 'Acapella';
 	$i18n['Category_Euro-House']					= 'Euro-House';
-	$i18n['Category_Dance Hall']					= 'Dance Hall';
-//	$i18n['Category_Goa']							= 'Goa';
-	$i18n['Category_Drum & Bass']					= 'Drum & Bass';
+	$i18n['Category_Dance-Hall']					= 'Dance Hall';
+	$i18n['Category_Goa']							= 'Goa';
+	$i18n['Category_Drum&Bass']					= 'Drum & Bass';
 	$i18n['Category_Club-House']					= 'Club-House';
 	$i18n['Category_Hardcore']						= 'Hardcore';
 	$i18n['Category_Terror']						= 'Terror';
 	$i18n['Category_Indie']							= 'Indie';
 	$i18n['Category_BritPop']						= 'BritPop';
-//	$i18n['Category_Negerpunk']						= 'Negerpunk';
-	$i18n['Category_Polsk Punk']					= 'Polsk Punk';
+	$i18n['Category_Negerpunk']						= 'Negerpunk';
+	$i18n['Category_Polsk-Punk']					= 'Polsk Punk';
 	$i18n['Category_Beat']							= 'Beat';
-//	$i18n['Category_Christian Gangsta Rap']			= 'Christin Gangsta Rap';
-	$i18n['Category_Heavy Metal']					= 'Heavy Metal';
-	$i18n['Category_Black Metal']					= 'Black Metal';
+	$i18n['Category_Christian-Gangsta-Rap']			= 'Christian Gangsta Rap';
+	$i18n['Category_Heavy-Metal']					= 'Heavy Metal';
+	$i18n['Category_Black-Metal']					= 'Black Metal';
 	$i18n['Category_Crossover']						= 'Crossover';
-//	$i18n['Category_Contemporary Christian']		= 'Contemporary Christian';
-//	$i18n['Category_Christian Rock']				= 'Christian Rock';
+	$i18n['Category_Contemporary-Christian']		= 'Contemporary Christian';
+	$i18n['Category_Christian-Rock']				= 'Christian Rock';
 	$i18n['Category_Merengue']						= 'Merengue';
 	$i18n['Category_Salsa']							= 'Salsa';
-	$i18n['Category_Trash Metal']					= 'Trash Metal';
+	$i18n['Category_Trash-Metal']					= 'Trash Metal';
 	$i18n['Category_Anime']							= 'Anime';
 	$i18n['Category_Jpop']							= 'Jpop';
 	$i18n['Category_Synthpop']						= 'Synthpop';



From nobody at sheep.berlios.de  Tue Apr 26 22:36:29 2005
From: nobody at sheep.berlios.de (mblaschke)
Date: Tue, 26 Apr 2005 22:36:29 +0200
Subject: [phpmediadb-cvs] phpmediadb-cvs/_source/tier.configuration/i18n i18n.de.php,1.10,1.11 i18n.en.php,1.7,1.8
Message-ID: <200504262036.j3QKaTm22250@bat.berlios.de>

Update of /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.configuration/i18n
In directory sheep:/tmp/cvs-serv27534/_source/tier.configuration/i18n

Modified Files:
	i18n.de.php i18n.en.php 
Log Message:
* Changed PROJECT_SUBTITLE

Index: i18n.de.php
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.configuration/i18n/i18n.de.php,v
retrieving revision 1.10
retrieving revision 1.11
diff -u -d -r1.10 -r1.11
--- i18n.de.php	26 Apr 2005 14:09:53 -0000	1.10
+++ i18n.de.php	26 Apr 2005 20:36:26 -0000	1.11
@@ -83,7 +83,7 @@
 	$i18n['MEDIA_Category']	= 'Kategorie';
 	
 /* projectdata */
-	$i18n['PROJECT_SUBTITLE']		= 'Die Mediendatenbank';
+	$i18n['PROJECT_SUBTITLE']		= 'OpenSource Mediendatenbank';
 	$i18n['PROJECT_LICENSED_UNDER']	= 'Lizenziert unter';
 	$i18n['PROJECT_DESCRIPTION']	= 'Dieses Projekt dient zur Erfassung von auditiven, visuellen und Printmedien. Initiert wurde dieses Projekt von Boris Ruf und Markus Blaschke im Rahmen eines Technikerprojekts an der Werner-Siemens-Schule in Stuttgart.';
 	

Index: i18n.en.php
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.configuration/i18n/i18n.en.php,v
retrieving revision 1.7
retrieving revision 1.8
diff -u -d -r1.7 -r1.8
--- i18n.en.php	26 Apr 2005 14:10:05 -0000	1.7
+++ i18n.en.php	26 Apr 2005 20:36:26 -0000	1.8
@@ -67,7 +67,7 @@
 	$i18n['MEDIA_Category']	= 'Category';
 	
 /* projectdata */
-	$i18n['PROJECT_SUBTITLE']		= 'The Media Database';
+	$i18n['PROJECT_SUBTITLE']		= 'OpenSource MediaDatabase';
 	$i18n['PROJECT_LICENSED_UNDER']	= 'Licensed under';
 	$i18n['PROJECT_DESCRIPTION']	= 'Dieses Projekt dient zur Erfassung von auditiven, visuellen und Printmedien. Initiert wurde dieses Projekt von Boris Ruf und Markus Blaschke im Rahmen eines Technikerprojekts an der Werner-Siemens-Schule in Stuttgart.';
 	



From nobody at sheep.berlios.de  Tue Apr 26 23:15:07 2005
From: nobody at sheep.berlios.de (mblaschke)
Date: Tue, 26 Apr 2005 23:15:07 +0200
Subject: [phpmediadb-cvs] phpmediadb-cvs/_source/tier.configuration/templates body.message.tpl,1.2,1.3
Message-ID: <200504262115.j3QLF7m22899@bat.berlios.de>

Update of /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.configuration/templates
In directory sheep:/tmp/cvs-serv29573/_source/tier.configuration/templates

Modified Files:
	body.message.tpl 
Log Message:
* Fixed i18n defaultstring of HYPERLINK_BACK

Index: body.message.tpl
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.configuration/templates/body.message.tpl,v
retrieving revision 1.2
retrieving revision 1.3
diff -u -d -r1.2 -r1.3
--- body.message.tpl	12 Apr 2005 18:56:09 -0000	1.2
+++ body.message.tpl	26 Apr 2005 21:15:05 -0000	1.3
@@ -1,5 +1,5 @@
 <div class="phpmediadb-body-message">
 {if $MESSAGE.TITLE neq ""}<h1>{$MESSAGE.TITLE}</h1>{/if}
 	{$MESSAGE.BODY}
-{if $MESSAGE.HYPERLINK_BACK neq ""}<br /><br /><a href="{$MESSAGE.HYPERLINK_BACK|default:"index.php"}">{$I18N.HYPERLINK_BACK|default:"HYPERLINK_BACK"}</a>{/if}
+{if $MESSAGE.HYPERLINK_BACK neq ""}<br /><br /><a href="{$MESSAGE.HYPERLINK_BACK|default:"index.php"}">{$I18N.HYPERLINK_BACK|default:"%HYPERLINK_BACK%"}</a>{/if}
 </div>



From nobody at sheep.berlios.de  Tue Apr 26 23:24:45 2005
From: nobody at sheep.berlios.de (mblaschke)
Date: Tue, 26 Apr 2005 23:24:45 +0200
Subject: [phpmediadb-cvs] phpmediadb-cvs/_source/tier.business class.phpmediadb_business_audios.php,1.12,1.13 class.phpmediadb_business_prints.php,1.9,1.10 class.phpmediadb_business_videos.php,1.9,1.10
Message-ID: <200504262124.j3QLOjm23351@bat.berlios.de>

Update of /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.business
In directory sheep:/tmp/cvs-serv30164/_source/tier.business

Modified Files:
	class.phpmediadb_business_audios.php 
	class.phpmediadb_business_prints.php 
	class.phpmediadb_business_videos.php 
Log Message:
* Fixed notice in create and modify

Index: class.phpmediadb_business_audios.php
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.business/class.phpmediadb_business_audios.php,v
retrieving revision 1.12
retrieving revision 1.13
diff -u -d -r1.12 -r1.13
--- class.phpmediadb_business_audios.php	22 Apr 2005 21:54:44 -0000	1.12
+++ class.phpmediadb_business_audios.php	26 Apr 2005 21:24:42 -0000	1.13
@@ -179,7 +179,7 @@
 		$itemId = $this->DATA->AUDIOS->create( $data );
 		
 		/* link item with categories */
-		if( is_array( $data['categories'] ) )
+		if( array_key_exists( 'categories', $data ) && is_array( $data['categories'] ) )
 		{
 			foreach( $data['categories'] as $categoryId )
 				$this->BUSINESS->CATEGORIES->addLink( $itemId, $categoryId );
@@ -211,7 +211,7 @@
 		$this->BUSINESS->CATEGORIES->removeAllLinks( $id );
 		
 		/* reassign new categories */
-		if( is_array( $data['categories'] ) )
+		if( array_key_exists( 'categories', $data ) && is_array( $data['categories'] ) )
 		{
 			foreach( $data['categories'] as $categoryId )
 				$this->BUSINESS->CATEGORIES->addLink( $id, $categoryId );

Index: class.phpmediadb_business_prints.php
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.business/class.phpmediadb_business_prints.php,v
retrieving revision 1.9
retrieving revision 1.10
diff -u -d -r1.9 -r1.10
--- class.phpmediadb_business_prints.php	22 Apr 2005 21:54:45 -0000	1.9
+++ class.phpmediadb_business_prints.php	26 Apr 2005 21:24:42 -0000	1.10
@@ -179,7 +179,7 @@
 		$itemId = $this->DATA->PRINTS->create( $data );
 		
 		/* link item with categories */
-		if( is_array( $data['categories'] ) )
+		if( array_key_exists( 'categories', $data ) && is_array( $data['categories'] ) )
 		{
 			foreach( $data['categories'] as $categoryId )
 				$this->BUSINESS->CATEGORIES->addLink( $itemId, $categoryId );
@@ -211,7 +211,7 @@
 		$this->BUSINESS->CATEGORIES->removeAllLinks( $id );
 		
 		/* reassign new categories */
-		if( is_array( $data['categories'] ) )
+		if( array_key_exists( 'categories', $data ) && is_array( $data['categories'] ) )
 		{
 			foreach( $data['categories'] as $categoryId )
 				$this->BUSINESS->CATEGORIES->addLink( $id, $categoryId );

Index: class.phpmediadb_business_videos.php
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.business/class.phpmediadb_business_videos.php,v
retrieving revision 1.9
retrieving revision 1.10
diff -u -d -r1.9 -r1.10
--- class.phpmediadb_business_videos.php	22 Apr 2005 21:54:45 -0000	1.9
+++ class.phpmediadb_business_videos.php	26 Apr 2005 21:24:42 -0000	1.10
@@ -179,7 +179,7 @@
 		$itemId = $this->DATA->VIDEOS->create( $data );
 		
 		/* link item with categories */
-		if( is_array( $data['categories'] ) )
+		if( array_key_exists( 'categories', $data ) && is_array( $data['categories'] ) )
 		{
 			foreach( $data['categories'] as $categoryId )
 				$this->BUSINESS->CATEGORIES->addLink( $itemId, $categoryId );
@@ -211,7 +211,7 @@
 		$this->BUSINESS->CATEGORIES->removeAllLinks( $id );
 		
 		/* reassign new categories */
-		if( is_array( $data['categories'] ) )
+		if( array_key_exists( 'categories', $data ) && is_array( $data['categories'] ) )
 		{
 			foreach( $data['categories'] as $categoryId )
 				$this->BUSINESS->CATEGORIES->addLink( $id, $categoryId );



From nobody at sheep.berlios.de  Tue Apr 26 23:37:11 2005
From: nobody at sheep.berlios.de (mblaschke)
Date: Tue, 26 Apr 2005 23:37:11 +0200
Subject: [phpmediadb-cvs] phpmediadb-cvs/_source/tier.data class.phpmediadb_data_prints.php,1.20,1.21 class.phpmediadb_data_videos.php,1.19,1.20
Message-ID: <200504262137.j3QLbBm23809@bat.berlios.de>

Update of /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.data
In directory sheep:/tmp/cvs-serv30724/_source/tier.data

Modified Files:
	class.phpmediadb_data_prints.php 
	class.phpmediadb_data_videos.php 
Log Message:
* Fixed returnvalue of create and modify

Index: class.phpmediadb_data_prints.php
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.data/class.phpmediadb_data_prints.php,v
retrieving revision 1.20
retrieving revision 1.21
diff -u -d -r1.20 -r1.21
--- class.phpmediadb_data_prints.php	25 Apr 2005 19:54:20 -0000	1.20
+++ class.phpmediadb_data_prints.php	26 Apr 2005 21:37:09 -0000	1.21
@@ -298,6 +298,8 @@
 			/* handle exception and terminate script */
 			phpmediadb_exception::handleException( $exception );
 		}
+		
+		return true;
 	}
 
 //-----------------------------------------------------------------------------

Index: class.phpmediadb_data_videos.php
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.data/class.phpmediadb_data_videos.php,v
retrieving revision 1.19
retrieving revision 1.20
diff -u -d -r1.19 -r1.20
--- class.phpmediadb_data_videos.php	25 Apr 2005 19:54:20 -0000	1.19
+++ class.phpmediadb_data_videos.php	26 Apr 2005 21:37:09 -0000	1.20
@@ -298,6 +298,8 @@
 			/* handle exception and terminate script */
 			phpmediadb_exception::handleException( $exception );
 		}
+		
+		return true;
 	}
 
 //-----------------------------------------------------------------------------



From nobody at sheep.berlios.de  Wed Apr 27 21:05:28 2005
From: nobody at sheep.berlios.de (mblaschke)
Date: Wed, 27 Apr 2005 21:05:28 +0200
Subject: [phpmediadb-cvs] phpmediadb-cvs/_source/tier.configuration/i18n i18n.de.php,1.11,1.12 i18n.en.php,1.8,1.9
Message-ID: <200504271905.j3RJ5Sm00628@bat.berlios.de>

Update of /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.configuration/i18n
In directory sheep:/tmp/cvs-serv32178/_source/tier.configuration/i18n

Modified Files:
	i18n.de.php i18n.en.php 
Log Message:
* Fixed some strings

Index: i18n.de.php
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.configuration/i18n/i18n.de.php,v
retrieving revision 1.11
retrieving revision 1.12
diff -u -d -r1.11 -r1.12
--- i18n.de.php	26 Apr 2005 20:36:26 -0000	1.11
+++ i18n.de.php	27 Apr 2005 19:05:25 -0000	1.12
@@ -68,14 +68,15 @@
 	$i18n['HTTP_ERROR_500_TITLE']				= '';
 	$i18n['HTTP_ERROR_UNKNOWN_BODY']			= '';
 	$i18n['HTTP_ERROR_UNKNOWN_TITLE']			= '';
-	$i18n['MESSAGE_ITEMID_NOTNUMERICAL']		= '';
-	$i18n['MESSAGE_ITEM_LOADERROR']				= '';
-	$i18n['MESSAGE_ITEM_NOTEXISTENT']			= '';
+	$i18n['MESSAGE_ITEMID_NOTNUMERICAL']		= 'Die gew?hlte Item-Nummer ist nicht nummerisch!';
+	$i18n['MESSAGE_ITEM_LOADERROR']				= 'Das Medium konnte nicht geladen werden.';
+	$i18n['MESSAGE_ITEM_NOTEXISTENT']			= 'Das Medium existiert nicht.';
 	
 /* formular */
 	$i18n['FORM_RESET']					= 'Zur?cksetzen';
 	$i18n['FORM_SUBMIT']				= 'Absenden';
-	$i18n['FORMULAR_OPTION_ITEM_EMPTY']	= ' ';
+	$i18n['FORMULAR_OPTION_ITEM_EMPTY']	= 'Bitte w?hlen / Keine Auswahl';
+	$i18n['HYPERLINK_BACK']				= '<< Zur?ck';
 	
 /* media data */
 	$i18n['MEDIA_TITLE']	= 'Medientitel';
@@ -147,8 +148,6 @@
 
 	$i18n['MESSAGE']						= 'Nachricht';
 	$i18n['NOT_SET']						= 'Nicht gesetzt';
-	//$i18n['SMARTY_END'] = '';
-	//$i18n['SMARTY_START'] = '';
 	 
 	$i18n['BUTTON_ABORT']						= 'Abbrechen';
 	$i18n['BUTTON_ITEMDELETE']					= 'L?schen';
@@ -165,7 +164,7 @@
 	$i18n['MEDIA_AUDIO_ITEM_IMAGEURL']			= 'Bildadresse';
 	$i18n['MEDIA_AUDIO_ITEM_LOCATION']			= 'Standort';
 	$i18n['MEDIA_AUDIO_ITEM_MEDIANAME']			= 'Medienname';
-	$i18n['MEDIA_AUDIO_ITEM_MEDIASIZE']			= 'Gr??e';
+	$i18n['MEDIA_AUDIO_ITEM_MEDIASIZE']			= 'L?nge (Min)';
 	$i18n['MEDIA_AUDIO_ITEM_ORIGINALTITLE']		= 'Original Titel';
 	$i18n['MEDIA_AUDIO_ITEM_PUBLISHER']			= 'Ver?ffentlicher';
 	$i18n['MEDIA_AUDIO_ITEM_QUANTITY']			= 'Anzahl';
@@ -185,7 +184,7 @@
 	$i18n['MEDIA_PRINT_ITEM_IMAGEURL']			= 'Bildadresse';
 	$i18n['MEDIA_PRINT_ITEM_LOCATION']			= 'Standort';
 	$i18n['MEDIA_PRINT_ITEM_MEDIANAME']			= 'Medienname';
-	$i18n['MEDIA_PRINT_ITEM_MEDIASIZE']			= 'Gr??e';
+	$i18n['MEDIA_PRINT_ITEM_MEDIASIZE']			= 'Seitenanzahl';
 	$i18n['MEDIA_PRINT_ITEM_ORIGINALTITLE']		= 'Original Titel';
 	$i18n['MEDIA_PRINT_ITEM_PUBLISHER']			= 'Ver?ffentlicher';
 	$i18n['MEDIA_PRINT_ITEM_QUANTITY']			= 'Anzahl';
@@ -205,7 +204,7 @@
 	$i18n['MEDIA_VIDEO_ITEM_IMAGEURL']			= 'Bildadresse';
 	$i18n['MEDIA_VIDEO_ITEM_LOCATION']			= 'Standort';
 	$i18n['MEDIA_VIDEO_ITEM_MEDIANAME']			= 'Medienname';
-	$i18n['MEDIA_VIDEO_ITEM_MEDIASIZE']			= 'Gr??e';
+	$i18n['MEDIA_VIDEO_ITEM_MEDIASIZE']			= 'L?nge (Min)';
 	$i18n['MEDIA_VIDEO_ITEM_ORIGINALTITLE']		= 'Original Titel';
 	$i18n['MEDIA_VIDEO_ITEM_PUBLISHER']			= 'Ver?ffentlicher';
 	$i18n['MEDIA_VIDEO_ITEM_QUANTITY']			= 'Anzahl';
@@ -394,7 +393,7 @@
 	$i18n['Category_Sci-Fi']		= 'Sciene-Fiction';
 	$i18n['Category_Short']			= 'Short Movie';
 	$i18n['Category_Thriller']		= 'Thriller';
-	$i18n['Category_War']			= 'Kri';
+	$i18n['Category_War']			= 'Krieg';
 	$i18n['Category_Western']		= 'Western';
 	
 	$i18n['AgeRestriction_Free']		= 'Keine Beschr?nkung';

Index: i18n.en.php
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.configuration/i18n/i18n.en.php,v
retrieving revision 1.8
retrieving revision 1.9
diff -u -d -r1.8 -r1.9
--- i18n.en.php	26 Apr 2005 20:36:26 -0000	1.8
+++ i18n.en.php	27 Apr 2005 19:05:25 -0000	1.9
@@ -59,10 +59,11 @@
 /* formular */
 	$i18n['FORM_RESET']					= 'Reset';
 	$i18n['FORM_SUBMIT']				= 'Submit';
-	$i18n['FORMULAR_OPTION_ITEM_EMPTY']	= ' ';
+	$i18n['FORMULAR_OPTION_ITEM_EMPTY']	= 'Choose please / No choice ';
+	$i18n['HYPERLINK_BACK']				= '<< Back';
 	
 /* media data */
-	$i18n['MEDIA_TITLE']	= 'Mediatitel';
+	$i18n['MEDIA_TITLE']	= 'Mediatitle';
 	$i18n['MEDIA_ARTIST']	= 'Artist';
 	$i18n['MEDIA_Category']	= 'Category';
 	
@@ -105,8 +106,6 @@
 	$i18n['ACTION_DELETE']					= 'Delete';
 	$i18n['ACTION_MODIFY']					= 'Modify';
 
-	//$i18n['SMARTY_END'] = '';
-	//$i18n['SMARTY_START'] = '';
 	 
 	$i18n['BUTTON_ABORT']						= 'Cancel';
 	$i18n['BUTTON_ITEMDELETE']					= 'Delete';
@@ -123,7 +122,7 @@
 	$i18n['MEDIA_AUDIO_ITEM_IMAGEURL']			= 'Imageaddress';
 	$i18n['MEDIA_AUDIO_ITEM_LOCATION']			= 'Location';
 	$i18n['MEDIA_AUDIO_ITEM_MEDIANAME']			= 'Medianame';
-	$i18n['MEDIA_AUDIO_ITEM_MEDIASIZE']			= 'Size';
+	$i18n['MEDIA_AUDIO_ITEM_MEDIASIZE']			= 'Length (Min)';
 	$i18n['MEDIA_AUDIO_ITEM_ORIGINALTITLE']		= 'Original Title';
 	$i18n['MEDIA_AUDIO_ITEM_PUBLISHER']			= 'Publisher';
 	$i18n['MEDIA_AUDIO_ITEM_QUANTITY']			= 'Quantity';
@@ -143,7 +142,7 @@
 	$i18n['MEDIA_PRINT_ITEM_IMAGEURL']			= 'Imageaddress';
 	$i18n['MEDIA_PRINT_ITEM_LOCATION']			= 'Location';
 	$i18n['MEDIA_PRINT_ITEM_MEDIANAME']			= 'Medianname';
-	$i18n['MEDIA_PRINT_ITEM_MEDIASIZE']			= 'Size';
+	$i18n['MEDIA_PRINT_ITEM_MEDIASIZE']			= 'Pages';
 	$i18n['MEDIA_PRINT_ITEM_ORIGINALTITLE']		= 'Original Title';
 	$i18n['MEDIA_PRINT_ITEM_PUBLISHER']			= 'Publisher';
 	$i18n['MEDIA_PRINT_ITEM_QUANTITY']			= 'Quantity';
@@ -163,7 +162,7 @@
 	$i18n['MEDIA_VIDEO_ITEM_IMAGEURL']			= 'Imageaddress';
 	$i18n['MEDIA_VIDEO_ITEM_LOCATION']			= 'Location';
 	$i18n['MEDIA_VIDEO_ITEM_MEDIANAME']			= 'Medianname';
-	$i18n['MEDIA_VIDEO_ITEM_MEDIASIZE']			= 'Size';
+	$i18n['MEDIA_VIDEO_ITEM_MEDIASIZE']			= 'Length';
 	$i18n['MEDIA_VIDEO_ITEM_ORIGINALTITLE']		= 'Original Title';
 	$i18n['MEDIA_VIDEO_ITEM_PUBLISHER']			= 'Publisher';
 	$i18n['MEDIA_VIDEO_ITEM_QUANTITY']			= 'Quantity';
@@ -204,12 +203,10 @@
 	$i18n['MEDIA_QUANTITY']					= 'Quantity';
 	$i18n['MEDIA_RELEASEYEAR']				= 'Release Year';
 	$i18n['MEDIA_TITLE']					= 'Title';
-	$i18n['MENU_ADDITEM']					= 'Add Item';
+	$i18n['MENU_ADDITEM']					= 'Add Media';
 	$i18n['MENU_ADMINISTRATION_TITLE']		= 'Administration';
 	$i18n['MESSAGE']						= 'Message';
 	$i18n['NOT_SET']						= 'Not set';
-	//$i18n['SMARTY_END'] = '';
-	//$i18n['SMARTY_START'] = '';
 	
 
 /******************************************************************************
@@ -388,11 +385,11 @@
 	$i18n['Category_War']			= 'War';
 	$i18n['Category_Western']		= 'Western';
 	
-	$i18n['AgeRestriction_Free']		= 'Keine Beschr?nkung';
-	$i18n['AgeRestriction_6Years']		= 'Ab 6 Jahre';
-	$i18n['AgeRestriction_12Years']		= 'Ab 12 Jahre';
-	$i18n['AgeRestriction_16Years']		= 'Ab 16 Jahre';
-	$i18n['AgeRestriction_18Years']		= 'Ab 18 Jahre';
+	$i18n['AgeRestriction_Free']		= 'No Restriction';
+	$i18n['AgeRestriction_6Years']		= '6 Years';
+	$i18n['AgeRestriction_12Years']		= '12 Years';
+	$i18n['AgeRestriction_16Years']		= '16 Years';
+	$i18n['AgeRestriction_18Years']		= '18 Years';
 	
 	$i18n['Codec_MP3']			= 'MP3';
 	$i18n['Codec_Vorbis']		= 'Ogg Vorbis';
@@ -418,7 +415,7 @@
 	$i18n['Format_AudioCD']		= 'AudioCD';
 	$i18n['Format_AudioDVD']	= 'AudioDVD';
 	$i18n['Format_MiniDisc']	= 'MiniDisc';
-	$i18n['Format_Cassette']	= 'Kassette';
+	$i18n['Format_Cassette']	= 'Cassette';
 	$i18n['Format_DV']			= 'DV';
 	$i18n['Format_VHS']			= 'VHS';
 	$i18n['Format_SVHS']		= 'SVHS';



From nobody at sheep.berlios.de  Fri Apr 29 16:11:46 2005
From: nobody at sheep.berlios.de (mblaschke)
Date: Fri, 29 Apr 2005 16:11:46 +0200
Subject: [phpmediadb-cvs] phpmediadb-cvs/_source/tier.presentation class.phpmediadb_presentation_i18n.php,1.14,1.15
Message-ID: <200504291411.j3TEBkm09011@bat.berlios.de>

Update of /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.presentation
In directory sheep:/tmp/cvs-serv17866/_source/tier.presentation

Modified Files:
	class.phpmediadb_presentation_i18n.php 
Log Message:
* Fixed little typo

Index: class.phpmediadb_presentation_i18n.php
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.presentation/class.phpmediadb_presentation_i18n.php,v
retrieving revision 1.14
retrieving revision 1.15
diff -u -d -r1.14 -r1.15
--- class.phpmediadb_presentation_i18n.php	25 Apr 2005 19:55:28 -0000	1.14
+++ class.phpmediadb_presentation_i18n.php	29 Apr 2005 14:11:43 -0000	1.15
@@ -245,7 +245,7 @@
   	
   		if( key_exists( $this->availableLanguagesContainer, $langCode ) && !$this->PRESENTATION->configuration['i18n']['forcedLanguage'] )
   		{
-  			$this->loadLanagueFile( $langCode );
+  			$this->loadLanguageFile( $langCode );
   		
   			/* save i18n-vars to contentvars */
   			$this->PRESENTATION->CONTENTVARS->addNode( 'I18N', $this->getLanguageArray() );
@@ -377,7 +377,7 @@
 		$this->langCode = $this->getBrowserLanguage();
 		
 		/* load language file */
-		$this->loadLanagueFile( $this->langCode );
+		$this->loadLanguageFile( $this->langCode );
 		
 		/* save i18n-vars to contentvars */
 		$this->PRESENTATION->CONTENTVARS->addNode( 'I18N', $this->getLanguageArray() );
@@ -391,7 +391,7 @@
 	 * @param String $langCode Langcode which should be loaded
 	 * @return void
 	 */
-	protected function loadLanagueFile( $langCode )
+	protected function loadLanguageFile( $langCode )
 	{
 		/* security check - langcode*/
 		if( eregi( '^[a-z]+$', $langCode ) )



From nobody at sheep.berlios.de  Sat Apr 30 20:21:59 2005
From: nobody at sheep.berlios.de (mblaschke)
Date: Sat, 30 Apr 2005 20:21:59 +0200
Subject: [phpmediadb-cvs] phpmediadb-cvs/_source/tier.configuration/templates body.search.header.tpl,1.1,1.2
Message-ID: <200504301821.j3UILxm23486@bat.berlios.de>

Update of /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.configuration/templates
In directory sheep:/tmp/cvs-serv17926/_source/tier.configuration/templates

Modified Files:
	body.search.header.tpl 
Log Message:
* Changed message to "NOT_IMPLEMENTED"

Index: body.search.header.tpl
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.configuration/templates/body.search.header.tpl,v
retrieving revision 1.1
retrieving revision 1.2
diff -u -d -r1.1 -r1.2
--- body.search.header.tpl	8 Mar 2005 20:47:16 -0000	1.1
+++ body.search.header.tpl	30 Apr 2005 18:21:56 -0000	1.2
@@ -1,5 +1,5 @@
 <form action="search.php">
 <div id="phpmediadb-body-search-header">
- SUCHFELD
+ {$I18N.NOT_IMPLEMENTED|default:"%NOT_IMPLEMENTED%"}
 </div>
 </form>



From nobody at sheep.berlios.de  Sat Apr 30 20:22:17 2005
From: nobody at sheep.berlios.de (mblaschke)
Date: Sat, 30 Apr 2005 20:22:17 +0200
Subject: [phpmediadb-cvs] phpmediadb-cvs/_source/tier.configuration/i18n i18n.de.php,1.12,1.13 i18n.en.php,1.9,1.10
Message-ID: <200504301822.j3UIMHm23492@bat.berlios.de>

Update of /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.configuration/i18n
In directory sheep:/tmp/cvs-serv17932/_source/tier.configuration/i18n

Modified Files:
	i18n.de.php i18n.en.php 
Log Message:
* Updated, added NOT_IMPLEMENTED

Index: i18n.de.php
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.configuration/i18n/i18n.de.php,v
retrieving revision 1.12
retrieving revision 1.13
diff -u -d -r1.12 -r1.13
--- i18n.de.php	27 Apr 2005 19:05:25 -0000	1.12
+++ i18n.de.php	30 Apr 2005 18:22:15 -0000	1.13
@@ -44,17 +44,18 @@
 	$i18n['MEDIA_VIDEO_TITLE'] = 'audio-visuelles Medium';
 	
 /* default i18ns */
-	$i18n['OK']				= 'Akzeptieren';
-	$i18n['CANCEL']			= 'Abbrechen';
-	$i18n['DELETE']			= 'L?schen';
-	$i18n['INPUT_FIELD']	= 'Eingabefeld';
+	$i18n['OK']					= 'Akzeptieren';
+	$i18n['CANCEL']				= 'Abbrechen';
+	$i18n['DELETE']				= 'L?schen';
+	$i18n['INPUT_FIELD']		= 'Eingabefeld';
+	$i18n['NOT_IMPLEMENTED']	= 'Diese Funktion ist in dieser Version noch nicht implementiert worden.';
 	
 /* messages */
 	$i18n['MESSAGE_SUCCESS_SAVE']	= 'Element erfolgreich gespeichert!';
 	
 /* errors */
 	$i18n['ERROR_TITLE']						= 'Fehlertitel';
-	$i18n['ERROR_INPUTSIZE']					= 'Eingabe zu gro?.';
+	$i18n['ERROR_INPUTSIZE']					= 'Eingabe zu lang.';
 	$i18n['ERROR_INPUTREGEX']					= 'Eingabe nicht korrekt.';
 	$i18n['ERROR_OCCURRED']						= 'Es sind Eingabefehler auftreten.';
 	$i18n['ERROR_LISTLINK']						= '[Fehlerliste]';
@@ -68,7 +69,7 @@
 	$i18n['HTTP_ERROR_500_TITLE']				= '';
 	$i18n['HTTP_ERROR_UNKNOWN_BODY']			= '';
 	$i18n['HTTP_ERROR_UNKNOWN_TITLE']			= '';
-	$i18n['MESSAGE_ITEMID_NOTNUMERICAL']		= 'Die gew?hlte Item-Nummer ist nicht nummerisch!';
+	$i18n['MESSAGE_ITEMID_NOTNUMERICAL']		= 'Die gew?hlte Medien-Nummer ist nicht nummerisch!';
 	$i18n['MESSAGE_ITEM_LOADERROR']				= 'Das Medium konnte nicht geladen werden.';
 	$i18n['MESSAGE_ITEM_NOTEXISTENT']			= 'Das Medium existiert nicht.';
 	
@@ -94,7 +95,7 @@
 	$i18n['MENU_SEARCH']				= 'Suche';
 	$i18n['MENU_LIST']					= 'Liste';
 	$i18n['MENU_ABOUT']					= '?ber uns';
-	$i18n['MENU_ADDITEM']				= 'Item hinzuf?gen';
+	$i18n['MENU_ADDITEM']				= 'Medium hinzuf?gen';
 	$i18n['MENU_ADMINISTRATION_TITLE']	= 'Administration';
 
 

Index: i18n.en.php
===================================================================
RCS file: /cvsroot/phpmediadb/phpmediadb-cvs/_source/tier.configuration/i18n/i18n.en.php,v
retrieving revision 1.9
retrieving revision 1.10
diff -u -d -r1.9 -r1.10
--- i18n.en.php	27 Apr 2005 19:05:25 -0000	1.9
+++ i18n.en.php	30 Apr 2005 18:22:15 -0000	1.10
@@ -42,18 +42,20 @@
 ******************************************************************************/
 
 /* default i18ns */
-	$i18n['OK']				= 'Accept';
-	$i18n['CANCEL']			= 'Cancel';
-	$i18n['DELETE']			= 'Delete';
-	$i18n['INPUT_FIELD']	= 'Inputfield';
+	$i18n['OK']					= 'Accept';
+	$i18n['CANCEL']				= 'Cancel';
+	$i18n['DELETE']				= 'Delete';
+	$i18n['INPUT_FIELD']		= 'Inputfield';
+	$i18n['NOT_IMPLEMENTED']	= 'This function is not implemented in this version.';
+	
 	
 /* messages */
-	$i18n['MESSAGE_SUCCESS_SAVE']	= 'Item successfully saved.';
+	$i18n['MESSAGE_SUCCESS_SAVE']	= 'Media successfully saved.';
 	
 /* errors */
 	$i18n['ERROR_INPUTSIZE']	= 'Inputsize to long.';
 	$i18n['ERROR_INPUTREGEX']	= 'Input incorrect';
-	$i18n['ERROR_OCCURRED']		= 'An inputerror occurred auftreten.';
+	$i18n['ERROR_OCCURRED']		= 'An inputerror occurred.';
 	$i18n['ERROR_LISTLINK']		= '[Errorlist]';
 	
 /* formular */
@@ -171,7 +173,7 @@
 	$i18n['MEDIA_VIDEO_TITLE']					= 'Video';
 
 /* */
-	$i18n['QUESTION_ITEMDELETE']				= 'Do you want to delete this item?';
+	$i18n['QUESTION_ITEMDELETE']				= 'Do you want to delete this media?';
 	$i18n['MESSAGE_DELETION_SUCCESS']			= 'Item successfully deleted.';
 	$i18n['MESSAGE_SAVE_SUCCESS']				= 'Item successfully saved.';
 	
@@ -293,7 +295,7 @@
 	$i18n['Category_Polka']							= 'Polka';
 	$i18n['Category_Retro']							= 'Retro';
 	$i18n['Category_Musical']						= 'Musical';
-	$i18n['Category_Rock&Roll']					= 'Rock & Roll';
+	$i18n['Category_Rock&Roll']						= 'Rock & Roll';
 	$i18n['Category_Hard-Rock']						= 'Hard Rock';
 	$i18n['Category_Folk']							= 'Folk';
 	$i18n['Category_Folk-Rock']						= 'Folk-Rock';
@@ -342,7 +344,7 @@
 	$i18n['Category_Euro-House']					= 'Euro-House';
 	$i18n['Category_Dance-Hall']					= 'Dance Hall';
 	$i18n['Category_Goa']							= 'Goa';
-	$i18n['Category_Drum&Bass']					= 'Drum & Bass';
+	$i18n['Category_Drum&Bass']						= 'Drum & Bass';
 	$i18n['Category_Club-House']					= 'Club-House';
 	$i18n['Category_Hardcore']						= 'Hardcore';
 	$i18n['Category_Terror']						= 'Terror';



